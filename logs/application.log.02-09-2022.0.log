2022-09-02 22:06:03.558  INFO 8336 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 8336 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 22:06:03.565  INFO 8336 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 22:06:03.634  INFO 8336 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 22:06:03.634  INFO 8336 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 22:06:05.703  WARN 8336 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:06:05.723  WARN 8336 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:06:06.549  INFO 8336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 22:06:06.780  INFO 8336 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 201 ms. Found 2 JPA repository interfaces.
2022-09-02 22:06:07.263  INFO 8336 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 22:06:07.433  INFO 8336 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f84708db-a08e-357b-9ccb-ad18edbafd32
2022-09-02 22:06:07.636  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#364e04b9#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.637  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#364e04b9#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.641  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#72d3b9de#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.643  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4e5d87fd' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.770  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.772  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.792  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5abe3674' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.794  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5abe3674' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.796  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5c067209' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.799  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5c067209' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:07.802  INFO 8336 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:06:08.562  INFO 8336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 22:06:08.575  INFO 8336 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 22:06:08.575  INFO 8336 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 22:06:08.752  INFO 8336 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 22:06:08.752  INFO 8336 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5116 ms
2022-09-02 22:06:09.098  INFO 8336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 22:06:09.412  INFO 8336 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 22:06:09.430  INFO 8336 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 22:06:10.218  INFO 8336 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 22:06:10.357  INFO 8336 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 22:06:11.012  INFO 8336 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 22:06:11.093  INFO 8336 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 22:06:11.215  INFO 8336 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 22:06:11.296  INFO 8336 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 22:06:11.478  INFO 8336 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 22:06:11.630  INFO 8336 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 22:06:12.444  INFO 8336 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 22:06:12.455  INFO 8336 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:06:12.724  INFO 8336 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 22:06:12.861  INFO 8336 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 22:06:12.861  INFO 8336 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 22:06:12.862  INFO 8336 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 22:06:12.876  INFO 8336 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:06:12.877  INFO 8336 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:06:12.878  INFO 8336 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:06:12.879  INFO 8336 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:06:13.538  WARN 8336 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 22:06:16.341  WARN 8336 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 22:06:16.702  INFO 8336 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 22:06:16.875  WARN 8336 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 22:06:16.891  INFO 8336 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 22:06:17.442  INFO 8336 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 22:06:18.605  INFO 8336 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 22:06:18.631  INFO 8336 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 22:06:18.666  INFO 8336 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 22:06:18.680  INFO 8336 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 22:06:18.771  INFO 8336 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 22:06:18.774  INFO 8336 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:06:18.783  INFO 8336 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:06:18.785  INFO 8336 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:06:18.980  INFO 8336 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 22:06:19.034  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 22:06:19.040  INFO 8336 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:06:19.041  INFO 8336 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 22:06:19.048  INFO 8336 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 22:06:19.070  INFO 8336 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=0} for segment: Segment[0/0]
2022-09-02 22:06:19.078  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:06:19.079  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:06:19.079  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:06:19.079  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:06:19.079  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:06:19.079  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 22:06:19.079  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:06:19.697  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:06:19.702  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 22:06:19.706  INFO 8336 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 22:06:19.715  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662131179713 with initial instances count: 0
2022-09-02 22:06:19.724  INFO 8336 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 22:06:19.726  INFO 8336 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662131179726, current=UP, previous=STARTING]
2022-09-02 22:06:19.729  INFO 8336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0e11d18c8e053806f04567d655096bb5: registering service...
2022-09-02 22:06:19.744  INFO 8336 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 22:06:19.745  INFO 8336 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 22:06:19.892  INFO 8336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0e11d18c8e053806f04567d655096bb5 - registration status: 204
2022-09-02 22:06:20.166  INFO 8336 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 17.651 seconds (JVM running for 24.783)
2022-09-02 22:06:20.737  INFO 8336 --- [RMI TCP Connection(5)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 22:06:20.738  INFO 8336 --- [RMI TCP Connection(5)-172.27.30.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 22:06:20.740  INFO 8336 --- [RMI TCP Connection(5)-172.27.30.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-09-02 22:06:49.704  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:06:49.705  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:06:49.705  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:06:49.705  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:06:49.705  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:06:49.705  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 22:06:49.705  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:06:49.717  INFO 8336 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:10:00.278  INFO 8336 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 22:10:00.279  INFO 8336 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662131400279, current=DOWN, previous=UP]
2022-09-02 22:10:00.280  INFO 8336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0e11d18c8e053806f04567d655096bb5: registering service...
2022-09-02 22:10:00.287  INFO 8336 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0e11d18c8e053806f04567d655096bb5 - registration status: 204
2022-09-02 22:10:00.508  INFO 8336 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 22:10:00.508  INFO 8336 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 22:10:01.113  INFO 8336 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 22:10:01.114  INFO 8336 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 22:10:01.140  INFO 8336 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:10:01.143  INFO 8336 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:10:01.144  INFO 8336 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:10:01.642  INFO 8336 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:10:01.649  INFO 8336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 22:10:01.664  INFO 8336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 22:10:01.666  INFO 8336 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 22:10:04.669  INFO 8336 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 22:10:04.680  INFO 8336 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0e11d18c8e053806f04567d655096bb5 - deregister  status: 200
2022-09-02 22:10:04.685  INFO 8336 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 22:10:20.058  INFO 1220 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 1220 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 22:10:20.061  INFO 1220 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 22:10:20.126  INFO 1220 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 22:10:20.126  INFO 1220 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 22:10:21.658  WARN 1220 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:10:21.661  WARN 1220 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:10:22.170  INFO 1220 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 22:10:22.304  INFO 1220 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 2 JPA repository interfaces.
2022-09-02 22:10:22.622  INFO 1220 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 22:10:22.725  INFO 1220 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ba9c1d14-dc5d-3b34-bc41-baced43644b5
2022-09-02 22:10:22.821  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2266c84d#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.822  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2266c84d#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.825  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#73768ee4#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.826  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5951ee22' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.932  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.934  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.950  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#67ed832' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.951  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#67ed832' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.953  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3a554008' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.954  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3a554008' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:22.956  INFO 1220 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:10:23.700  INFO 1220 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 22:10:23.711  INFO 1220 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 22:10:23.711  INFO 1220 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 22:10:23.886  INFO 1220 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 22:10:23.886  INFO 1220 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3758 ms
2022-09-02 22:10:24.253  INFO 1220 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 22:10:24.431  INFO 1220 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 22:10:24.444  INFO 1220 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 22:10:25.038  INFO 1220 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 22:10:25.154  INFO 1220 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 22:10:25.737  INFO 1220 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 22:10:25.807  INFO 1220 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 22:10:25.931  INFO 1220 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 22:10:25.989  INFO 1220 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 22:10:26.147  INFO 1220 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 22:10:26.285  INFO 1220 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 22:10:27.050  INFO 1220 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 22:10:27.061  INFO 1220 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:10:27.333  INFO 1220 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 22:10:27.477  INFO 1220 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 22:10:27.478  INFO 1220 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 22:10:27.478  INFO 1220 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 22:10:27.492  INFO 1220 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:10:27.493  INFO 1220 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:10:27.494  INFO 1220 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:10:27.495  INFO 1220 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:10:28.136  WARN 1220 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 22:10:30.947  INFO 1220 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:10:32.180  WARN 1220 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 22:10:33.542  INFO 1220 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:10:33.571  INFO 1220 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 22:10:33.753  WARN 1220 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 22:10:33.771  INFO 1220 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 22:10:34.302  INFO 1220 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 22:10:35.056  INFO 1220 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 22:10:35.073  INFO 1220 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 22:10:35.097  INFO 1220 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 22:10:35.106  INFO 1220 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 22:10:35.167  INFO 1220 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 22:10:35.168  INFO 1220 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:10:35.175  INFO 1220 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:10:35.176  INFO 1220 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:10:35.334  INFO 1220 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 22:10:35.387  INFO 1220 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 22:10:35.390  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 22:10:35.394  INFO 1220 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 22:10:35.395  INFO 1220 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:10:35.415  INFO 1220 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=0} for segment: Segment[0/0]
2022-09-02 22:10:35.426  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:10:35.427  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:10:35.427  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:10:35.427  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:10:35.428  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:10:35.428  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 22:10:35.428  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:10:35.839  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:10:35.842  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 22:10:35.845  INFO 1220 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 22:10:35.853  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662131435851 with initial instances count: 0
2022-09-02 22:10:35.860  INFO 1220 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 22:10:35.861  INFO 1220 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662131435861, current=UP, previous=STARTING]
2022-09-02 22:10:35.864  INFO 1220 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1eb62233df941044b5867443f5c049bb: registering service...
2022-09-02 22:10:35.878  INFO 1220 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 22:10:35.880  INFO 1220 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 22:10:35.912  INFO 1220 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1eb62233df941044b5867443f5c049bb - registration status: 204
2022-09-02 22:10:37.204  INFO 1220 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:10:37.233  INFO 1220 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 19.817 seconds (JVM running for 23.547)
2022-09-02 22:10:37.610  INFO 1220 --- [RMI TCP Connection(1)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 22:10:37.610  INFO 1220 --- [RMI TCP Connection(1)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 22:10:37.613  INFO 1220 --- [RMI TCP Connection(1)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-09-02 22:11:05.844  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:11:05.844  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:11:05.844  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:11:05.844  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:11:05.844  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:11:05.844  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 22:11:05.845  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:11:05.856  INFO 1220 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:15:35.432  INFO 1220 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:19:30.614  WARN 1220 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] ]
2022-09-02 22:20:35.435  INFO 1220 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:25:35.438  INFO 1220 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:30:35.440  INFO 1220 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:35:35.440  INFO 1220 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:39:20.829  INFO 1220 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 22:39:20.830  INFO 1220 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662133160830, current=DOWN, previous=UP]
2022-09-02 22:39:20.830  INFO 1220 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1eb62233df941044b5867443f5c049bb: registering service...
2022-09-02 22:39:20.840  INFO 1220 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1eb62233df941044b5867443f5c049bb - registration status: 204
2022-09-02 22:39:21.065  INFO 1220 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 22:39:21.066  INFO 1220 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 22:39:21.958  INFO 1220 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 22:39:21.959  INFO 1220 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 22:39:21.987  INFO 1220 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:39:21.990  INFO 1220 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:39:21.991  INFO 1220 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:39:22.260  INFO 1220 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:39:22.276  INFO 1220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 22:39:22.288  INFO 1220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 22:39:22.291  INFO 1220 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 22:39:25.295  INFO 1220 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 22:39:25.301  INFO 1220 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1eb62233df941044b5867443f5c049bb - deregister  status: 200
2022-09-02 22:39:25.307  INFO 1220 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 22:39:39.054  INFO 10720 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 10720 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 22:39:39.057  INFO 10720 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 22:39:39.111  INFO 10720 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 22:39:39.112  INFO 10720 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 22:39:40.770  WARN 10720 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:39:40.773  WARN 10720 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:39:41.232  INFO 10720 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 22:39:41.349  INFO 10720 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 2 JPA repository interfaces.
2022-09-02 22:39:41.662  INFO 10720 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 22:39:41.767  INFO 10720 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f84708db-a08e-357b-9ccb-ad18edbafd32
2022-09-02 22:39:41.855  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#630870b5#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.856  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#630870b5#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.859  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2f77e996#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.859  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4dcc600f' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.973  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.976  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.996  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#cd56d37' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.996  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#cd56d37' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.998  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4b9a446' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:41.999  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4b9a446' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:42.001  INFO 10720 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:39:42.768  INFO 10720 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 22:39:42.779  INFO 10720 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 22:39:42.780  INFO 10720 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 22:39:42.954  INFO 10720 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 22:39:42.955  INFO 10720 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3843 ms
2022-09-02 22:39:43.284  INFO 10720 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 22:39:43.464  INFO 10720 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 22:39:43.477  INFO 10720 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 22:39:44.037  INFO 10720 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 22:39:44.176  INFO 10720 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 22:39:44.780  INFO 10720 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 22:39:44.855  INFO 10720 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 22:39:44.976  INFO 10720 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 22:39:45.054  INFO 10720 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 22:39:45.231  INFO 10720 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 22:39:45.373  INFO 10720 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 22:39:46.157  INFO 10720 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 22:39:46.166  INFO 10720 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:39:46.508  INFO 10720 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 22:39:46.657  INFO 10720 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 22:39:46.658  INFO 10720 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 22:39:46.658  INFO 10720 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 22:39:46.674  INFO 10720 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:39:46.675  INFO 10720 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:39:46.676  INFO 10720 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:39:46.677  INFO 10720 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:39:47.364  WARN 10720 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 22:39:50.245  INFO 10720 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:39:51.376  WARN 10720 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 22:39:52.817  INFO 10720 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:39:52.847  INFO 10720 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 22:39:53.028  WARN 10720 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 22:39:53.046  INFO 10720 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 22:39:53.505  INFO 10720 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 22:39:54.268  INFO 10720 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 22:39:54.284  INFO 10720 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 22:39:54.307  INFO 10720 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 22:39:54.317  INFO 10720 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 22:39:54.378  INFO 10720 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 22:39:54.380  INFO 10720 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:39:54.387  INFO 10720 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:39:54.388  INFO 10720 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:39:54.549  INFO 10720 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 22:39:54.611  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 22:39:54.614  INFO 10720 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 22:39:54.619  INFO 10720 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:39:54.627  INFO 10720 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 22:39:54.651  INFO 10720 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=0} for segment: Segment[0/0]
2022-09-02 22:39:54.652  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:39:54.653  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:39:54.653  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:39:54.653  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:39:54.653  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:39:54.653  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 22:39:54.654  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:39:55.076  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:39:55.079  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 22:39:55.082  INFO 10720 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 22:39:55.088  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662133195086 with initial instances count: 0
2022-09-02 22:39:55.095  INFO 10720 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 22:39:55.096  INFO 10720 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662133195096, current=UP, previous=STARTING]
2022-09-02 22:39:55.099  INFO 10720 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3486721f921a923381eb6823ef844e0e: registering service...
2022-09-02 22:39:55.112  INFO 10720 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 22:39:55.114  INFO 10720 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 22:39:55.144  INFO 10720 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3486721f921a923381eb6823ef844e0e - registration status: 204
2022-09-02 22:39:56.430  INFO 10720 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:39:56.463  INFO 10720 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 19.323 seconds (JVM running for 21.145)
2022-09-02 22:39:56.996  INFO 10720 --- [RMI TCP Connection(2)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 22:39:56.997  INFO 10720 --- [RMI TCP Connection(2)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 22:39:57.002  INFO 10720 --- [RMI TCP Connection(2)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-09-02 22:40:25.080  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:40:25.080  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:40:25.081  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:40:25.081  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:40:25.081  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:40:25.081  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 22:40:25.081  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:40:25.091  INFO 10720 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:43:56.489  WARN 10720 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] ]
2022-09-02 22:44:33.622  INFO 10720 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 22:44:33.622  INFO 10720 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662133473622, current=DOWN, previous=UP]
2022-09-02 22:44:33.623  INFO 10720 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3486721f921a923381eb6823ef844e0e: registering service...
2022-09-02 22:44:33.628  INFO 10720 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3486721f921a923381eb6823ef844e0e - registration status: 204
2022-09-02 22:44:33.835  INFO 10720 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 22:44:33.835  INFO 10720 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 22:44:34.543  INFO 10720 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 22:44:34.544  INFO 10720 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 22:44:34.558  INFO 10720 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:44:34.560  INFO 10720 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:44:34.560  INFO 10720 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:44:34.782  INFO 10720 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:44:34.787  INFO 10720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 22:44:34.796  INFO 10720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 22:44:34.798  INFO 10720 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 22:44:37.802  INFO 10720 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 22:44:37.808  INFO 10720 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3486721f921a923381eb6823ef844e0e - deregister  status: 200
2022-09-02 22:44:37.813  INFO 10720 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 22:44:48.862  INFO 3440 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 3440 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 22:44:48.865  INFO 3440 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 22:44:48.932  INFO 3440 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 22:44:48.933  INFO 3440 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 22:44:50.390  WARN 3440 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:44:50.394  WARN 3440 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:44:51.130  INFO 3440 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 22:44:51.262  INFO 3440 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 2 JPA repository interfaces.
2022-09-02 22:44:51.603  INFO 3440 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 22:44:51.707  INFO 3440 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f84708db-a08e-357b-9ccb-ad18edbafd32
2022-09-02 22:44:51.795  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#fe21239#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.796  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#fe21239#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.799  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#31aa122d#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.799  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#250d3d2d' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.894  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.897  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.911  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#10cc805f' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.912  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#10cc805f' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.914  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#69cb2f60' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.915  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#69cb2f60' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:51.918  INFO 3440 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:44:52.626  INFO 3440 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 22:44:52.636  INFO 3440 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 22:44:52.637  INFO 3440 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 22:44:52.798  INFO 3440 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 22:44:52.799  INFO 3440 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3864 ms
2022-09-02 22:44:53.108  INFO 3440 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 22:44:53.273  INFO 3440 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 22:44:53.286  INFO 3440 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 22:44:53.811  INFO 3440 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 22:44:53.928  INFO 3440 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 22:44:54.494  INFO 3440 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 22:44:54.563  INFO 3440 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 22:44:54.679  INFO 3440 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 22:44:54.729  INFO 3440 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 22:44:54.874  INFO 3440 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 22:44:55.010  INFO 3440 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 22:44:55.867  INFO 3440 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 22:44:55.879  INFO 3440 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:44:56.158  INFO 3440 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 22:44:56.296  INFO 3440 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 22:44:56.297  INFO 3440 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 22:44:56.297  INFO 3440 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 22:44:56.312  INFO 3440 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:44:56.313  INFO 3440 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:44:56.314  INFO 3440 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:44:56.315  INFO 3440 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:44:57.172  WARN 3440 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 22:45:00.716  INFO 3440 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:45:01.820  WARN 3440 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 22:45:03.154  INFO 3440 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:45:03.190  INFO 3440 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 22:45:03.387  WARN 3440 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 22:45:03.405  INFO 3440 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 22:45:03.875  INFO 3440 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 22:45:04.605  INFO 3440 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 22:45:04.624  INFO 3440 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 22:45:04.650  INFO 3440 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 22:45:04.660  INFO 3440 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 22:45:04.725  INFO 3440 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 22:45:04.727  INFO 3440 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:45:04.732  INFO 3440 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:45:04.733  INFO 3440 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:45:04.893  INFO 3440 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 22:45:04.943  INFO 3440 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 22:45:04.947  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 22:45:04.952  INFO 3440 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 22:45:04.954  INFO 3440 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:45:04.975  INFO 3440 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=0} for segment: Segment[0/0]
2022-09-02 22:45:04.987  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:45:04.988  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:45:04.988  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:45:04.988  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:45:04.989  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:45:04.989  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 22:45:04.989  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:45:05.429  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:45:05.432  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 22:45:05.436  INFO 3440 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 22:45:05.442  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662133505440 with initial instances count: 0
2022-09-02 22:45:05.449  INFO 3440 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 22:45:05.450  INFO 3440 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662133505450, current=UP, previous=STARTING]
2022-09-02 22:45:05.453  INFO 3440 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6b6c6d584631c6f565c9eae21265f76f: registering service...
2022-09-02 22:45:05.466  INFO 3440 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 22:45:05.468  INFO 3440 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 22:45:05.500  INFO 3440 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6b6c6d584631c6f565c9eae21265f76f - registration status: 204
2022-09-02 22:45:06.782  INFO 3440 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:45:06.809  INFO 3440 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 19.925 seconds (JVM running for 22.013)
2022-09-02 22:45:07.587  INFO 3440 --- [RMI TCP Connection(3)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 22:45:07.587  INFO 3440 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 22:45:07.590  INFO 3440 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-09-02 22:45:33.022  WARN 3440 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.liem.ms.productservice.controller.advise.ControllerAdvice#handleConstraintViolationException(ConstraintViolationException)

java.lang.IllegalStateException: Could not resolve parameter [0] in protected org.springframework.http.ResponseEntity<java.lang.Object> com.liem.ms.productservice.controller.advise.ControllerAdvice.handleConstraintViolationException(javax.validation.ConstraintViolationException): No suitable resolver
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:176) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1330) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1141) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 22:45:33.026  WARN 3440 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] ]
2022-09-02 22:45:35.432  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:45:35.433  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:45:35.433  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:45:35.433  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:45:35.433  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:45:35.433  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 22:45:35.433  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:45:35.443  INFO 3440 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:47:06.999  INFO 3440 --- [http-nio-8080-exec-2] c.l.m.p.s.i.ProductCommandServiceImpl    : Send create product command: ProductDto(price=10.5)
2022-09-02 22:47:07.196  INFO 3440 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] c.l.m.p.s.impl.ProductEventHandlerImpl   : Create entity: ProductEntity(price=10.5)
2022-09-02 22:47:44.205  INFO 3440 --- [http-nio-8080-exec-3] c.l.m.p.s.i.ProductCommandServiceImpl    : Send update product command: ProductDto(price=10.5)
2022-09-02 22:47:44.265 ERROR 3440 --- [http-nio-8080-exec-3] c.l.m.p.s.i.ProductCommandServiceImpl    : Exception in update product: UpdateProductCommand(price=10.5)

org.axonframework.commandhandling.CommandExecutionException: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:88) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.ErrorCode.convert(ErrorCode.java:182) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.CommandSerializer.deserialize(CommandSerializer.java:164) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.lambda$doDispatch$1(AxonServerCommandBus.java:161) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[na:na]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:375) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:362) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:466) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.axonframework.axonserver.connector.command.AxonServerRemoteCommandHandlingException: An exception was thrown by the remote message handling component: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:86) ~[axon-server-connector-4.5.15.jar:4.5.15]
	... 16 common frames omitted

2022-09-02 22:47:44.269  WARN 3440 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.liem.ms.productservice.exception.CommandServiceException: Exception in update product]
2022-09-02 22:49:41.311  INFO 3440 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 22:49:41.312  INFO 3440 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662133781312, current=DOWN, previous=UP]
2022-09-02 22:49:41.312  INFO 3440 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6b6c6d584631c6f565c9eae21265f76f: registering service...
2022-09-02 22:49:41.317  INFO 3440 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6b6c6d584631c6f565c9eae21265f76f - registration status: 204
2022-09-02 22:49:41.532  INFO 3440 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 22:49:41.532  INFO 3440 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 22:49:41.631  INFO 3440 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 22:49:41.631  INFO 3440 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 22:49:41.644  INFO 3440 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:49:41.646  INFO 3440 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:49:41.647  INFO 3440 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:49:42.122  INFO 3440 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:49:42.127  INFO 3440 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 22:49:42.134  INFO 3440 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 22:49:42.136  INFO 3440 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 22:49:45.138  INFO 3440 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 22:49:45.144  INFO 3440 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6b6c6d584631c6f565c9eae21265f76f - deregister  status: 200
2022-09-02 22:49:45.149  INFO 3440 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 22:49:55.892  INFO 8036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 8036 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 22:49:55.895  INFO 8036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 22:49:55.965  INFO 8036 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 22:49:55.966  INFO 8036 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 22:49:57.919  WARN 8036 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:49:57.922  WARN 8036 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 22:49:58.507  INFO 8036 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 22:49:58.645  INFO 8036 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 128 ms. Found 2 JPA repository interfaces.
2022-09-02 22:49:59.017  INFO 8036 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 22:49:59.121  INFO 8036 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f84708db-a08e-357b-9ccb-ad18edbafd32
2022-09-02 22:49:59.214  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#cb6220f#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.215  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#cb6220f#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.217  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6b791b81#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.218  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6592e45f' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.328  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.330  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.347  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#555a8de5' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.348  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#555a8de5' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.350  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3fa0cb73' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.351  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3fa0cb73' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:49:59.353  INFO 8036 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 22:50:00.236  INFO 8036 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 22:50:00.252  INFO 8036 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 22:50:00.253  INFO 8036 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 22:50:00.420  INFO 8036 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 22:50:00.421  INFO 8036 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4454 ms
2022-09-02 22:50:00.820  INFO 8036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 22:50:01.003  INFO 8036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 22:50:01.016  INFO 8036 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 22:50:01.581  INFO 8036 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 22:50:01.707  INFO 8036 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 22:50:02.298  INFO 8036 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 22:50:02.371  INFO 8036 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 22:50:02.486  INFO 8036 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 22:50:02.541  INFO 8036 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 22:50:02.693  INFO 8036 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 22:50:02.820  INFO 8036 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 22:50:03.552  INFO 8036 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 22:50:03.561  INFO 8036 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 22:50:03.833  INFO 8036 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 22:50:03.971  INFO 8036 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 22:50:03.971  INFO 8036 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 22:50:03.971  INFO 8036 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 22:50:03.985  INFO 8036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:50:03.987  INFO 8036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 22:50:03.988  INFO 8036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:50:03.989  INFO 8036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 22:50:04.619  WARN 8036 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 22:50:07.351  INFO 8036 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:50:08.486  WARN 8036 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 22:50:09.829  INFO 8036 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:50:09.859  INFO 8036 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 22:50:10.039  WARN 8036 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 22:50:10.056  INFO 8036 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 22:50:10.519  INFO 8036 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 22:50:11.238  INFO 8036 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 22:50:11.254  INFO 8036 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 22:50:11.280  INFO 8036 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 22:50:11.288  INFO 8036 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 22:50:11.349  INFO 8036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 22:50:11.351  INFO 8036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 22:50:11.356  INFO 8036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 22:50:11.356  INFO 8036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 22:50:11.502  INFO 8036 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 22:50:11.556  INFO 8036 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 22:50:11.561  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 22:50:11.563  INFO 8036 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 22:50:11.566  INFO 8036 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 22:50:11.588  INFO 8036 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 22:50:11.598  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:50:11.599  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:50:11.599  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:50:11.599  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:50:11.600  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:50:11.600  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 22:50:11.600  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:50:12.154  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:50:12.157  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 22:50:12.164  INFO 8036 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 22:50:12.174  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662133812172 with initial instances count: 0
2022-09-02 22:50:12.186  INFO 8036 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 22:50:12.189  INFO 8036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662133812189, current=UP, previous=STARTING]
2022-09-02 22:50:12.198  INFO 8036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:804960ca8b3283f430526b7055a85dfc: registering service...
2022-09-02 22:50:12.222  INFO 8036 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 22:50:12.224  INFO 8036 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 22:50:12.294  INFO 8036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:804960ca8b3283f430526b7055a85dfc - registration status: 204
2022-09-02 22:50:13.613  INFO 8036 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 22:50:13.644  INFO 8036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 19.823 seconds (JVM running for 21.574)
2022-09-02 22:50:14.349  INFO 8036 --- [RMI TCP Connection(16)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 22:50:14.350  INFO 8036 --- [RMI TCP Connection(16)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 22:50:14.353  INFO 8036 --- [RMI TCP Connection(16)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-09-02 22:50:42.157  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 22:50:42.158  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 22:50:42.158  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 22:50:42.158  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 22:50:42.158  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 22:50:42.158  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 22:50:42.158  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 22:50:42.171  INFO 8036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 22:50:58.727  INFO 8036 --- [http-nio-8080-exec-1] c.l.m.p.s.i.ProductCommandServiceImpl    : Send update product command: ProductDto(price=10.5)
2022-09-02 22:50:58.853 ERROR 8036 --- [http-nio-8080-exec-1] c.l.m.p.s.i.ProductCommandServiceImpl    : Exception in update product: UpdateProductCommand(price=10.5)

org.axonframework.commandhandling.CommandExecutionException: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:88) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.ErrorCode.convert(ErrorCode.java:182) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.CommandSerializer.deserialize(CommandSerializer.java:164) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.lambda$doDispatch$1(AxonServerCommandBus.java:161) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[na:na]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:375) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:362) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:466) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.axonframework.axonserver.connector.command.AxonServerRemoteCommandHandlingException: An exception was thrown by the remote message handling component: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:86) ~[axon-server-connector-4.5.15.jar:4.5.15]
	... 16 common frames omitted

2022-09-02 22:50:58.868  WARN 8036 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.liem.ms.productservice.exception.CommandServiceException: Exception in update product]
2022-09-02 22:55:11.603  INFO 8036 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:00:11.605  INFO 8036 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:01:58.038  INFO 8036 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 23:01:58.038  INFO 8036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662134518038, current=DOWN, previous=UP]
2022-09-02 23:01:58.039  INFO 8036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:804960ca8b3283f430526b7055a85dfc: registering service...
2022-09-02 23:01:58.044  INFO 8036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:804960ca8b3283f430526b7055a85dfc - registration status: 204
2022-09-02 23:01:58.263  INFO 8036 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 23:01:58.264  INFO 8036 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 23:01:58.814  INFO 8036 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:01:58.814  INFO 8036 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 23:01:58.824  INFO 8036 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:01:58.826  INFO 8036 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:01:58.826  INFO 8036 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:01:59.233  INFO 8036 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:01:59.238  INFO 8036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 23:01:59.245  INFO 8036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 23:01:59.247  INFO 8036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 23:02:02.249  INFO 8036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 23:02:02.255  INFO 8036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:804960ca8b3283f430526b7055a85dfc - deregister  status: 200
2022-09-02 23:02:02.260  INFO 8036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 23:02:13.251  INFO 19940 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 19940 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 23:02:13.253  INFO 19940 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 23:02:13.317  INFO 19940 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 23:02:13.318  INFO 19940 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 23:02:14.819  WARN 19940 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:02:14.822  WARN 19940 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:02:15.321  INFO 19940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 23:02:15.487  INFO 19940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148 ms. Found 2 JPA repository interfaces.
2022-09-02 23:02:15.816  INFO 19940 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 23:02:15.922  INFO 19940 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f84708db-a08e-357b-9ccb-ad18edbafd32
2022-09-02 23:02:16.015  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#40aecd1c#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.016  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#40aecd1c#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.019  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4c02cca1#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.020  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#57cb7c7' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.126  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.129  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.144  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#75ecc153' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.145  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#75ecc153' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.147  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2a943d20' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.148  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2a943d20' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.150  INFO 19940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:02:16.875  INFO 19940 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 23:02:16.886  INFO 19940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 23:02:16.886  INFO 19940 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 23:02:17.073  INFO 19940 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 23:02:17.073  INFO 19940 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3754 ms
2022-09-02 23:02:17.414  INFO 19940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 23:02:17.587  INFO 19940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 23:02:17.602  INFO 19940 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 23:02:18.163  INFO 19940 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 23:02:18.283  INFO 19940 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 23:02:18.889  INFO 19940 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 23:02:18.960  INFO 19940 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 23:02:19.082  INFO 19940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 23:02:19.141  INFO 19940 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 23:02:19.296  INFO 19940 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 23:02:19.422  INFO 19940 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 23:02:20.188  INFO 19940 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 23:02:20.199  INFO 19940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:02:20.469  INFO 19940 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 23:02:20.611  INFO 19940 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 23:02:20.612  INFO 19940 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 23:02:20.612  INFO 19940 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 23:02:20.627  INFO 19940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:02:20.628  INFO 19940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:02:20.629  INFO 19940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:02:20.630  INFO 19940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:02:21.267  WARN 19940 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 23:02:24.105  INFO 19940 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:02:25.157  WARN 19940 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 23:02:26.498  INFO 19940 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:02:26.534  INFO 19940 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 23:02:26.711  WARN 19940 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 23:02:26.729  INFO 19940 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 23:02:27.234  INFO 19940 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 23:02:27.985  INFO 19940 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 23:02:28.003  INFO 19940 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 23:02:28.028  INFO 19940 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 23:02:28.038  INFO 19940 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 23:02:28.102  INFO 19940 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 23:02:28.104  INFO 19940 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:02:28.109  INFO 19940 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:02:28.110  INFO 19940 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:02:28.262  INFO 19940 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 23:02:28.312  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 23:02:28.318  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 23:02:28.323  INFO 19940 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:02:28.333  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 23:02:28.355  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:02:28.355  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:02:28.355  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:02:28.355  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:02:28.356  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:02:28.356  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 23:02:28.356  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:02:28.367  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:02:28.769  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:02:28.772  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 23:02:28.776  INFO 19940 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 23:02:28.782  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662134548780 with initial instances count: 1
2022-09-02 23:02:28.790  INFO 19940 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 23:02:28.791  INFO 19940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662134548791, current=UP, previous=STARTING]
2022-09-02 23:02:28.793  INFO 19940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:4b041d581c15b4ffb9731168eec127dd: registering service...
2022-09-02 23:02:28.807  INFO 19940 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 23:02:28.809  INFO 19940 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 23:02:28.838  INFO 19940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:4b041d581c15b4ffb9731168eec127dd - registration status: 204
2022-09-02 23:02:30.116  INFO 19940 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:02:30.144  INFO 19940 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 18.872 seconds (JVM running for 20.755)
2022-09-02 23:02:30.620  INFO 19940 --- [RMI TCP Connection(3)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 23:02:30.620  INFO 19940 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 23:02:30.623  INFO 19940 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-09-02 23:03:58.192  INFO 19940 --- [http-nio-8080-exec-1] c.l.m.p.s.i.ProductCommandServiceImpl    : Send update product command: ProductDto(price=10.5)
2022-09-02 23:03:58.314 ERROR 19940 --- [http-nio-8080-exec-1] c.l.m.p.s.i.ProductCommandServiceImpl    : Exception in update product: UpdateProductCommand(price=10.5)

org.axonframework.commandhandling.CommandExecutionException: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:88) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.ErrorCode.convert(ErrorCode.java:182) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.CommandSerializer.deserialize(CommandSerializer.java:164) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.lambda$doDispatch$1(AxonServerCommandBus.java:161) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[na:na]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:375) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:362) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:466) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.axonframework.axonserver.connector.command.AxonServerRemoteCommandHandlingException: An exception was thrown by the remote message handling component: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:86) ~[axon-server-connector-4.5.15.jar:4.5.15]
	... 16 common frames omitted

2022-09-02 23:03:58.329  WARN 19940 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.liem.ms.productservice.exception.CommandServiceException: Exception in update product]
2022-09-02 23:07:28.360  INFO 19940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:11:18.689  INFO 19940 --- [http-nio-8080-exec-2] c.l.m.p.s.i.ProductCommandServiceImpl    : Send update product command: ProductDto(price=10.5)
2022-09-02 23:11:18.781 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:18.785  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager.commitTransaction(SpringTransactionManager.java:80) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager$1.commit(SpringTransactionManager.java:63) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.UnitOfWork.lambda$attachTransaction$0(UnitOfWork.java:273) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.MessageProcessingContext.notifyHandlers(MessageProcessingContext.java:72) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.lambda$notifyHandlers$2(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.notifyHandlers(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.changePhase(AbstractUnitOfWork.java:222) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commitAsRoot(AbstractUnitOfWork.java:83) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commit(AbstractUnitOfWork.java:71) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:111) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:18.786  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2022-09-02 23:11:18.794  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:11:19.819  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:11:19.836 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:19.838  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 2s
2022-09-02 23:11:19.842  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:11:21.866  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:11:21.882 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:21.884  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 4s
2022-09-02 23:11:21.889  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:11:25.909  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:11:25.932 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:25.935  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 8s
2022-09-02 23:11:25.939  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:11:33.959  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:11:33.975 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:33.978  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 16s
2022-09-02 23:11:33.983  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:11:50.006  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:11:50.022 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:11:50.024  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 32s
2022-09-02 23:11:50.031  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:12:11.237  INFO 19940 --- [http-nio-8080-exec-3] c.l.m.p.s.i.ProductCommandServiceImpl    : Send update product command: ProductDto(price=10.5)
2022-09-02 23:12:11.263 ERROR 19940 --- [http-nio-8080-exec-3] c.l.m.p.s.i.ProductCommandServiceImpl    : Exception in update product: UpdateProductCommand(price=10.5)

org.axonframework.commandhandling.CommandExecutionException: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:88) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.ErrorCode.convert(ErrorCode.java:182) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.CommandSerializer.deserialize(CommandSerializer.java:164) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.lambda$doDispatch$1(AxonServerCommandBus.java:161) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[na:na]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:375) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:362) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:466) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.axonframework.axonserver.connector.command.AxonServerRemoteCommandHandlingException: An exception was thrown by the remote message handling component: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:86) ~[axon-server-connector-4.5.15.jar:4.5.15]
	... 16 common frames omitted

2022-09-02 23:12:11.265  WARN 19940 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.liem.ms.productservice.exception.CommandServiceException: Exception in update product]
2022-09-02 23:12:22.051  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:12:22.069 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:12:22.073  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:12:22.078  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:12:28.362  INFO 19940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:13:22.098  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:13:22.115 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:13:22.117  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:13:22.121  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:14:22.141  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:14:22.157 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:14:22.159  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:14:22.163  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:15:22.184  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:15:22.202 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:15:22.204  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:15:22.209  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:16:22.230  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:16:22.248 ERROR 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$c6c03181.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:16:22.250  WARN 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:16:22.254  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:16:26.889  INFO 19940 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 23:16:26.890  INFO 19940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662135386890, current=DOWN, previous=UP]
2022-09-02 23:16:26.890  INFO 19940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:4b041d581c15b4ffb9731168eec127dd: registering service...
2022-09-02 23:16:26.905  INFO 19940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:4b041d581c15b4ffb9731168eec127dd - registration status: 204
2022-09-02 23:16:27.105  INFO 19940 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 23:16:27.105  INFO 19940 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 23:16:27.178  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:16:27.178  INFO 19940 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 23:16:27.198  INFO 19940 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:16:27.199  INFO 19940 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:16:27.200  INFO 19940 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:16:27.274  INFO 19940 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:16:27.279  INFO 19940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 23:16:27.287  INFO 19940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 23:16:27.290  INFO 19940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 23:16:30.292  WARN 19940 --- [DiscoveryClient-0] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-09-02 23:16:30.293  INFO 19940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 23:16:30.296  INFO 19940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:4b041d581c15b4ffb9731168eec127dd - deregister  status: 200
2022-09-02 23:16:30.301  INFO 19940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 23:16:37.263  INFO 2652 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 2652 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 23:16:37.265  INFO 2652 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 23:16:37.319  INFO 2652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 23:16:37.320  INFO 2652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 23:16:38.680  WARN 2652 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:16:38.682  WARN 2652 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:16:39.119  INFO 2652 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 23:16:39.231  INFO 2652 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 2 JPA repository interfaces.
2022-09-02 23:16:39.532  INFO 2652 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 23:16:39.639  INFO 2652 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f84708db-a08e-357b-9ccb-ad18edbafd32
2022-09-02 23:16:39.731  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7bc66ddc#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.732  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7bc66ddc#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.734  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#408ab76c#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.735  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4ec8e924' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.840  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.843  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.860  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#d06d896' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.860  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#d06d896' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.862  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6cb480ca' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.863  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6cb480ca' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:39.865  INFO 2652 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:16:40.564  INFO 2652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 23:16:40.575  INFO 2652 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 23:16:40.575  INFO 2652 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 23:16:40.744  INFO 2652 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 23:16:40.745  INFO 2652 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3424 ms
2022-09-02 23:16:41.087  INFO 2652 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 23:16:41.253  INFO 2652 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 23:16:41.266  INFO 2652 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 23:16:41.809  INFO 2652 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 23:16:41.925  INFO 2652 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 23:16:42.494  INFO 2652 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 23:16:42.570  INFO 2652 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 23:16:42.697  INFO 2652 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 23:16:42.778  INFO 2652 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 23:16:42.953  INFO 2652 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 23:16:43.142  INFO 2652 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 23:16:43.928  INFO 2652 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 23:16:43.938  INFO 2652 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:16:44.203  INFO 2652 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 23:16:44.341  INFO 2652 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 23:16:44.342  INFO 2652 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 23:16:44.342  INFO 2652 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 23:16:44.356  INFO 2652 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:16:44.357  INFO 2652 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:16:44.358  INFO 2652 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:16:44.360  INFO 2652 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:16:45.001  WARN 2652 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 23:16:47.783  INFO 2652 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:16:48.829  WARN 2652 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 23:16:50.159  INFO 2652 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:16:50.188  INFO 2652 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 23:16:50.365  WARN 2652 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 23:16:50.382  INFO 2652 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 23:16:50.843  INFO 2652 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 23:16:51.615  INFO 2652 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 23:16:51.632  INFO 2652 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 23:16:51.656  INFO 2652 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 23:16:51.666  INFO 2652 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 23:16:51.730  INFO 2652 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 23:16:51.732  INFO 2652 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:16:51.738  INFO 2652 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:16:51.739  INFO 2652 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:16:51.885  INFO 2652 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 23:16:51.942  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 23:16:51.943  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 23:16:51.948  INFO 2652 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:16:51.952  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 23:16:51.974  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:16:51.980  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:16:51.980  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:16:51.980  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:16:51.981  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:16:51.981  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:16:51.981  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 23:16:51.981  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:16:52.153 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:16:52.163  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager.commitTransaction(SpringTransactionManager.java:80) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager$1.commit(SpringTransactionManager.java:63) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.UnitOfWork.lambda$attachTransaction$0(UnitOfWork.java:273) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.MessageProcessingContext.notifyHandlers(MessageProcessingContext.java:72) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.lambda$notifyHandlers$2(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.notifyHandlers(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.changePhase(AbstractUnitOfWork.java:222) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commitAsRoot(AbstractUnitOfWork.java:83) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commit(AbstractUnitOfWork.java:71) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:111) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:16:52.164  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2022-09-02 23:16:52.186  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:16:52.424  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:16:52.427  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 23:16:52.431  INFO 2652 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 23:16:52.441  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662135412439 with initial instances count: 1
2022-09-02 23:16:52.450  INFO 2652 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 23:16:52.451  INFO 2652 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662135412451, current=UP, previous=STARTING]
2022-09-02 23:16:52.455  INFO 2652 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e47a7ff37ad1e0852cb639d42ef1d3e1: registering service...
2022-09-02 23:16:52.472  INFO 2652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 23:16:52.473  INFO 2652 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 23:16:52.506  INFO 2652 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e47a7ff37ad1e0852cb639d42ef1d3e1 - registration status: 204
2022-09-02 23:16:53.208  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:16:53.226 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:16:53.229  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 2s
2022-09-02 23:16:53.234  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:16:53.804  INFO 2652 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:16:53.832  INFO 2652 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 18.44 seconds (JVM running for 20.206)
2022-09-02 23:16:54.366  INFO 2652 --- [RMI TCP Connection(3)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 23:16:54.366  INFO 2652 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 23:16:54.372  INFO 2652 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-09-02 23:16:55.258  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:16:55.277 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:16:55.280  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 4s
2022-09-02 23:16:55.285  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:16:59.308  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:16:59.329 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:16:59.331  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 8s
2022-09-02 23:16:59.336  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:17:07.358  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:17:07.378 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:17:07.381  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 16s
2022-09-02 23:17:07.385  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:17:23.410  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:17:23.427 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:17:23.430  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 32s
2022-09-02 23:17:23.435  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:17:45.827  WARN 2652 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] ]
2022-09-02 23:17:55.459  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:17:55.477 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:17:55.479  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:17:55.484  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:18:55.506  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:18:55.524 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:18:55.526  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:18:55.531  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:19:55.553  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:19:55.571 ERROR 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$f44f3e91.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:19:55.573  WARN 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:19:55.579  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:20:22.122  INFO 2652 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 23:20:22.122  INFO 2652 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662135622122, current=DOWN, previous=UP]
2022-09-02 23:20:22.122  INFO 2652 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e47a7ff37ad1e0852cb639d42ef1d3e1: registering service...
2022-09-02 23:20:22.128  INFO 2652 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e47a7ff37ad1e0852cb639d42ef1d3e1 - registration status: 204
2022-09-02 23:20:22.340  INFO 2652 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 23:20:22.340  INFO 2652 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 23:20:22.404  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:20:22.405  INFO 2652 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 23:20:22.420  INFO 2652 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:20:22.422  INFO 2652 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:20:22.423  INFO 2652 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:20:22.965  INFO 2652 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:20:22.970  INFO 2652 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 23:20:22.979  INFO 2652 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 23:20:22.981  INFO 2652 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 23:20:25.983  INFO 2652 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 23:20:25.988  INFO 2652 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e47a7ff37ad1e0852cb639d42ef1d3e1 - deregister  status: 200
2022-09-02 23:20:25.993  INFO 2652 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 23:20:32.827  INFO 10160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 10160 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 23:20:32.829  INFO 10160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 23:20:32.883  INFO 10160 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 23:20:32.884  INFO 10160 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 23:20:34.320  WARN 10160 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:20:34.322  WARN 10160 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:20:34.931  INFO 10160 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 23:20:35.071  INFO 10160 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 2 JPA repository interfaces.
2022-09-02 23:20:35.438  INFO 10160 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 23:20:35.540  INFO 10160 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ba9c1d14-dc5d-3b34-bc41-baced43644b5
2022-09-02 23:20:35.634  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#467f09a9#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.634  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#467f09a9#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.637  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2f96e0bf#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.638  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#72101714' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.738  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.740  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.756  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#77a5e3d8' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.757  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#77a5e3d8' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.759  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#dc43bf' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.759  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#dc43bf' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:35.761  INFO 10160 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:20:36.481  INFO 10160 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 23:20:36.493  INFO 10160 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 23:20:36.494  INFO 10160 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 23:20:36.705  INFO 10160 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 23:20:36.706  INFO 10160 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3821 ms
2022-09-02 23:20:37.043  INFO 10160 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 23:20:37.214  INFO 10160 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 23:20:37.229  INFO 10160 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 23:20:37.892  INFO 10160 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 23:20:38.012  INFO 10160 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 23:20:38.807  INFO 10160 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 23:20:38.928  INFO 10160 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 23:20:39.060  INFO 10160 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 23:20:39.113  INFO 10160 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 23:20:39.272  INFO 10160 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 23:20:39.403  INFO 10160 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 23:20:40.179  INFO 10160 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 23:20:40.189  INFO 10160 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:20:40.450  INFO 10160 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 23:20:40.617  INFO 10160 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 23:20:40.618  INFO 10160 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 23:20:40.618  INFO 10160 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 23:20:40.636  INFO 10160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:20:40.638  INFO 10160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:20:40.639  INFO 10160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:20:40.640  INFO 10160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:20:41.541  WARN 10160 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 23:20:44.625  INFO 10160 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:20:45.852  WARN 10160 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 23:20:47.180  INFO 10160 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:20:47.212  INFO 10160 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 23:20:47.399  WARN 10160 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 23:20:47.420  INFO 10160 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 23:20:47.923  INFO 10160 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 23:20:48.626  INFO 10160 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 23:20:48.642  INFO 10160 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 23:20:48.667  INFO 10160 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 23:20:48.677  INFO 10160 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 23:20:48.737  INFO 10160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 23:20:48.739  INFO 10160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:20:48.744  INFO 10160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:20:48.745  INFO 10160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:20:48.889  INFO 10160 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 23:20:48.943  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 23:20:48.948  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 23:20:48.950  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 23:20:48.953  INFO 10160 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:20:48.975  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:20:48.985  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:20:48.986  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:20:48.986  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:20:48.986  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:20:48.986  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:20:48.986  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 23:20:48.987  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:20:49.148 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:20:49.158  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager.commitTransaction(SpringTransactionManager.java:80) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager$1.commit(SpringTransactionManager.java:63) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.UnitOfWork.lambda$attachTransaction$0(UnitOfWork.java:273) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.MessageProcessingContext.notifyHandlers(MessageProcessingContext.java:72) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.lambda$notifyHandlers$2(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.notifyHandlers(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.changePhase(AbstractUnitOfWork.java:222) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commitAsRoot(AbstractUnitOfWork.java:83) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commit(AbstractUnitOfWork.java:71) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:111) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:20:49.159  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2022-09-02 23:20:49.170  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:20:49.456  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:20:49.460  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 23:20:49.468  INFO 10160 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 23:20:49.481  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662135649478 with initial instances count: 0
2022-09-02 23:20:49.494  INFO 10160 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 23:20:49.496  INFO 10160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662135649496, current=UP, previous=STARTING]
2022-09-02 23:20:49.500  INFO 10160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6dda99df0ad7665f1f7c028d86a0fc39: registering service...
2022-09-02 23:20:49.524  INFO 10160 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 23:20:49.527  INFO 10160 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 23:20:49.578  INFO 10160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6dda99df0ad7665f1f7c028d86a0fc39 - registration status: 204
2022-09-02 23:20:50.200  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:20:50.226 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:20:50.229  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 2s
2022-09-02 23:20:50.236  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:20:50.920  INFO 10160 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:20:50.947  INFO 10160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 20.19 seconds (JVM running for 21.888)
2022-09-02 23:20:51.619  INFO 10160 --- [RMI TCP Connection(17)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 23:20:51.619  INFO 10160 --- [RMI TCP Connection(17)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 23:20:51.625  INFO 10160 --- [RMI TCP Connection(17)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-09-02 23:20:52.264  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:20:52.288 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:20:52.291  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 4s
2022-09-02 23:20:52.298  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:20:56.320  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:20:56.338 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:20:56.340  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 8s
2022-09-02 23:20:56.345  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:21:04.366  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:21:04.386 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:21:04.389  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 16s
2022-09-02 23:21:04.394  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:21:17.723  WARN 10160 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] ]
2022-09-02 23:21:19.461  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:21:19.462  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:21:19.462  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:21:19.462  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:21:19.462  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:21:19.462  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 23:21:19.462  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:21:19.473  INFO 10160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:21:20.415  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:21:20.431 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:21:20.434  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 32s
2022-09-02 23:21:20.439  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:21:52.462  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:21:52.480 ERROR 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$df815713.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:21:52.482  WARN 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:21:52.487  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:14.966  INFO 10160 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 23:22:14.966  INFO 10160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662135734966, current=DOWN, previous=UP]
2022-09-02 23:22:14.967  INFO 10160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6dda99df0ad7665f1f7c028d86a0fc39: registering service...
2022-09-02 23:22:14.973  INFO 10160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6dda99df0ad7665f1f7c028d86a0fc39 - registration status: 204
2022-09-02 23:22:15.179  INFO 10160 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 23:22:15.179  INFO 10160 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 23:22:15.281  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:15.281  INFO 10160 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 23:22:15.293  INFO 10160 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:22:15.294  INFO 10160 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:22:15.295  INFO 10160 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:22:15.635  INFO 10160 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:22:15.640  INFO 10160 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 23:22:15.647  INFO 10160 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 23:22:15.649  INFO 10160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 23:22:18.652  INFO 10160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 23:22:18.657  INFO 10160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:6dda99df0ad7665f1f7c028d86a0fc39 - deregister  status: 200
2022-09-02 23:22:18.662  INFO 10160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 23:22:25.714  INFO 4832 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 4832 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 23:22:25.715  INFO 4832 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 23:22:25.769  INFO 4832 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 23:22:25.769  INFO 4832 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 23:22:27.082  WARN 4832 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:22:27.085  WARN 4832 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:22:27.537  INFO 4832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 23:22:27.655  INFO 4832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 2 JPA repository interfaces.
2022-09-02 23:22:27.958  INFO 4832 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 23:22:28.061  INFO 4832 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ba9c1d14-dc5d-3b34-bc41-baced43644b5
2022-09-02 23:22:28.149  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7bc4cb4e#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.149  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7bc4cb4e#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.152  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5b9a2c31#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.153  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#1814b98c' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.253  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.255  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.272  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a257003' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.273  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a257003' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.275  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2bb0477d' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.277  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2bb0477d' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.279  INFO 4832 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:22:28.965  INFO 4832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 23:22:28.975  INFO 4832 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 23:22:28.975  INFO 4832 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 23:22:29.141  INFO 4832 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 23:22:29.141  INFO 4832 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3371 ms
2022-09-02 23:22:29.466  INFO 4832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 23:22:29.634  INFO 4832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 23:22:29.646  INFO 4832 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 23:22:30.175  INFO 4832 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 23:22:30.302  INFO 4832 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 23:22:30.903  INFO 4832 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 23:22:30.972  INFO 4832 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 23:22:31.096  INFO 4832 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 23:22:31.151  INFO 4832 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 23:22:31.306  INFO 4832 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 23:22:31.438  INFO 4832 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 23:22:32.240  INFO 4832 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 23:22:32.253  INFO 4832 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:22:32.655  INFO 4832 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 23:22:32.829  INFO 4832 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 23:22:32.830  INFO 4832 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 23:22:32.830  INFO 4832 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 23:22:32.848  INFO 4832 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:22:32.849  INFO 4832 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:22:32.850  INFO 4832 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:22:32.852  INFO 4832 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:22:33.649  WARN 4832 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 23:22:36.579  INFO 4832 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:22:37.720  WARN 4832 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 23:22:39.061  INFO 4832 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:22:39.095  INFO 4832 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 23:22:39.301  WARN 4832 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 23:22:39.321  INFO 4832 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 23:22:39.804  INFO 4832 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 23:22:40.592  INFO 4832 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 23:22:40.610  INFO 4832 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 23:22:40.636  INFO 4832 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 23:22:40.647  INFO 4832 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 23:22:40.711  INFO 4832 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 23:22:40.713  INFO 4832 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:22:40.719  INFO 4832 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:22:40.721  INFO 4832 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:22:40.894  INFO 4832 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 23:22:40.946  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 23:22:40.951  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 23:22:40.957  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 23:22:40.959  INFO 4832 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:22:40.992  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:22:40.993  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:22:40.993  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:22:40.994  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:22:40.994  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:22:40.994  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 23:22:40.994  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:22:41.009  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:22:41.222 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:22:41.230  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager.commitTransaction(SpringTransactionManager.java:80) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager$1.commit(SpringTransactionManager.java:63) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.UnitOfWork.lambda$attachTransaction$0(UnitOfWork.java:273) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.MessageProcessingContext.notifyHandlers(MessageProcessingContext.java:72) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.lambda$notifyHandlers$2(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.notifyHandlers(BatchingUnitOfWork.java:155) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.changePhase(AbstractUnitOfWork.java:222) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commitAsRoot(AbstractUnitOfWork.java:83) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.AbstractUnitOfWork.commit(AbstractUnitOfWork.java:71) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:111) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:22:41.231  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2022-09-02 23:22:41.252  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:41.484  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:22:41.489  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 23:22:41.493  INFO 4832 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 23:22:41.503  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662135761499 with initial instances count: 0
2022-09-02 23:22:41.514  INFO 4832 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 23:22:41.516  INFO 4832 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662135761516, current=UP, previous=STARTING]
2022-09-02 23:22:41.522  INFO 4832 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2656410844c8035d7c8d25f1404b19ec: registering service...
2022-09-02 23:22:41.540  INFO 4832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 23:22:41.542  INFO 4832 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 23:22:41.579  INFO 4832 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2656410844c8035d7c8d25f1404b19ec - registration status: 204
2022-09-02 23:22:42.278  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:22:42.297 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:22:42.300  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 2s
2022-09-02 23:22:42.305  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:42.899  INFO 4832 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:22:42.928  INFO 4832 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 19.111 seconds (JVM running for 20.933)
2022-09-02 23:22:43.662  INFO 4832 --- [RMI TCP Connection(2)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 23:22:43.663  INFO 4832 --- [RMI TCP Connection(2)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 23:22:43.665  INFO 4832 --- [RMI TCP Connection(2)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-09-02 23:22:44.329  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:22:44.347 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:22:44.349  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 4s
2022-09-02 23:22:44.355  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:48.378  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:22:48.396 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:22:48.398  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 8s
2022-09-02 23:22:48.404  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:56.426  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:22:56.446 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:22:56.448  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 16s
2022-09-02 23:22:56.453  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:22:58.091  WARN 4832 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] ]
2022-09-02 23:23:11.489  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:23:11.490  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:23:11.490  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:23:11.490  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:23:11.490  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:23:11.490  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 23:23:11.490  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:23:11.499  INFO 4832 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:23:12.474  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:23:12.491 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:23:12.493  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 32s
2022-09-02 23:23:12.498  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:23:44.520  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:23:44.537 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:23:44.539  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:23:44.544  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:24:44.566  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:24:44.586 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:24:44.588  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:24:44.593  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:25:44.621  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:25:44.641 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:25:44.643  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:25:44.659  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:26:44.717  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:26:44.740 ERROR 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.eventhandling.LoggingErrorHandler    : EventListener [ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1] failed to handle event [69f11272-8687-4696-b2ae-283dbada5c79] (com.liem.ms.productservice.event.ProductUpdatedEvent). Continuing processing with next listener

javax.persistence.EntityNotFoundException: Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.lambda$getProductById$0(ProductEventHandlerImpl.java:70) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:408) ~[na:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.getProductById(ProductEventHandlerImpl.java:69) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl.onUpdated(ProductEventHandlerImpl.java:48) ~[classes/:na]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$FastClassBySpringCGLIB$$382f1346.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.service.impl.ProductEventHandlerImpl$$EnhancerBySpringCGLIB$$12905be1.onUpdated(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.axonframework.messaging.annotation.AnnotatedMessageHandlingMember.handle(AnnotatedMessageHandlingMember.java:144) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.annotation.AnnotatedHandlerInspector$NoMoreInterceptors.handle(AnnotatedHandlerInspector.java:379) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AnnotationEventHandlerAdapter.handle(AnnotationEventHandlerAdapter.java:94) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.SimpleEventHandlerInvoker.handle(SimpleEventHandlerInvoker.java:112) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.MultiEventHandlerInvoker.handle(MultiEventHandlerInvoker.java:89) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$null$1(AbstractEventProcessor.java:165) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:57) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.interceptors.CorrelationDataInterceptor.handle(CorrelationDataInterceptor.java:65) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.lambda$new$1(TrackingEventProcessor.java:190) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.DefaultInterceptorChain.proceed(DefaultInterceptorChain.java:55) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.lambda$processInUnitOfWork$2(AbstractEventProcessor.java:173) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.messaging.unitofwork.BatchingUnitOfWork.executeWithResult(BatchingUnitOfWork.java:86) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.AbstractEventProcessor.processInUnitOfWork(AbstractEventProcessor.java:159) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:473) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-02 23:26:44.743  WARN 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 60s
2022-09-02 23:26:44.749  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:26:45.984  INFO 4832 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 23:26:45.985  INFO 4832 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662136005985, current=DOWN, previous=UP]
2022-09-02 23:26:45.985  INFO 4832 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2656410844c8035d7c8d25f1404b19ec: registering service...
2022-09-02 23:26:45.992  INFO 4832 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2656410844c8035d7c8d25f1404b19ec - registration status: 204
2022-09-02 23:26:46.203  INFO 4832 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 23:26:46.203  INFO 4832 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 23:26:46.266  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:26:46.267  INFO 4832 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 23:26:46.289  INFO 4832 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:26:46.291  INFO 4832 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:26:46.292  INFO 4832 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:26:46.575  INFO 4832 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:26:46.580  INFO 4832 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 23:26:46.588  INFO 4832 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 23:26:46.590  INFO 4832 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 23:26:49.593  INFO 4832 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 23:26:49.597  INFO 4832 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2656410844c8035d7c8d25f1404b19ec - deregister  status: 200
2022-09-02 23:26:49.603  INFO 4832 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 23:26:59.622  INFO 11280 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 11280 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 23:26:59.624  INFO 11280 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 23:26:59.677  INFO 11280 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 23:26:59.677  INFO 11280 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 23:27:00.995  WARN 11280 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:27:00.997  WARN 11280 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.domain.BaseAggregate'.
2022-09-02 23:27:01.424  INFO 11280 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 23:27:01.533  INFO 11280 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 2 JPA repository interfaces.
2022-09-02 23:27:01.834  INFO 11280 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 23:27:01.933  INFO 11280 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ba9c1d14-dc5d-3b34-bc41-baced43644b5
2022-09-02 23:27:02.018  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7bc4cb4e#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.018  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7bc4cb4e#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.021  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#5b9a2c31#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.022  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#1814b98c' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.116  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.119  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.136  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a257003' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.136  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a257003' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.138  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2bb0477d' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.139  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2bb0477d' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.141  INFO 11280 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:27:02.836  INFO 11280 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 23:27:02.846  INFO 11280 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 23:27:02.846  INFO 11280 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 23:27:03.009  INFO 11280 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 23:27:03.010  INFO 11280 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3332 ms
2022-09-02 23:27:03.327  INFO 11280 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 23:27:03.489  INFO 11280 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 23:27:03.501  INFO 11280 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 23:27:04.031  INFO 11280 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 23:27:04.145  INFO 11280 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 23:27:04.695  INFO 11280 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 23:27:04.762  INFO 11280 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 23:27:04.877  INFO 11280 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 23:27:04.929  INFO 11280 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 23:27:05.077  INFO 11280 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 23:27:05.202  INFO 11280 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 23:27:05.940  INFO 11280 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 23:27:05.954  INFO 11280 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:27:06.277  INFO 11280 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 23:27:06.518  INFO 11280 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 23:27:06.518  INFO 11280 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 23:27:06.519  INFO 11280 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 23:27:06.534  INFO 11280 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:27:06.535  INFO 11280 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:27:06.536  INFO 11280 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:27:06.537  INFO 11280 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:27:07.174  WARN 11280 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 23:27:09.869  INFO 11280 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:27:10.871  WARN 11280 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 23:27:12.224  INFO 11280 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:27:12.252  INFO 11280 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 23:27:12.421  WARN 11280 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 23:27:12.438  INFO 11280 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 23:27:12.874  INFO 11280 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 23:27:13.574  INFO 11280 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 23:27:13.589  INFO 11280 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 23:27:13.614  INFO 11280 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 23:27:13.623  INFO 11280 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.FindProductQuery : java.util.List<com.liem.ms.productservice.entity.ProductEntity>' in context 'default'
2022-09-02 23:27:13.683  INFO 11280 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 23:27:13.685  INFO 11280 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:27:13.690  INFO 11280 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:27:13.691  INFO 11280 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:27:13.845  INFO 11280 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 23:27:13.900  INFO 11280 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 23:27:13.906  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 23:27:13.908  INFO 11280 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.service.impl, segment=Segment[0/0]}
2022-09-02 23:27:13.911  INFO 11280 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:27:13.942  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:27:13.943  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:27:13.943  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:27:13.943  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:27:13.943  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:27:13.943  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 23:27:13.944  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:27:13.953  INFO 11280 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=1} for segment: Segment[0/0]
2022-09-02 23:27:14.134 ERROR 11280 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] c.l.m.p.s.impl.ProductEventHandlerImpl   : Product is not found by id: 0cbaeb9e-6af6-4376-9868-5e26c8d3faa
2022-09-02 23:27:14.361  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:27:14.364  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 23:27:14.367  INFO 11280 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 23:27:14.372  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662136034371 with initial instances count: 0
2022-09-02 23:27:14.380  INFO 11280 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 23:27:14.380  INFO 11280 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662136034380, current=UP, previous=STARTING]
2022-09-02 23:27:14.383  INFO 11280 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1c89507d6a5fc3ceec32ceb5776cce6b: registering service...
2022-09-02 23:27:14.396  INFO 11280 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 23:27:14.397  INFO 11280 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 23:27:14.427  INFO 11280 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1c89507d6a5fc3ceec32ceb5776cce6b - registration status: 204
2022-09-02 23:27:15.723  INFO 11280 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-02 23:27:15.750  INFO 11280 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 17.991 seconds (JVM running for 19.713)
2022-09-02 23:27:16.316  INFO 11280 --- [RMI TCP Connection(3)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 23:27:16.316  INFO 11280 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 23:27:16.319  INFO 11280 --- [RMI TCP Connection(3)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-09-02 23:27:44.365  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:27:44.365  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:27:44.366  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:27:44.366  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:27:44.366  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:27:44.366  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 23:27:44.366  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:27:44.375  INFO 11280 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:28:38.563  WARN 11280 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.dto.ProductDto<java.lang.String>) with 2 errors: [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotNull.productDto.name,NotNull.name,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be null]] [Field error in object 'productDto' on field 'name': rejected value [null]; codes [NotBlank.productDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.name,name]; arguments []; default message [name]]; default message [must not be blank]] ]
2022-09-02 23:28:47.212  INFO 11280 --- [http-nio-8080-exec-2] c.l.m.p.s.i.ProductCommandServiceImpl    : Send update product command: ProductDto(price=10.5)
2022-09-02 23:28:47.306 ERROR 11280 --- [http-nio-8080-exec-2] c.l.m.p.s.i.ProductCommandServiceImpl    : Exception in update product: UpdateProductCommand(price=10.5)

org.axonframework.commandhandling.CommandExecutionException: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:88) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.ErrorCode.convert(ErrorCode.java:182) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.CommandSerializer.deserialize(CommandSerializer.java:164) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.lambda$doDispatch$1(AxonServerCommandBus.java:161) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[na:na]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:375) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:362) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:466) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.axonframework.axonserver.connector.command.AxonServerRemoteCommandHandlingException: An exception was thrown by the remote message handling component: OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:86) ~[axon-server-connector-4.5.15.jar:4.5.15]
	... 16 common frames omitted

2022-09-02 23:28:47.310  WARN 11280 --- [http-nio-8080-exec-2] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.liem.ms.productservice.exception.CommandServiceException: Exception in update product]
2022-09-02 23:32:13.946  INFO 11280 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:37:13.947  INFO 11280 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:42:13.949  INFO 11280 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:44:44.341  INFO 11280 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-02 23:44:44.342  INFO 11280 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662137084342, current=DOWN, previous=UP]
2022-09-02 23:44:44.342  INFO 11280 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1c89507d6a5fc3ceec32ceb5776cce6b: registering service...
2022-09-02 23:44:44.347  INFO 11280 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1c89507d6a5fc3ceec32ceb5776cce6b - registration status: 204
2022-09-02 23:44:44.558  INFO 11280 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.service.impl'.
2022-09-02 23:44:44.558  INFO 11280 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.service.impl' awaiting termination...
2022-09-02 23:44:45.522  INFO 11280 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-02 23:44:45.522  INFO 11280 --- [EventProcessor[com.liem.ms.productservice.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-02 23:44:45.537  INFO 11280 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.UpdateProductCommand' in context 'default'
2022-09-02 23:44:45.538  INFO 11280 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.DeleteCommand' in context 'default'
2022-09-02 23:44:45.538  INFO 11280 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.CreateProductCommand' in context 'default'
2022-09-02 23:44:45.955  INFO 11280 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:44:45.960  INFO 11280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-02 23:44:45.968  INFO 11280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-02 23:44:45.970  INFO 11280 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-02 23:44:48.972  INFO 11280 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-02 23:44:48.980  INFO 11280 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1c89507d6a5fc3ceec32ceb5776cce6b - deregister  status: 200
2022-09-02 23:44:48.985  INFO 11280 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-02 23:45:02.228  INFO 12236 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 12236 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-02 23:45:02.229  INFO 12236 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-02 23:45:02.285  INFO 12236 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-02 23:45:02.286  INFO 12236 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-02 23:45:03.963  WARN 12236 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-02 23:45:03.966  WARN 12236 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-02 23:45:04.411  INFO 12236 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-02 23:45:04.523  INFO 12236 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 2 JPA repository interfaces.
2022-09-02 23:45:04.817  INFO 12236 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-02 23:45:04.916  INFO 12236 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ba9c1d14-dc5d-3b34-bc41-baced43644b5
2022-09-02 23:45:04.999  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a093183#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.000  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#a093183#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.003  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6372193a#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.004  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#34344457' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.098  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.100  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.118  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6799bbdc' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.119  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#6799bbdc' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.121  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#66537256' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.121  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#66537256' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.124  INFO 12236 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-02 23:45:05.818  INFO 12236 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-02 23:45:05.828  INFO 12236 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-02 23:45:05.828  INFO 12236 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-02 23:45:05.978  INFO 12236 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-02 23:45:05.978  INFO 12236 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3692 ms
2022-09-02 23:45:06.309  INFO 12236 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-02 23:45:06.471  INFO 12236 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-02 23:45:06.483  INFO 12236 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-02 23:45:06.999  INFO 12236 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-02 23:45:07.109  INFO 12236 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-02 23:45:07.648  INFO 12236 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-02 23:45:07.721  INFO 12236 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-02 23:45:07.837  INFO 12236 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-02 23:45:07.890  INFO 12236 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-02 23:45:08.039  INFO 12236 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-02 23:45:08.166  INFO 12236 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-02 23:45:08.923  INFO 12236 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-02 23:45:08.933  INFO 12236 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-02 23:45:09.182  INFO 12236 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-02 23:45:09.338  INFO 12236 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-02 23:45:09.338  INFO 12236 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-02 23:45:09.338  INFO 12236 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-02 23:45:09.353  INFO 12236 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:45:09.354  INFO 12236 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-02 23:45:09.355  INFO 12236 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:45:09.356  INFO 12236 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-02 23:45:09.972  WARN 12236 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-02 23:45:12.673  WARN 12236 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-02 23:45:13.019  INFO 12236 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-02 23:45:13.189  WARN 12236 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-02 23:45:13.205  INFO 12236 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-02 23:45:13.639  INFO 12236 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-02 23:45:14.333  INFO 12236 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-02 23:45:14.348  INFO 12236 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-02 23:45:14.372  INFO 12236 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-02 23:45:14.381  INFO 12236 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-02 23:45:14.441  INFO 12236 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-02 23:45:14.443  INFO 12236 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-02 23:45:14.448  INFO 12236 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-02 23:45:14.448  INFO 12236 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-02 23:45:14.586  INFO 12236 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-02 23:45:14.641  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-02 23:45:14.645  INFO 12236 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:45:14.668  INFO 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-02 23:45:14.675  INFO 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.service.impl, segment=Segment[0/0]}
2022-09-02 23:45:14.680  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:45:14.681  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:45:14.681  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:45:14.681  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:45:14.682  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:45:14.682  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-02 23:45:14.682  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:45:14.689  INFO 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: null for segment: Segment[0/0]
2022-09-02 23:45:15.110  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:45:15.112  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-02 23:45:15.115  INFO 12236 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-02 23:45:15.121  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662137115120 with initial instances count: 0
2022-09-02 23:45:15.129  INFO 12236 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-02 23:45:15.129  INFO 12236 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662137115129, current=UP, previous=STARTING]
2022-09-02 23:45:15.132  INFO 12236 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3: registering service...
2022-09-02 23:45:15.145  INFO 12236 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-02 23:45:15.146  INFO 12236 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-02 23:45:15.176  INFO 12236 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3 - registration status: 204
2022-09-02 23:45:15.484  INFO 12236 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.158 seconds (JVM running for 15.788)
2022-09-02 23:45:16.200  INFO 12236 --- [RMI TCP Connection(4)-192.168.0.104] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-02 23:45:16.200  INFO 12236 --- [RMI TCP Connection(4)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-02 23:45:16.204  INFO 12236 --- [RMI TCP Connection(4)-192.168.0.104] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-09-02 23:45:28.044  INFO 12236 --- [http-nio-8080-exec-1] c.l.m.p.q.s.i.ProductQueryServiceImpl    : Send query to find product
2022-09-02 23:45:28.182  INFO 12236 --- [QueryProcessor-0] c.l.m.p.q.s.i.ProductQueryHandlerImpl    : Found products: 2
2022-09-02 23:45:45.113  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-02 23:45:45.114  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-02 23:45:45.114  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-02 23:45:45.114  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-02 23:45:45.114  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-02 23:45:45.114  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-02 23:45:45.114  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-02 23:45:45.123  INFO 12236 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-02 23:45:50.917  WARN 12236 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.liem.ms.productservice.command.controller.v1.ProductCommandController.createProduct(com.liem.ms.productservice.core.dto.ProductDto<java.lang.String>): [Field error in object 'productDto' on field 'price': rejected value [-10.5]; codes [Min.productDto.price,Min.price,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productDto.price,price]; arguments []; default message [price],0]; default message [Price must be positive]] ]
2022-09-02 23:50:14.684  INFO 12236 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-02 23:55:14.686  INFO 12236 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
