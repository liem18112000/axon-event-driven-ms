2022-09-03 00:00:14.687  INFO 12236 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 00:05:14.693  INFO 12236 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 00:10:14.694  INFO 12236 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 00:15:14.697  INFO 12236 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 00:15:36.261  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:36.265  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:15:36.289  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed.

io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.axoniq.axonserver.grpc.control.PlatformServiceGrpc$PlatformServiceBlockingStub.getPlatformServer(PlatformServiceGrpc.java:250) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.impl.AxonServerManagedChannel.connectChannel(AxonServerManagedChannel.java:115) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.impl.AxonServerManagedChannel.createConnection(AxonServerManagedChannel.java:335) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.impl.AxonServerManagedChannel.ensureConnected(AxonServerManagedChannel.java:300) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.impl.AxonServerManagedChannel.lambda$scheduleConnectionCheck$4(AxonServerManagedChannel.java:378) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 00:15:36.290  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:15:36.293  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5712977 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.296  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@68b63107 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.298  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@1c9aa9c4 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.299  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@102c01b1 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.301  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4b7a398d (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.303  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@129d07ec (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.304  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5b8048f2 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.306  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2b51ebba (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.308  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@317d190c (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:36.309  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4ba5daa8 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.
2022-09-03 00:15:37.685  INFO 12236 --- [grpc-default-executor-1] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: UNAVAILABLE: Connection closed after GOAWAY. HTTP/2 error code: NO_ERROR, debug data: app_requested
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 00:15:38.290  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:38.291  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:15:40.307  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: UNAVAILABLE: io exception
2022-09-03 00:15:40.307  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:15:42.309  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:42.318  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:15:44.330  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: UNAVAILABLE: io exception
2022-09-03 00:15:44.330  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:15:46.330  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:46.338  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:15:48.350  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: UNAVAILABLE: io exception
2022-09-03 00:15:48.351  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:15:50.352  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:50.360  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:15:52.372  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: UNAVAILABLE: io exception
2022-09-03 00:15:52.372  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:15:54.374  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:54.383  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:15:55.120  INFO 12236 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-03 00:15:55.120  INFO 12236 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662138955120, current=DOWN, previous=UP]
2022-09-03 00:15:55.121  INFO 12236 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3: registering service...
2022-09-03 00:15:55.130  INFO 12236 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3 - registration status: 204
2022-09-03 00:15:55.393  INFO 12236 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.service.impl'.
2022-09-03 00:15:55.394  INFO 12236 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.service.impl' awaiting termination...
2022-09-03 00:15:56.398  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: UNAVAILABLE: io exception
2022-09-03 00:15:56.399  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:15:58.400  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connection to AxonServer lost. Attempting to reconnect...
2022-09-03 00:15:58.408  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 00:16:00.418  WARN 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: UNAVAILABLE: io exception
2022-09-03 00:16:00.419  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms
2022-09-03 00:16:00.434  WARN 12236 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Timed out during shutdown phase [1073741823] after 5 second(s). Proceeding to following phase
2022-09-03 00:16:00.436  INFO 12236 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 00:16:00.438  INFO 12236 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 00:16:00.438  INFO 12236 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 00:16:00.440  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: null
2022-09-03 00:16:00.440 ERROR 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Interrupted during connection acquisition
2022-09-03 00:16:00.446  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Error occurred. Starting retry mode.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.axonframework.spring.messaging.unitofwork.SpringTransactionManager.startTransaction(SpringTransactionManager.java:59) ~[axon-spring-4.5.15.jar:4.5.15]
	at org.axonframework.common.transaction.TransactionManager.executeInTransaction(TransactionManager.java:45) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processBatch(TrackingEventProcessor.java:444) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor.processingLoop(TrackingEventProcessor.java:300) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$TrackingSegmentWorker.run(TrackingEventProcessor.java:1072) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.cleanUp(TrackingEventProcessor.java:1263) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.eventhandling.TrackingEventProcessor$WorkerLauncher.run(TrackingEventProcessor.java:1240) ~[axon-messaging-4.5.15.jar:4.5.15]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:111) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:138) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:276) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:284) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421) ~[spring-orm-5.3.22.jar:5.3.22]
	... 10 common frames omitted
Caused by: java.sql.SQLException: HikariPool-1 - Interrupted during connection acquisition
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:201) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	... 17 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.base/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:940) ~[na:na]
	at com.zaxxer.hikari.util.ConcurrentBag.borrow(ConcurrentBag.java:151) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:180) ~[HikariCP-4.0.3.jar:na]
	... 22 common frames omitted

2022-09-03 00:16:00.446  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Releasing claim on token and preparing for retry in 1s
2022-09-03 00:16:00.447  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: null
2022-09-03 00:16:00.447 ERROR 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Interrupted during connection acquisition
2022-09-03 00:16:00.448  INFO 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Release claim failed
2022-09-03 00:16:00.448  WARN 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: null
2022-09-03 00:16:00.449 ERROR 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Interrupted during connection acquisition
2022-09-03 00:16:00.449  INFO 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Release claim failed
2022-09-03 00:16:00.449  INFO 12236 --- [EventProcessor[com.liem.ms.productservice.command.service.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 00:16:00.766  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-1] i.a.a.c.impl.AbstractAxonServerChannel   : Ignoring reconnect request, as connector is being shut down.
2022-09-03 00:16:00.773  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AbstractAxonServerChannel   : Ignoring reconnect request, as connector is being shut down.
2022-09-03 00:16:00.825  INFO 12236 --- [axon-connector-12236@DESKTOP-6L79JE3-0] i.a.a.c.impl.AbstractAxonServerChannel   : Ignoring reconnect request, as connector is being shut down.
2022-09-03 00:16:02.434  INFO 12236 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-03 00:16:02.439  INFO 12236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 00:16:04.025  INFO 12236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 00:16:04.027  INFO 12236 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 00:16:07.030  INFO 12236 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 00:16:09.040  INFO 12236 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/java.net.PlainSocketImpl.connect0(Native Method)
	at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:101)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2022-09-03 00:16:09.041  WARN 12236 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-09-03 00:16:11.050  INFO 12236 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/java.net.PlainSocketImpl.connect0(Native Method)
	at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:101)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2022-09-03 00:16:11.050  WARN 12236 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-09-03 00:16:11.053 ERROR 12236 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:790028218bb2b78f42bc408b0fa3acf3 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.3.jar:3.1.3]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.3.jar:3.1.3]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145) ~[spring-boot-2.7.3.jar:2.7.3]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114) ~[spring-boot-2.7.3.jar:2.7.3]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 00:16:11.058  INFO 12236 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 09:51:48.658  INFO 22308 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 22308 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 09:51:48.661  INFO 22308 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 09:51:48.725  INFO 22308 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-09-03 09:51:48.725  INFO 22308 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-09-03 09:51:50.463  WARN 22308 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:51:50.466  WARN 22308 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:51:51.017  INFO 22308 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-09-03 09:51:51.171  INFO 22308 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 2 JPA repository interfaces.
2022-09-03 09:51:51.626  INFO 22308 --- [restartedMain] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2022-09-03 09:51:51.909  INFO 22308 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4dbb54a8-5891-3d02-917e-120c553c0aef
2022-09-03 09:51:52.140  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7dca7487#33' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.141  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7dca7487#33' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.145  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#721bf31#33' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.147  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#2ea019bf' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.275  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.277  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.298  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3e2b4d08' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.301  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3e2b4d08' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.305  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4bfd8a95' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.306  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4bfd8a95' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:52.309  INFO 22308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 09:51:53.443  INFO 22308 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-09-03 09:51:53.461  INFO 22308 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 09:51:53.462  INFO 22308 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 09:51:53.744  INFO 22308 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 09:51:53.745  INFO 22308 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5019 ms
2022-09-03 09:51:54.303  INFO 22308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 09:51:54.587  INFO 22308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 09:51:54.632  INFO 22308 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:15432/product'
2022-09-03 09:51:55.502  INFO 22308 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 09:51:55.685  INFO 22308 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 09:51:56.434  INFO 22308 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 09:51:56.530  INFO 22308 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 09:51:56.757  INFO 22308 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 09:51:56.862  INFO 22308 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 09:51:57.088  INFO 22308 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 09:51:57.264  INFO 22308 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 09:51:58.345  INFO 22308 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 09:51:58.359  INFO 22308 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-09-03 09:51:58.707  INFO 22308 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 09:51:58.869  INFO 22308 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 09:51:58.869  INFO 22308 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 09:51:58.870  INFO 22308 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 09:51:58.888  INFO 22308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:51:58.889  INFO 22308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:51:58.890  INFO 22308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:51:58.891  INFO 22308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:51:59.619  WARN 22308 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-09-03 09:52:02.427  INFO 22308 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-03 09:52:03.839  WARN 22308 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-09-03 09:52:05.226  INFO 22308 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-03 09:52:05.263  INFO 22308 --- [restartedMain] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-03 09:52:05.530  WARN 22308 --- [restartedMain] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-03 09:52:05.562  INFO 22308 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-03 09:52:06.377  INFO 22308 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 09:52:07.810  INFO 22308 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 09:52:07.837  INFO 22308 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 09:52:07.877  INFO 22308 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 09:52:07.893  INFO 22308 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 09:52:07.986  INFO 22308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 09:52:07.989  INFO 22308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:52:07.997  INFO 22308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:52:08.001  INFO 22308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:52:08.296  INFO 22308 --- [restartedMain] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-03 09:52:08.380  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 09:52:08.389  INFO 22308 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 09:52:08.436  INFO 22308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 09:52:08.441  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:52:08.442  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:52:08.442  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:52:08.443  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:52:08.443  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:52:08.443  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 09:52:08.443  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:52:08.446  INFO 22308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 09:52:08.461  INFO 22308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: null for segment: Segment[0/0]
2022-09-03 09:52:09.294  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:52:09.297  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 09:52:09.303  INFO 22308 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 09:52:09.311  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662173529310 with initial instances count: 0
2022-09-03 09:52:09.323  INFO 22308 --- [restartedMain] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PRODUCT-SERVICE with eureka with status UP
2022-09-03 09:52:09.324  INFO 22308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173529324, current=UP, previous=STARTING]
2022-09-03 09:52:09.327  INFO 22308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:dfe35b2853296f97a45197d88523d4b5: registering service...
2022-09-03 09:52:09.345  INFO 22308 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/product'
2022-09-03 09:52:09.347  INFO 22308 --- [restartedMain] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8080
2022-09-03 09:52:09.477  INFO 22308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:dfe35b2853296f97a45197d88523d4b5 - registration status: 204
2022-09-03 09:52:10.791  INFO 22308 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-09-03 09:52:10.829  INFO 22308 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 24.15 seconds (JVM running for 26.395)
2022-09-03 09:52:11.287  INFO 22308 --- [RMI TCP Connection(5)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 09:52:11.288  INFO 22308 --- [RMI TCP Connection(5)-172.27.30.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-09-03 09:52:11.295  INFO 22308 --- [RMI TCP Connection(5)-172.27.30.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2022-09-03 09:52:39.297  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:52:39.298  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:52:39.298  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:52:39.298  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:52:39.298  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:52:39.298  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 09:52:39.298  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:52:39.309  INFO 22308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:55:17.095  INFO 22308 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 09:55:17.098  INFO 22308 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='961cd7af-a6bb-437a-ac27-d628808bbd4f', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 09:55:17.236  INFO 22308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Create entity: ProductEntity(price=10.0)
2022-09-03 09:57:08.417  INFO 22308 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PRODUCT-SERVICE with eureka with status DOWN
2022-09-03 09:57:08.418  INFO 22308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173828418, current=DOWN, previous=UP]
2022-09-03 09:57:08.418  INFO 22308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:dfe35b2853296f97a45197d88523d4b5: registering service...
2022-09-03 09:57:08.426  INFO 22308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:dfe35b2853296f97a45197d88523d4b5 - registration status: 204
2022-09-03 09:57:08.446  INFO 22308 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 09:57:08.649  INFO 22308 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 09:57:08.649  INFO 22308 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 09:57:09.670  INFO 22308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 09:57:09.671  INFO 22308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 09:57:09.688  INFO 22308 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:57:09.690  INFO 22308 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:57:09.690  INFO 22308 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:57:10.107  INFO 22308 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-09-03 09:57:10.112  INFO 22308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 09:57:10.119  INFO 22308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 09:57:10.120  INFO 22308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 09:57:13.124  INFO 22308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 09:57:13.132  INFO 22308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:dfe35b2853296f97a45197d88523d4b5 - deregister  status: 200
2022-09-03 09:57:13.137  INFO 22308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 09:57:20.080  INFO 15368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 15368 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 09:57:20.082 DEBUG 15368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 09:57:20.082  INFO 15368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 09:57:21.296 TRACE 15368 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonServerAutoConfiguration#axonServerCommandBus matched due to No match found for class [interface org.axonframework.commandhandling.CommandBus] and qualifier [localSegment]
2022-09-03 09:57:21.341 TRACE 15368 --- [restartedMain] Configuration$XStreamConfiguredCondition : Condition XStreamAutoConfiguration.XStreamConfiguredCondition on org.axonframework.springboot.autoconfig.XStreamAutoConfiguration#defaultAxonXStream matched due to AnyNestedCondition 2 matched 2 did not; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.EventsXStreamCondition @ConditionalOnProperty (axon.serializer.events=xstream) did not find property 'axon.serializer.events'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.MessagesXStreamCondition @ConditionalOnProperty (axon.serializer.messages=xstream) did not find property 'axon.serializer.messages'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralXStreamCondition @ConditionalOnProperty (axon.serializer.general=xstream) matched; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralDefaultCondition @ConditionalOnProperty (axon.serializer.general=default) matched
2022-09-03 09:57:21.352 TRACE 15368 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#serializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer,messageSerializer]
2022-09-03 09:57:21.355 TRACE 15368 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#messageSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [messageSerializer]
2022-09-03 09:57:21.357 TRACE 15368 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#eventSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer]
2022-09-03 09:57:21.383 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ParameterResolverFactory]
2022-09-03 09:57:21.407 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [CommandBus]
2022-09-03 09:57:21.408 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:57:21.409 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [QueryBus]
2022-09-03 09:57:21.409 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:57:21.412 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventBus]
2022-09-03 09:57:21.413 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [Serializer]
2022-09-03 09:57:21.416 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TokenStore]
2022-09-03 09:57:21.418 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 09:57:21.419 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 09:57:21.420 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [SagaStore]
2022-09-03 09:57:21.422 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TagsConfiguration]
2022-09-03 09:57:21.425 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ResourceInjector]
2022-09-03 09:57:21.426 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventScheduler]
2022-09-03 09:57:21.426 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:57:21.437 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 09:57:21.437 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 09:57:21.459  WARN 15368 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:57:21.460  WARN 15368 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:57:21.509 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [AggregateConfigurer]
2022-09-03 09:57:23.274  INFO 15368 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 09:57:23.274  INFO 15368 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 09:57:23.436  INFO 15368 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 09:57:24.074  INFO 15368 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 09:57:24.237  INFO 15368 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 09:57:24.414  INFO 15368 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 09:57:24.545  INFO 15368 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 09:57:25.127  INFO 15368 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 09:57:25.198  INFO 15368 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 09:57:25.317  INFO 15368 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 09:57:25.375  INFO 15368 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 09:57:25.526  INFO 15368 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 09:57:25.648  INFO 15368 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 09:57:26.384  INFO 15368 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 09:57:26.566 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 09:57:26.582 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 09:57:26.583 DEBUG 15368 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the context class loader
2022-09-03 09:57:26.584 DEBUG 15368 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the IdentifierFactory class loader.
2022-09-03 09:57:26.584 DEBUG 15368 --- [restartedMain] o.a.common.IdentifierFactory             : Using default UUID-based IdentifierFactory
2022-09-03 09:57:26.630 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [monitorFactory]: org.axonframework.config.MessageMonitorFactoryBuilder$$Lambda$1252/0x0000000800a37c40@53e8e6b2
2022-09-03 09:57:26.635 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ApplicationContext]: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a7a90c7, started on Sat Sep 03 09:57:20 ICT 2022
2022-09-03 09:57:26.647 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [correlationProviders]: [org.axonframework.messaging.correlation.MessageOriginProvider@3e9737]
2022-09-03 09:57:26.675  INFO 15368 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 09:57:26.824  INFO 15368 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 09:57:26.824  INFO 15368 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 09:57:26.824  INFO 15368 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 09:57:26.841  INFO 15368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:57:26.842  INFO 15368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:57:26.843  INFO 15368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:57:26.845  INFO 15368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:57:27.305 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [queryUpdateEmitter]: org.axonframework.queryhandling.SimpleQueryUpdateEmitter@5d7e30a3
2022-09-03 09:57:28.526 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotFilter<BaseAggregate>]: org.axonframework.eventsourcing.snapshotting.SnapshotFilter$$Lambda$1707/0x0000000800b80840@71ccd93d
2022-09-03 09:57:28.527 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventUpcasterChain]: org.axonframework.serialization.upcasting.event.EventUpcasterChain@3acf509f
2022-09-03 09:57:28.637 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ParameterResolverFactory]: org.axonframework.messaging.annotation.MultiParameterResolverFactory@4713df17
2022-09-03 09:57:28.638 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [handlerDefinition]: org.axonframework.config.DefaultConfigurer$$Lambda$1716/0x0000000800b87440@3b749e68
2022-09-03 09:57:28.659 DEBUG 15368 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 09:57:28.667 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventHandler]: com.liem.ms.productservice.command.handler.impl.ProductEventHandlerImpl@67f0e680
2022-09-03 09:57:33.134  INFO 15368 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 09:57:33.872  INFO 15368 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 09:57:33.889  INFO 15368 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 09:57:33.914  INFO 15368 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 09:57:33.928  INFO 15368 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 09:57:33.932 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Initiating start up
2022-09-03 09:57:33.932 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-2147483648]
2022-09-03 09:57:33.933 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandBus]: org.axonframework.axonserver.connector.command.AxonServerCommandBus@44228c21
2022-09-03 09:57:33.934 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 09:57:33.934 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 09:57:33.934 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerCommandBus]
2022-09-03 09:57:33.934 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [QueryBus]: org.axonframework.axonserver.connector.query.AxonServerQueryBus@212b7594
2022-09-03 09:57:33.935 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 09:57:33.935 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 09:57:33.936 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerQueryBus]
2022-09-03 09:57:33.936 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventScheduler]: org.axonframework.axonserver.connector.event.axon.AxonServerEventScheduler@33565f10
2022-09-03 09:57:33.936 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 09:57:33.936 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 09:57:33.939 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ListenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@52db880d
2022-09-03 09:57:33.941 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [listenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@52db880d
2022-09-03 09:57:33.941 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [sequencingPolicy]: org.axonframework.eventhandling.async.SequentialPerAggregatePolicy@1bda2002
2022-09-03 09:57:33.945 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventBus]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@63018b98
2022-09-03 09:57:33.946 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TrackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@54951486
2022-09-03 09:57:33.947 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [trackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@54951486
2022-09-03 09:57:33.947 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [defaultStreamableMessageSource]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@63018b98
2022-09-03 09:57:33.950 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [RollbackConfiguration]: ANY_THROWABLE
2022-09-03 09:57:33.951 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [rollbackConfiguration]: ANY_THROWABLE
2022-09-03 09:57:33.951 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ErrorHandler]: INSTANCE
2022-09-03 09:57:33.952 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [errorHandler]: INSTANCE
2022-09-03 09:57:33.953 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@22e572cf
2022-09-03 09:57:33.954 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [tokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@22e572cf
2022-09-03 09:57:33.954 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TransactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@3cd0d40d
2022-09-03 09:57:33.955 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [transactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@3cd0d40d
2022-09-03 09:57:33.958 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [com.liem.ms.productservice.command.handler.impl]: com.liem.ms.productservice.command.handler.impl
2022-09-03 09:57:33.959 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 09:57:33.960 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 09:57:33.960 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-10]
2022-09-03 09:57:33.961 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 09:57:33.961 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [0]
2022-09-03 09:57:33.969 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [AggregateMetaModelFactory]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory@4a4bda52
2022-09-03 09:57:33.976 DEBUG 15368 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 09:57:33.977 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateMetaModel<BaseAggregate>]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory$AnnotatedAggregateModel@70c15444
2022-09-03 09:57:33.977 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateFactory<BaseAggregate>]: org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory@7c2c8b0c
2022-09-03 09:57:33.978 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotTriggerDefinition<BaseAggregate>]: INSTANCE
2022-09-03 09:57:33.978 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCache<BaseAggregate>]: null
2022-09-03 09:57:33.978 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 09:57:33.979 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventStreamFilter<BaseAggregate>]: null
2022-09-03 09:57:33.979 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 09:57:33.979 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [filterByAggregateType<BaseAggregate>]: false
2022-09-03 09:57:33.980 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [Repository<BaseAggregate>]: org.axonframework.eventsourcing.EventSourcingRepository@3d307a3b
2022-09-03 09:57:33.984 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandTargetResolver]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 09:57:33.984 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [commandTargetResolver<BaseAggregate>]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 09:57:33.989 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCommandHandler<BaseAggregate>]: org.axonframework.modelling.command.AggregateAnnotationCommandHandler@167047e4
2022-09-03 09:57:33.991 DEBUG 15368 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:57:33.991 DEBUG 15368 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand]
2022-09-03 09:57:34.004  INFO 15368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 09:57:34.007  INFO 15368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:57:34.012 DEBUG 15368 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:57:34.012 DEBUG 15368 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand]
2022-09-03 09:57:34.013  INFO 15368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:57:34.014 DEBUG 15368 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:57:34.014 DEBUG 15368 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand]
2022-09-03 09:57:34.014  INFO 15368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:57:34.015 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [536870911]
2022-09-03 09:57:34.015 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 09:57:34.016 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 09:57:34.016 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741823]
2022-09-03 09:57:34.016 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConnectionManager@239ffc9e
2022-09-03 09:57:34.017 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [AxonServerConnectionManager]
2022-09-03 09:57:34.017 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-134217728] from component [AxonServerConnectionManager]
2022-09-03 09:57:34.018 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessingConfiguration]: org.axonframework.config.EventProcessingModule@43713f9b
2022-09-03 09:57:34.018 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConfiguration@338dc47
2022-09-03 09:57:34.019 DEBUG 15368 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessorControlService]: org.axonframework.axonserver.connector.processor.EventProcessorControlService@2fb1990c
2022-09-03 09:57:34.021 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [EventProcessorControlService]
2022-09-03 09:57:34.021 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 09:57:34.025 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741833]
2022-09-03 09:57:34.025 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerConnectionManager] in phase [1073741833]
2022-09-03 09:57:34.025 DEBUG 15368 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [EventProcessorControlService] in phase [1073741833]
2022-09-03 09:57:34.150 DEBUG 15368 --- [restartedMain] o.a.config.DefaultConfigurer             : Finalized start sequence
2022-09-03 09:57:34.220  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 09:57:34.221  INFO 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 09:57:34.228  INFO 15368 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 09:57:34.231  INFO 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 09:57:34.253  INFO 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2022-09-03 09:57:34.259  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:57:34.259  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:57:34.259  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:57:34.259  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:57:34.259  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:57:34.259  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 09:57:34.260  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:57:34.666  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:57:34.668  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 09:57:34.671  INFO 15368 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 09:57:34.680  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662173854678 with initial instances count: 0
2022-09-03 09:57:34.688  INFO 15368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173854688, current=UP, previous=STARTING]
2022-09-03 09:57:34.692  INFO 15368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:bbdf6cbc922a236f8457f21b3b7cd8b3: registering service...
2022-09-03 09:57:34.739  INFO 15368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:bbdf6cbc922a236f8457f21b3b7cd8b3 - registration status: 204
2022-09-03 09:57:34.783 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:35.284 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:35.803 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:36.049  INFO 15368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 17.879 seconds (JVM running for 19.705)
2022-09-03 09:57:36.302 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:36.479  INFO 15368 --- [RMI TCP Connection(1)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 09:57:36.812 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:37.312 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:37.821 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:38.321 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:38.830 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:39.330 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:39.836 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:40.337 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:40.844 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:41.345 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:41.854 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:42.355 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:42.862 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:43.362 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:43.870 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:44.370 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:44.877 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:45.378 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:45.885 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:46.386 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:46.897 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:47.399 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:47.907 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:48.406 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:48.914 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:49.413 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:49.928 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:50.428 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:50.936 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:51.437 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:51.947 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:52.447 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:52.957 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:53.457 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:53.964 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:54.465 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:54.974 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:55.474 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:55.981 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:56.481 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:56.988 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:57.488 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:57.996 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:58.495 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:59.004 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:57:59.503 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:00.010 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:00.509 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:01.016 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:01.517 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:02.027 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:02.526 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:03.034 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:03.535 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:04.045 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:04.544 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:04.669  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:58:04.670  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:58:04.670  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:58:04.670  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:58:04.670  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:58:04.670  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 09:58:04.670  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:58:04.680  INFO 15368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:58:05.052 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:05.553 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:06.061 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:06.561 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:07.070 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:07.570 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:08.082 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:08.583 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:09.091 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:09.592 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:10.100 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:10.600 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:10.750  INFO 15368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173890750, current=DOWN, previous=UP]
2022-09-03 09:58:10.750  INFO 15368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:bbdf6cbc922a236f8457f21b3b7cd8b3: registering service...
2022-09-03 09:58:10.757  INFO 15368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:bbdf6cbc922a236f8457f21b3b7cd8b3 - registration status: 204
2022-09-03 09:58:10.980 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Initiating shutdown
2022-09-03 09:58:10.980 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [1073741823]
2022-09-03 09:58:10.980 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 09:58:10.981  INFO 15368 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 09:58:10.981  INFO 15368 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 09:58:11.106 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:11.607 TRACE 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:11.622  INFO 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 09:58:11.623  INFO 15368 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 09:58:11.624 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [536870911]
2022-09-03 09:58:11.624 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 09:58:11.628 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 09:58:11.634 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [0]
2022-09-03 09:58:11.635  INFO 15368 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:58:11.637  INFO 15368 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:58:11.637  INFO 15368 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:58:11.637 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [0]
2022-09-03 09:58:11.638 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [0]
2022-09-03 09:58:11.638 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-10]
2022-09-03 09:58:11.638 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 09:58:11.638 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-134217728]
2022-09-03 09:58:11.638 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerConnectionManager] in phase [-134217728]
2022-09-03 09:58:11.761 DEBUG 15368 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Finalized shutdown sequence
2022-09-03 09:58:11.778  INFO 15368 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 09:58:11.787  INFO 15368 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 09:58:11.788  INFO 15368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 09:58:14.790  INFO 15368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 09:58:14.795  INFO 15368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:bbdf6cbc922a236f8457f21b3b7cd8b3 - deregister  status: 200
2022-09-03 09:58:14.800  INFO 15368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 09:58:21.471  INFO 15544 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 15544 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 09:58:21.472  INFO 15544 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 09:58:22.678 TRACE 15544 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonServerAutoConfiguration#axonServerCommandBus matched due to No match found for class [interface org.axonframework.commandhandling.CommandBus] and qualifier [localSegment]
2022-09-03 09:58:22.719 TRACE 15544 --- [restartedMain] Configuration$XStreamConfiguredCondition : Condition XStreamAutoConfiguration.XStreamConfiguredCondition on org.axonframework.springboot.autoconfig.XStreamAutoConfiguration#defaultAxonXStream matched due to AnyNestedCondition 2 matched 2 did not; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.EventsXStreamCondition @ConditionalOnProperty (axon.serializer.events=xstream) did not find property 'axon.serializer.events'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.MessagesXStreamCondition @ConditionalOnProperty (axon.serializer.messages=xstream) did not find property 'axon.serializer.messages'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralXStreamCondition @ConditionalOnProperty (axon.serializer.general=xstream) matched; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralDefaultCondition @ConditionalOnProperty (axon.serializer.general=default) matched
2022-09-03 09:58:22.730 TRACE 15544 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#serializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer,messageSerializer]
2022-09-03 09:58:22.733 TRACE 15544 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#messageSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [messageSerializer]
2022-09-03 09:58:22.735 TRACE 15544 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#eventSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer]
2022-09-03 09:58:22.761 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ParameterResolverFactory]
2022-09-03 09:58:22.785 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [CommandBus]
2022-09-03 09:58:22.785 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:58:22.787 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [QueryBus]
2022-09-03 09:58:22.787 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:58:22.789 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventBus]
2022-09-03 09:58:22.790 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [Serializer]
2022-09-03 09:58:22.794 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TokenStore]
2022-09-03 09:58:22.795 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 09:58:22.796 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 09:58:22.797 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [SagaStore]
2022-09-03 09:58:22.799 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TagsConfiguration]
2022-09-03 09:58:22.801 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ResourceInjector]
2022-09-03 09:58:22.802 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventScheduler]
2022-09-03 09:58:22.803 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:58:22.813 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 09:58:22.813 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 09:58:22.834  WARN 15544 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:58:22.835  WARN 15544 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:58:22.875 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [AggregateConfigurer]
2022-09-03 09:58:24.628  INFO 15544 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 09:58:24.629  INFO 15544 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 09:58:24.790  INFO 15544 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 09:58:25.433  INFO 15544 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 09:58:25.596  INFO 15544 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 09:58:25.776  INFO 15544 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 09:58:25.902  INFO 15544 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 09:58:26.476  INFO 15544 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 09:58:26.544  INFO 15544 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 09:58:26.660  INFO 15544 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 09:58:26.712  INFO 15544 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 09:58:26.862  INFO 15544 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 09:58:26.985  INFO 15544 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 09:58:27.731  INFO 15544 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 09:58:27.914 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 09:58:27.932 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 09:58:27.933 DEBUG 15544 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the context class loader
2022-09-03 09:58:27.934 DEBUG 15544 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the IdentifierFactory class loader.
2022-09-03 09:58:27.934 DEBUG 15544 --- [restartedMain] o.a.common.IdentifierFactory             : Using default UUID-based IdentifierFactory
2022-09-03 09:58:27.963 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [monitorFactory]: org.axonframework.config.MessageMonitorFactoryBuilder$$Lambda$1252/0x0000000800a37840@5d9d631c
2022-09-03 09:58:27.984 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ApplicationContext]: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@345a34c2, started on Sat Sep 03 09:58:21 ICT 2022
2022-09-03 09:58:27.996 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [correlationProviders]: [org.axonframework.messaging.correlation.MessageOriginProvider@dc6d564]
2022-09-03 09:58:28.022  INFO 15544 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 09:58:28.163  INFO 15544 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 09:58:28.163  INFO 15544 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 09:58:28.163  INFO 15544 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 09:58:28.180  INFO 15544 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:58:28.181  INFO 15544 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:58:28.182  INFO 15544 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:58:28.184  INFO 15544 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:58:28.660 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [queryUpdateEmitter]: org.axonframework.queryhandling.SimpleQueryUpdateEmitter@1c3357c0
2022-09-03 09:58:29.909 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotFilter<BaseAggregate>]: org.axonframework.eventsourcing.snapshotting.SnapshotFilter$$Lambda$1707/0x0000000800b80840@5d926ed
2022-09-03 09:58:29.910 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventUpcasterChain]: org.axonframework.serialization.upcasting.event.EventUpcasterChain@2582c356
2022-09-03 09:58:30.027 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ParameterResolverFactory]: org.axonframework.messaging.annotation.MultiParameterResolverFactory@8be6418
2022-09-03 09:58:30.028 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [handlerDefinition]: org.axonframework.config.DefaultConfigurer$$Lambda$1716/0x0000000800b87440@2e92ec07
2022-09-03 09:58:30.049 DEBUG 15544 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 09:58:30.058 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventHandler]: com.liem.ms.productservice.command.handler.impl.ProductEventHandlerImpl@44ea1e18
2022-09-03 09:58:34.906  INFO 15544 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 09:58:35.850  INFO 15544 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 09:58:35.884  INFO 15544 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 09:58:35.936  INFO 15544 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 09:58:35.955  INFO 15544 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 09:58:35.960 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Initiating start up
2022-09-03 09:58:35.964 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-2147483648]
2022-09-03 09:58:35.965 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandBus]: org.axonframework.axonserver.connector.command.AxonServerCommandBus@5556b469
2022-09-03 09:58:35.965 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 09:58:35.966 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 09:58:35.967 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerCommandBus]
2022-09-03 09:58:35.967 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [QueryBus]: org.axonframework.axonserver.connector.query.AxonServerQueryBus@22489a54
2022-09-03 09:58:35.967 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 09:58:35.968 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 09:58:35.969 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerQueryBus]
2022-09-03 09:58:35.969 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventScheduler]: org.axonframework.axonserver.connector.event.axon.AxonServerEventScheduler@6bb25427
2022-09-03 09:58:35.969 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 09:58:35.970 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 09:58:35.975 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ListenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@6936a5bf
2022-09-03 09:58:35.977 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [listenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@6936a5bf
2022-09-03 09:58:35.977 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [sequencingPolicy]: org.axonframework.eventhandling.async.SequentialPerAggregatePolicy@920d65c
2022-09-03 09:58:35.987 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventBus]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@694bf493
2022-09-03 09:58:35.989 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TrackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@450304e6
2022-09-03 09:58:35.991 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [trackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@450304e6
2022-09-03 09:58:36.011 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [defaultStreamableMessageSource]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@694bf493
2022-09-03 09:58:36.017 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [RollbackConfiguration]: ANY_THROWABLE
2022-09-03 09:58:36.018 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [rollbackConfiguration]: ANY_THROWABLE
2022-09-03 09:58:36.020 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ErrorHandler]: INSTANCE
2022-09-03 09:58:36.021 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [errorHandler]: INSTANCE
2022-09-03 09:58:36.023 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@4217c6a0
2022-09-03 09:58:36.024 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [tokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@4217c6a0
2022-09-03 09:58:36.025 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TransactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@6447552a
2022-09-03 09:58:36.026 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [transactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@6447552a
2022-09-03 09:58:36.031 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [com.liem.ms.productservice.command.handler.impl]: com.liem.ms.productservice.command.handler.impl
2022-09-03 09:58:36.034 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 09:58:36.035 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 09:58:36.035 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-10]
2022-09-03 09:58:36.036 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 09:58:36.036 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [0]
2022-09-03 09:58:36.048 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [AggregateMetaModelFactory]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory@97c5bd5
2022-09-03 09:58:36.059 DEBUG 15544 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 09:58:36.060 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateMetaModel<BaseAggregate>]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory$AnnotatedAggregateModel@204de9e7
2022-09-03 09:58:36.062 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateFactory<BaseAggregate>]: org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory@755274cf
2022-09-03 09:58:36.063 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotTriggerDefinition<BaseAggregate>]: INSTANCE
2022-09-03 09:58:36.063 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCache<BaseAggregate>]: null
2022-09-03 09:58:36.064 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 09:58:36.065 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventStreamFilter<BaseAggregate>]: null
2022-09-03 09:58:36.065 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 09:58:36.065 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [filterByAggregateType<BaseAggregate>]: false
2022-09-03 09:58:36.066 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [Repository<BaseAggregate>]: org.axonframework.eventsourcing.EventSourcingRepository@747135b7
2022-09-03 09:58:36.073 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandTargetResolver]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 09:58:36.075 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [commandTargetResolver<BaseAggregate>]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 09:58:36.085 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCommandHandler<BaseAggregate>]: org.axonframework.modelling.command.AggregateAnnotationCommandHandler@383a4cdf
2022-09-03 09:58:36.088 DEBUG 15544 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:58:36.088 DEBUG 15544 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand]
2022-09-03 09:58:36.116  INFO 15544 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 09:58:36.118  INFO 15544 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:58:36.130 DEBUG 15544 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:58:36.131 DEBUG 15544 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand]
2022-09-03 09:58:36.132  INFO 15544 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:58:36.133 DEBUG 15544 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:58:36.134 DEBUG 15544 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand]
2022-09-03 09:58:36.135  INFO 15544 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:58:36.139 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [536870911]
2022-09-03 09:58:36.140 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 09:58:36.141 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 09:58:36.142 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741823]
2022-09-03 09:58:36.142 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConnectionManager@3c676036
2022-09-03 09:58:36.144 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [AxonServerConnectionManager]
2022-09-03 09:58:36.145 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-134217728] from component [AxonServerConnectionManager]
2022-09-03 09:58:36.147 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessingConfiguration]: org.axonframework.config.EventProcessingModule@3eceaca
2022-09-03 09:58:36.149 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConfiguration@6a8c30e8
2022-09-03 09:58:36.150 DEBUG 15544 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessorControlService]: org.axonframework.axonserver.connector.processor.EventProcessorControlService@78547169
2022-09-03 09:58:36.155 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [EventProcessorControlService]
2022-09-03 09:58:36.156 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 09:58:36.164 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741833]
2022-09-03 09:58:36.165 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerConnectionManager] in phase [1073741833]
2022-09-03 09:58:36.165 DEBUG 15544 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [EventProcessorControlService] in phase [1073741833]
2022-09-03 09:58:36.354 DEBUG 15544 --- [restartedMain] o.a.config.DefaultConfigurer             : Finalized start sequence
2022-09-03 09:58:36.426  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 09:58:36.432  INFO 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 09:58:36.432  INFO 15544 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 09:58:36.448  INFO 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 09:58:36.472  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:58:36.472  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:58:36.473  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:58:36.473  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:58:36.473  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:58:36.473  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 09:58:36.474  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:58:36.486  INFO 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2022-09-03 09:58:36.965  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:58:36.968  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 09:58:36.972  INFO 15544 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 09:58:36.979  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662173916978 with initial instances count: 0
2022-09-03 09:58:36.987  INFO 15544 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173916987, current=UP, previous=STARTING]
2022-09-03 09:58:36.990  INFO 15544 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2818719c3ced8347221a35ae23ca0d57: registering service...
2022-09-03 09:58:37.025 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:37.041  INFO 15544 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2818719c3ced8347221a35ae23ca0d57 - registration status: 204
2022-09-03 09:58:37.524 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:38.047 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:38.408  INFO 15544 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 18.881 seconds (JVM running for 20.542)
2022-09-03 09:58:38.548 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:39.018  INFO 15544 --- [RMI TCP Connection(14)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 09:58:39.060 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:39.559 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:40.072 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:40.573 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:41.083 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:41.583 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:42.096 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:42.596 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:43.155 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:43.655 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:44.170 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:44.670 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:45.182 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:45.682 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:46.191 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:46.692 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:47.199 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:47.699 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:48.209 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:48.707 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:49.216 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:49.716 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:50.223 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:50.724 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:51.234 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:51.733 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:52.240 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:52.740 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:53.248 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:53.747 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:54.255 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:54.753 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:55.263 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:55.763 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:56.273 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:56.773 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:57.280 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:57.780 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:58.289 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:58.792 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:59.302 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:58:59.803 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:00.315 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:00.816 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:01.328 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:01.828 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:02.337 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:02.836 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:03.343 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:03.842 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:04.352 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:04.852 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:05.360 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:05.860 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:06.374 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:06.875 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:06.969  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:59:06.969  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:59:06.970  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:59:06.970  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:59:06.970  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:59:06.970  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 09:59:06.970  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:59:06.983  INFO 15544 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:59:07.382 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:07.882 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:08.389 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:08.890 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:09.397 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:09.898 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:10.407 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:10.908 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:11.416 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:11.917 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:12.424 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:12.925 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:13.439 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:13.936 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:13.996  INFO 15544 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173953996, current=DOWN, previous=UP]
2022-09-03 09:59:13.996  INFO 15544 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2818719c3ced8347221a35ae23ca0d57: registering service...
2022-09-03 09:59:14.002  INFO 15544 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2818719c3ced8347221a35ae23ca0d57 - registration status: 204
2022-09-03 09:59:14.213 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Initiating shutdown
2022-09-03 09:59:14.214 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [1073741823]
2022-09-03 09:59:14.214 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 09:59:14.215  INFO 15544 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 09:59:14.215  INFO 15544 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 09:59:14.446 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:14.945 TRACE 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:14.967  INFO 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 09:59:14.968  INFO 15544 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 09:59:14.968 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [536870911]
2022-09-03 09:59:14.968 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 09:59:14.972 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 09:59:14.978 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [0]
2022-09-03 09:59:14.981  INFO 15544 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:59:14.982  INFO 15544 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:59:14.983  INFO 15544 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:59:14.984 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [0]
2022-09-03 09:59:14.985 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [0]
2022-09-03 09:59:14.986 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-10]
2022-09-03 09:59:14.986 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 09:59:14.986 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-134217728]
2022-09-03 09:59:14.986 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerConnectionManager] in phase [-134217728]
2022-09-03 09:59:15.478 DEBUG 15544 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Finalized shutdown sequence
2022-09-03 09:59:15.495  INFO 15544 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 09:59:15.502  INFO 15544 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 09:59:15.503  INFO 15544 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 09:59:18.505  INFO 15544 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 09:59:18.510  INFO 15544 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:2818719c3ced8347221a35ae23ca0d57 - deregister  status: 200
2022-09-03 09:59:18.515  INFO 15544 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 09:59:29.063  INFO 19964 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 19964 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 09:59:29.065  INFO 19964 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 09:59:30.334 TRACE 19964 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonServerAutoConfiguration#axonServerCommandBus matched due to No match found for class [interface org.axonframework.commandhandling.CommandBus] and qualifier [localSegment]
2022-09-03 09:59:30.395 TRACE 19964 --- [restartedMain] Configuration$XStreamConfiguredCondition : Condition XStreamAutoConfiguration.XStreamConfiguredCondition on org.axonframework.springboot.autoconfig.XStreamAutoConfiguration#defaultAxonXStream matched due to AnyNestedCondition 2 matched 2 did not; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.EventsXStreamCondition @ConditionalOnProperty (axon.serializer.events=xstream) did not find property 'axon.serializer.events'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.MessagesXStreamCondition @ConditionalOnProperty (axon.serializer.messages=xstream) did not find property 'axon.serializer.messages'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralXStreamCondition @ConditionalOnProperty (axon.serializer.general=xstream) matched; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralDefaultCondition @ConditionalOnProperty (axon.serializer.general=default) matched
2022-09-03 09:59:30.407 TRACE 19964 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#serializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer,messageSerializer]
2022-09-03 09:59:30.411 TRACE 19964 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#messageSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [messageSerializer]
2022-09-03 09:59:30.413 TRACE 19964 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#eventSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer]
2022-09-03 09:59:30.448 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ParameterResolverFactory]
2022-09-03 09:59:30.474 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [CommandBus]
2022-09-03 09:59:30.475 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:59:30.477 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [QueryBus]
2022-09-03 09:59:30.477 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:59:30.480 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventBus]
2022-09-03 09:59:30.481 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [Serializer]
2022-09-03 09:59:30.485 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TokenStore]
2022-09-03 09:59:30.486 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 09:59:30.488 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 09:59:30.488 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [SagaStore]
2022-09-03 09:59:30.490 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TagsConfiguration]
2022-09-03 09:59:30.493 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ResourceInjector]
2022-09-03 09:59:30.495 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventScheduler]
2022-09-03 09:59:30.495 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 09:59:30.507 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 09:59:30.508 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 09:59:30.540  WARN 19964 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:59:30.543  WARN 19964 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 09:59:30.597 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [AggregateConfigurer]
2022-09-03 09:59:32.470  INFO 19964 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 09:59:32.471  INFO 19964 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 09:59:32.648  INFO 19964 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 09:59:33.310  INFO 19964 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 09:59:33.476  INFO 19964 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 09:59:33.655  INFO 19964 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 09:59:33.780  INFO 19964 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 09:59:34.358  INFO 19964 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 09:59:34.428  INFO 19964 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 09:59:34.545  INFO 19964 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 09:59:34.598  INFO 19964 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 09:59:34.748  INFO 19964 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 09:59:34.873  INFO 19964 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 09:59:35.619  INFO 19964 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 09:59:35.796 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 09:59:35.812 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 09:59:35.813 DEBUG 19964 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the context class loader
2022-09-03 09:59:35.814 DEBUG 19964 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the IdentifierFactory class loader.
2022-09-03 09:59:35.814 DEBUG 19964 --- [restartedMain] o.a.common.IdentifierFactory             : Using default UUID-based IdentifierFactory
2022-09-03 09:59:35.843 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [monitorFactory]: org.axonframework.config.MessageMonitorFactoryBuilder$$Lambda$1253/0x0000000800a40040@647b68d5
2022-09-03 09:59:35.847 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ApplicationContext]: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1ea54711, started on Sat Sep 03 09:59:29 ICT 2022
2022-09-03 09:59:35.860 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [correlationProviders]: [org.axonframework.messaging.correlation.MessageOriginProvider@40f74377]
2022-09-03 09:59:35.890  INFO 19964 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 09:59:36.049  INFO 19964 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 09:59:36.050  INFO 19964 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 09:59:36.050  INFO 19964 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 09:59:36.069  INFO 19964 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:59:36.071  INFO 19964 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 09:59:36.072  INFO 19964 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:59:36.074  INFO 19964 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 09:59:36.551 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [queryUpdateEmitter]: org.axonframework.queryhandling.SimpleQueryUpdateEmitter@7e2750d5
2022-09-03 09:59:37.824 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotFilter<BaseAggregate>]: org.axonframework.eventsourcing.snapshotting.SnapshotFilter$$Lambda$1708/0x0000000800b80c40@1273e85a
2022-09-03 09:59:37.826 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventUpcasterChain]: org.axonframework.serialization.upcasting.event.EventUpcasterChain@841d4a3
2022-09-03 09:59:37.944 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ParameterResolverFactory]: org.axonframework.messaging.annotation.MultiParameterResolverFactory@3465ef
2022-09-03 09:59:37.945 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [handlerDefinition]: org.axonframework.config.DefaultConfigurer$$Lambda$1717/0x0000000800b87040@673c2994
2022-09-03 09:59:37.968 DEBUG 19964 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 09:59:37.977 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventHandler]: com.liem.ms.productservice.command.handler.impl.ProductEventHandlerImpl@43ddf29a
2022-09-03 09:59:42.507  INFO 19964 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 09:59:43.224  INFO 19964 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 09:59:43.240  INFO 19964 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 09:59:43.263  INFO 19964 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 09:59:43.271  INFO 19964 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 09:59:43.275 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Initiating start up
2022-09-03 09:59:43.275 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-2147483648]
2022-09-03 09:59:43.277 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandBus]: org.axonframework.axonserver.connector.command.AxonServerCommandBus@557eeef2
2022-09-03 09:59:43.278 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 09:59:43.278 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 09:59:43.278 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerCommandBus]
2022-09-03 09:59:43.278 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [QueryBus]: org.axonframework.axonserver.connector.query.AxonServerQueryBus@b6b3b64
2022-09-03 09:59:43.279 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 09:59:43.279 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 09:59:43.279 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerQueryBus]
2022-09-03 09:59:43.279 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventScheduler]: org.axonframework.axonserver.connector.event.axon.AxonServerEventScheduler@3b78df2a
2022-09-03 09:59:43.280 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 09:59:43.280 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 09:59:43.283 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ListenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@7ab94d93
2022-09-03 09:59:43.284 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [listenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@7ab94d93
2022-09-03 09:59:43.285 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [sequencingPolicy]: org.axonframework.eventhandling.async.SequentialPerAggregatePolicy@62b6d20e
2022-09-03 09:59:43.289 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventBus]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@1b4f3d62
2022-09-03 09:59:43.289 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TrackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@42ac3ffc
2022-09-03 09:59:43.290 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [trackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@42ac3ffc
2022-09-03 09:59:43.290 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [defaultStreamableMessageSource]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@1b4f3d62
2022-09-03 09:59:43.293 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [RollbackConfiguration]: ANY_THROWABLE
2022-09-03 09:59:43.294 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [rollbackConfiguration]: ANY_THROWABLE
2022-09-03 09:59:43.294 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ErrorHandler]: INSTANCE
2022-09-03 09:59:43.295 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [errorHandler]: INSTANCE
2022-09-03 09:59:43.296 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@4faa0ee6
2022-09-03 09:59:43.297 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [tokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@4faa0ee6
2022-09-03 09:59:43.297 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TransactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@5f645c7e
2022-09-03 09:59:43.297 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [transactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@5f645c7e
2022-09-03 09:59:43.300 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [com.liem.ms.productservice.command.handler.impl]: com.liem.ms.productservice.command.handler.impl
2022-09-03 09:59:43.301 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 09:59:43.302 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 09:59:43.302 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-10]
2022-09-03 09:59:43.302 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 09:59:43.302 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [0]
2022-09-03 09:59:43.311 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [AggregateMetaModelFactory]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory@66a8f7d4
2022-09-03 09:59:43.317 DEBUG 19964 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 09:59:43.318 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateMetaModel<BaseAggregate>]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory$AnnotatedAggregateModel@103d76e3
2022-09-03 09:59:43.319 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateFactory<BaseAggregate>]: org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory@3a5f42a4
2022-09-03 09:59:43.319 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotTriggerDefinition<BaseAggregate>]: INSTANCE
2022-09-03 09:59:43.319 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCache<BaseAggregate>]: null
2022-09-03 09:59:43.319 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 09:59:43.320 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventStreamFilter<BaseAggregate>]: null
2022-09-03 09:59:43.320 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 09:59:43.320 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [filterByAggregateType<BaseAggregate>]: false
2022-09-03 09:59:43.321 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [Repository<BaseAggregate>]: org.axonframework.eventsourcing.EventSourcingRepository@3ef24a17
2022-09-03 09:59:43.325 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandTargetResolver]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 09:59:43.325 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [commandTargetResolver<BaseAggregate>]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 09:59:43.330 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCommandHandler<BaseAggregate>]: org.axonframework.modelling.command.AggregateAnnotationCommandHandler@7182f92d
2022-09-03 09:59:43.332 DEBUG 19964 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:59:43.332 DEBUG 19964 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand]
2022-09-03 09:59:43.345  INFO 19964 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 09:59:43.347  INFO 19964 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:59:43.352 DEBUG 19964 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:59:43.352 DEBUG 19964 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand]
2022-09-03 09:59:43.352  INFO 19964 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:59:43.353 DEBUG 19964 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 09:59:43.353 DEBUG 19964 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand]
2022-09-03 09:59:43.353  INFO 19964 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:59:43.354 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [536870911]
2022-09-03 09:59:43.355 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 09:59:43.355 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 09:59:43.355 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741823]
2022-09-03 09:59:43.356 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConnectionManager@7d482aee
2022-09-03 09:59:43.356 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [AxonServerConnectionManager]
2022-09-03 09:59:43.357 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-134217728] from component [AxonServerConnectionManager]
2022-09-03 09:59:43.357 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessingConfiguration]: org.axonframework.config.EventProcessingModule@330680fc
2022-09-03 09:59:43.358 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConfiguration@2ab596de
2022-09-03 09:59:43.358 DEBUG 19964 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessorControlService]: org.axonframework.axonserver.connector.processor.EventProcessorControlService@18f98194
2022-09-03 09:59:43.361 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [EventProcessorControlService]
2022-09-03 09:59:43.362 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 09:59:43.364 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741833]
2022-09-03 09:59:43.365 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerConnectionManager] in phase [1073741833]
2022-09-03 09:59:43.365 DEBUG 19964 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [EventProcessorControlService] in phase [1073741833]
2022-09-03 09:59:43.489 DEBUG 19964 --- [restartedMain] o.a.config.DefaultConfigurer             : Finalized start sequence
2022-09-03 09:59:43.549  INFO 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 09:59:43.557  INFO 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 09:59:43.562  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 09:59:43.567  INFO 19964 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 09:59:43.579  INFO 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2022-09-03 09:59:43.599  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 09:59:43.599  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 09:59:43.599  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 09:59:43.599  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 09:59:43.599  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 09:59:43.599  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 09:59:43.600  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 09:59:44.000  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 09:59:44.003  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 09:59:44.006  INFO 19964 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 09:59:44.012  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662173984011 with initial instances count: 0
2022-09-03 09:59:44.020  INFO 19964 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173984020, current=UP, previous=STARTING]
2022-09-03 09:59:44.022  INFO 19964 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c8385146b0df64d0cba80cf18c518b6e: registering service...
2022-09-03 09:59:44.067  INFO 19964 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c8385146b0df64d0cba80cf18c518b6e - registration status: 204
2022-09-03 09:59:44.110 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:44.608 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:45.129 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:45.378  INFO 19964 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 18.185 seconds (JVM running for 19.845)
2022-09-03 09:59:45.627 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:45.686  INFO 19964 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 09:59:46.136 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:46.636 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:47.147 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:47.647 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:48.155 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:48.656 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:49.163 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:49.664 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:50.177 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:50.676 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:51.189 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:51.689 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:52.198 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:52.698 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:53.206 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:53.710 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:54.037  INFO 19964 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662173994037, current=DOWN, previous=UP]
2022-09-03 09:59:54.040  INFO 19964 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c8385146b0df64d0cba80cf18c518b6e: registering service...
2022-09-03 09:59:54.051  INFO 19964 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c8385146b0df64d0cba80cf18c518b6e - registration status: 204
2022-09-03 09:59:54.238 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:54.366  INFO 19964 --- [Thread-1] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-09-03 09:59:54.384  INFO 19964 --- [Thread-1] o.a.c.c.C.[.[localhost].[/product]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-09-03 09:59:54.397 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Initiating shutdown
2022-09-03 09:59:54.398 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [1073741823]
2022-09-03 09:59:54.399 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 09:59:54.399  INFO 19964 --- [Thread-1] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 09:59:54.399  INFO 19964 --- [Thread-1] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 09:59:54.737 TRACE 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 09:59:54.761  INFO 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 09:59:54.762  INFO 19964 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 09:59:54.762 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [536870911]
2022-09-03 09:59:54.763 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 09:59:54.767 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 09:59:54.776 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [0]
2022-09-03 09:59:54.778  INFO 19964 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 09:59:54.780  INFO 19964 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 09:59:54.780  INFO 19964 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 09:59:54.781 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [0]
2022-09-03 09:59:54.782 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [0]
2022-09-03 09:59:54.783 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-10]
2022-09-03 09:59:54.783 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 09:59:54.783 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-134217728]
2022-09-03 09:59:54.783 DEBUG 19964 --- [Thread-1] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerConnectionManager] in phase [-134217728]
2022-09-03 09:59:55.039 DEBUG 19964 --- [Thread-1] o.a.config.DefaultConfigurer             : Finalized shutdown sequence
2022-09-03 09:59:55.072  INFO 19964 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 09:59:55.119  INFO 19964 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 09:59:55.125  INFO 19964 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 09:59:58.127  INFO 19964 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 09:59:58.133  INFO 19964 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c8385146b0df64d0cba80cf18c518b6e - deregister  status: 200
2022-09-03 09:59:58.138  INFO 19964 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 10:00:24.703  INFO 14308 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 14308 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 10:00:24.706  INFO 14308 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 10:00:28.441 TRACE 14308 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonServerAutoConfiguration#axonServerCommandBus matched due to No match found for class [interface org.axonframework.commandhandling.CommandBus] and qualifier [localSegment]
2022-09-03 10:00:28.527 TRACE 14308 --- [restartedMain] Configuration$XStreamConfiguredCondition : Condition XStreamAutoConfiguration.XStreamConfiguredCondition on org.axonframework.springboot.autoconfig.XStreamAutoConfiguration#defaultAxonXStream matched due to AnyNestedCondition 2 matched 2 did not; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.EventsXStreamCondition @ConditionalOnProperty (axon.serializer.events=xstream) did not find property 'axon.serializer.events'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.MessagesXStreamCondition @ConditionalOnProperty (axon.serializer.messages=xstream) did not find property 'axon.serializer.messages'; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralXStreamCondition @ConditionalOnProperty (axon.serializer.general=xstream) matched; NestedCondition on XStreamAutoConfiguration.XStreamConfiguredCondition.GeneralDefaultCondition @ConditionalOnProperty (axon.serializer.general=default) matched
2022-09-03 10:00:28.544 TRACE 14308 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#serializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer,messageSerializer]
2022-09-03 10:00:28.549 TRACE 14308 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#messageSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [messageSerializer]
2022-09-03 10:00:28.553 TRACE 14308 --- [restartedMain] o.a.s.u.OnMissingQualifiedBeanCondition  : Condition OnMissingQualifiedBeanCondition on org.axonframework.springboot.autoconfig.AxonAutoConfiguration#eventSerializer matched due to No match found for class [interface org.axonframework.serialization.Serializer] and qualifier [eventSerializer]
2022-09-03 10:00:28.604 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ParameterResolverFactory]
2022-09-03 10:00:28.642 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [CommandBus]
2022-09-03 10:00:28.643 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 10:00:28.645 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [QueryBus]
2022-09-03 10:00:28.646 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 10:00:28.651 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventBus]
2022-09-03 10:00:28.652 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [Serializer]
2022-09-03 10:00:28.659 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TokenStore]
2022-09-03 10:00:28.661 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 10:00:28.664 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TransactionManager]
2022-09-03 10:00:28.665 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [SagaStore]
2022-09-03 10:00:28.668 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [TagsConfiguration]
2022-09-03 10:00:28.673 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ResourceInjector]
2022-09-03 10:00:28.676 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [EventScheduler]
2022-09-03 10:00:28.676 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [Configurer$$Lambda$536/0x000000080048e840]
2022-09-03 10:00:28.693 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 10:00:28.694 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [LazyRetrievedModuleConfiguration]
2022-09-03 10:00:28.727  WARN 14308 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 10:00:28.730  WARN 14308 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 10:00:28.795 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering module [AggregateConfigurer]
2022-09-03 10:00:31.711  INFO 14308 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 10:00:31.711  INFO 14308 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 10:00:31.920  INFO 14308 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 10:00:32.673  INFO 14308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 10:00:32.882  INFO 14308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 10:00:33.099  INFO 14308 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 10:00:33.235  INFO 14308 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 10:00:33.911  INFO 14308 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 10:00:34.015  INFO 14308 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 10:00:34.168  INFO 14308 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 10:00:34.228  INFO 14308 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 10:00:34.417  INFO 14308 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 10:00:34.608  INFO 14308 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 10:00:35.504  INFO 14308 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 10:00:35.707 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 10:00:35.733 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Registering component [ApplicationContext]
2022-09-03 10:00:35.734 DEBUG 14308 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the context class loader
2022-09-03 10:00:35.735 DEBUG 14308 --- [restartedMain] o.a.common.IdentifierFactory             : Looking for IdentifierFactory implementation using the IdentifierFactory class loader.
2022-09-03 10:00:35.736 DEBUG 14308 --- [restartedMain] o.a.common.IdentifierFactory             : Using default UUID-based IdentifierFactory
2022-09-03 10:00:35.764 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [monitorFactory]: org.axonframework.config.MessageMonitorFactoryBuilder$$Lambda$1252/0x0000000800a37c40@13071b3d
2022-09-03 10:00:35.768 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ApplicationContext]: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54bab1f, started on Sat Sep 03 10:00:24 ICT 2022
2022-09-03 10:00:35.778 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [correlationProviders]: [org.axonframework.messaging.correlation.MessageOriginProvider@86cc40b]
2022-09-03 10:00:35.803  INFO 14308 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 10:00:35.972  INFO 14308 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 10:00:35.972  INFO 14308 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 10:00:35.973  INFO 14308 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 10:00:35.991  INFO 14308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 10:00:35.994  INFO 14308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 10:00:35.995  INFO 14308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 10:00:35.997  INFO 14308 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 10:00:36.477 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [queryUpdateEmitter]: org.axonframework.queryhandling.SimpleQueryUpdateEmitter@4051dd99
2022-09-03 10:00:38.084 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotFilter<BaseAggregate>]: org.axonframework.eventsourcing.snapshotting.SnapshotFilter$$Lambda$1707/0x0000000800b80840@4435fa8f
2022-09-03 10:00:38.085 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventUpcasterChain]: org.axonframework.serialization.upcasting.event.EventUpcasterChain@6f58c9b3
2022-09-03 10:00:38.219 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ParameterResolverFactory]: org.axonframework.messaging.annotation.MultiParameterResolverFactory@27d575ad
2022-09-03 10:00:38.220 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [handlerDefinition]: org.axonframework.config.DefaultConfigurer$$Lambda$1716/0x0000000800b87440@1f6ea43f
2022-09-03 10:00:38.242 DEBUG 14308 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 10:00:38.252 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventHandler]: com.liem.ms.productservice.command.handler.impl.ProductEventHandlerImpl@32eef8b9
2022-09-03 10:00:43.222  INFO 14308 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 10:00:44.016  INFO 14308 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 10:00:44.031  INFO 14308 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 10:00:44.056  INFO 14308 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 10:00:44.065  INFO 14308 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 10:00:44.069 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Initiating start up
2022-09-03 10:00:44.069 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-2147483648]
2022-09-03 10:00:44.070 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandBus]: org.axonframework.axonserver.connector.command.AxonServerCommandBus@3262dd02
2022-09-03 10:00:44.070 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 10:00:44.071 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerCommandBus]
2022-09-03 10:00:44.071 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerCommandBus]
2022-09-03 10:00:44.071 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [QueryBus]: org.axonframework.axonserver.connector.query.AxonServerQueryBus@53c65704
2022-09-03 10:00:44.071 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 10:00:44.071 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [536870911] from component [AxonServerQueryBus]
2022-09-03 10:00:44.072 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [0] from component [AxonServerQueryBus]
2022-09-03 10:00:44.072 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventScheduler]: org.axonframework.axonserver.connector.event.axon.AxonServerEventScheduler@3a81297c
2022-09-03 10:00:44.072 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 10:00:44.072 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-10] from component [AxonServerEventScheduler]
2022-09-03 10:00:44.075 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ListenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@342b2bd1
2022-09-03 10:00:44.076 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [listenerInvocationErrorHandler]: org.axonframework.eventhandling.LoggingErrorHandler@342b2bd1
2022-09-03 10:00:44.077 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [sequencingPolicy]: org.axonframework.eventhandling.async.SequentialPerAggregatePolicy@120bfb03
2022-09-03 10:00:44.081 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [EventBus]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@4d4b9d4f
2022-09-03 10:00:44.082 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TrackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@7ce9b134
2022-09-03 10:00:44.082 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [trackingEventProcessorConfiguration]: org.axonframework.eventhandling.TrackingEventProcessorConfiguration@7ce9b134
2022-09-03 10:00:44.083 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [defaultStreamableMessageSource]: org.axonframework.axonserver.connector.event.axon.AxonServerEventStore@4d4b9d4f
2022-09-03 10:00:44.086 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [RollbackConfiguration]: ANY_THROWABLE
2022-09-03 10:00:44.086 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [rollbackConfiguration]: ANY_THROWABLE
2022-09-03 10:00:44.087 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [ErrorHandler]: INSTANCE
2022-09-03 10:00:44.087 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [errorHandler]: INSTANCE
2022-09-03 10:00:44.088 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@3d8f1a5a
2022-09-03 10:00:44.089 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [tokenStore]: org.axonframework.eventhandling.tokenstore.jpa.JpaTokenStore@3d8f1a5a
2022-09-03 10:00:44.089 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [TransactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@43b0bdc9
2022-09-03 10:00:44.089 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [transactionManager]: org.axonframework.spring.messaging.unitofwork.SpringTransactionManager@43b0bdc9
2022-09-03 10:00:44.092 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [com.liem.ms.productservice.command.handler.impl]: com.liem.ms.productservice.command.handler.impl
2022-09-03 10:00:44.093 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 10:00:44.094 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [1073741823] from component [TrackingEventProcessor]
2022-09-03 10:00:44.094 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [-10]
2022-09-03 10:00:44.094 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 10:00:44.094 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [0]
2022-09-03 10:00:44.103 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [AggregateMetaModelFactory]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory@1046b892
2022-09-03 10:00:44.109 DEBUG 14308 --- [restartedMain] m.c.i.AnnotatedAggregateMetaModelFactory : No @AggregateVersion annotated Member found.
2022-09-03 10:00:44.109 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateMetaModel<BaseAggregate>]: org.axonframework.modelling.command.inspection.AnnotatedAggregateMetaModelFactory$AnnotatedAggregateModel@4ce898b1
2022-09-03 10:00:44.110 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateFactory<BaseAggregate>]: org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory@2d9d35e3
2022-09-03 10:00:44.111 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [snapshotTriggerDefinition<BaseAggregate>]: INSTANCE
2022-09-03 10:00:44.111 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCache<BaseAggregate>]: null
2022-09-03 10:00:44.111 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 10:00:44.112 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventStreamFilter<BaseAggregate>]: null
2022-09-03 10:00:44.112 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Ignoring [null] component for inspection as it wont participate in the lifecycle
2022-09-03 10:00:44.112 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [filterByAggregateType<BaseAggregate>]: false
2022-09-03 10:00:44.112 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [Repository<BaseAggregate>]: org.axonframework.eventsourcing.EventSourcingRepository@224562ec
2022-09-03 10:00:44.117 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [CommandTargetResolver]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 10:00:44.117 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [commandTargetResolver<BaseAggregate>]: AnnotationCommandTargetResolver [identifierAnnotation=interface org.axonframework.modelling.command.TargetAggregateIdentifier, versionAnnotation=interface org.axonframework.modelling.command.TargetAggregateVersion]
2022-09-03 10:00:44.122 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [aggregateCommandHandler<BaseAggregate>]: org.axonframework.modelling.command.AggregateAnnotationCommandHandler@bb12889
2022-09-03 10:00:44.123 DEBUG 14308 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 10:00:44.124 DEBUG 14308 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.CreateProductCommand]
2022-09-03 10:00:44.137  INFO 14308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 10:00:44.139  INFO 14308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 10:00:44.145 DEBUG 14308 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 10:00:44.145 DEBUG 14308 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.product.UpdateProductCommand]
2022-09-03 10:00:44.146  INFO 14308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 10:00:44.146 DEBUG 14308 --- [restartedMain] o.a.a.c.command.AxonServerCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand] to this distributed CommandBus. Expect similar logging on the local segment.
2022-09-03 10:00:44.146 DEBUG 14308 --- [restartedMain] o.a.commandhandling.SimpleCommandBus     : Subscribing command with name [com.liem.ms.productservice.command.commands.common.DeleteCommand]
2022-09-03 10:00:44.147  INFO 14308 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 10:00:44.149 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [536870911]
2022-09-03 10:00:44.149 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 10:00:44.150 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 10:00:44.150 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741823]
2022-09-03 10:00:44.151 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConnectionManager@2abd213e
2022-09-03 10:00:44.151 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [AxonServerConnectionManager]
2022-09-03 10:00:44.151 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a ShutdownHandler with phase [-134217728] from component [AxonServerConnectionManager]
2022-09-03 10:00:44.152 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessingConfiguration]: org.axonframework.config.EventProcessingModule@56b40cca
2022-09-03 10:00:44.153 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [connectionManager]: org.axonframework.axonserver.connector.AxonServerConfiguration@45f54b19
2022-09-03 10:00:44.154 DEBUG 14308 --- [restartedMain] org.axonframework.config.Component       : Instantiated component [eventProcessorControlService]: org.axonframework.axonserver.connector.processor.EventProcessorControlService@922029d
2022-09-03 10:00:44.156 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Found and registered a StartHandler with phase [1073741833] from component [EventProcessorControlService]
2022-09-03 10:00:44.156 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 10:00:44.159 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Entered start handler lifecycle phase [1073741833]
2022-09-03 10:00:44.160 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [AxonServerConnectionManager] in phase [1073741833]
2022-09-03 10:00:44.160 DEBUG 14308 --- [restartedMain] o.a.config.LifecycleHandlerInspector     : Invoking StartHandler from component [EventProcessorControlService] in phase [1073741833]
2022-09-03 10:00:44.294 DEBUG 14308 --- [restartedMain] o.a.config.DefaultConfigurer             : Finalized start sequence
2022-09-03 10:00:44.379  INFO 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 10:00:44.385  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 10:00:44.388  INFO 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 10:00:44.391  INFO 14308 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:00:44.424  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 10:00:44.425  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 10:00:44.425  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 10:00:44.425  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 10:00:44.425  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 10:00:44.425  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 10:00:44.425  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 10:00:44.429  INFO 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2022-09-03 10:00:44.966 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:44.987  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 10:00:44.990  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 10:00:44.994  INFO 14308 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 10:00:45.001  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662174044999 with initial instances count: 0
2022-09-03 10:00:45.010  INFO 14308 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662174045010, current=UP, previous=STARTING]
2022-09-03 10:00:45.012  INFO 14308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:7cf07305b19d4e82d1bab35d21837977: registering service...
2022-09-03 10:00:45.075  INFO 14308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:7cf07305b19d4e82d1bab35d21837977 - registration status: 204
2022-09-03 10:00:45.465 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:45.992 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:46.457  INFO 14308 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 24.981 seconds (JVM running for 27.188)
2022-09-03 10:00:46.493 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:47.002 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:47.383  INFO 14308 --- [RMI TCP Connection(39)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 10:00:47.501 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:48.008 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:48.509 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:49.017 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:49.518 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:50.027 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:50.527 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:51.035 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:51.535 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:52.042 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:52.541 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:53.093 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:53.594 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:54.105 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:54.604 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:55.113 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:55.613 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:56.122 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:56.622 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:57.131 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:57.631 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:58.141 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:58.641 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:59.163 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:00:59.663 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:00.248 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:00.734 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:01.252 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:01.752 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:02.312 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:02.812 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:03.332 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:03.832 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:04.345 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:04.846 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:05.359 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:05.859 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:06.371 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:06.872 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:07.389 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:07.889 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:08.399 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:08.900 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:09.407 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:09.906 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:10.413 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:10.914 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:11.421 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:11.922 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:12.435 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:12.936 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:13.444 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:13.945 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:14.463 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:14.962 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:14.992  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 10:01:14.992  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 10:01:14.993  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 10:01:14.993  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 10:01:14.993  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 10:01:14.993  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 10:01:14.993  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 10:01:15.004  INFO 14308 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 10:01:15.470 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:15.970 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:16.477 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:16.978 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:17.488 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:17.988 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:18.498 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:18.998 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:19.508 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:20.009 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:20.517 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:21.017 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:21.524 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:22.025 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:22.533 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:23.033 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:23.551 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:24.052 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:24.559 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:25.061 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:25.572 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:26.071 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:26.581 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:27.080 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:27.975 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:28.478 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:28.987 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:29.487 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:29.993 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:30.494 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:31.003 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:31.502 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:32.015 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:32.514 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:33.075 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:33.576 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:34.083 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:34.583 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:35.093 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:35.592 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:36.102 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:36.603 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:37.110 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:37.488  INFO 14308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662174097488, current=DOWN, previous=UP]
2022-09-03 10:01:37.488  INFO 14308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:7cf07305b19d4e82d1bab35d21837977: registering service...
2022-09-03 10:01:37.494  INFO 14308 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:7cf07305b19d4e82d1bab35d21837977 - registration status: 204
2022-09-03 10:01:37.611 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:37.706 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Initiating shutdown
2022-09-03 10:01:37.707 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [1073741823]
2022-09-03 10:01:37.707 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [TrackingEventProcessor] in phase [1073741823]
2022-09-03 10:01:37.707  INFO 14308 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 10:01:37.707  INFO 14308 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 10:01:38.119 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:38.618 TRACE 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.a.connector.event.axon.EventBuffer   : No signal received for new events, exiting await
2022-09-03 10:01:38.638  INFO 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 10:01:38.639  INFO 14308 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 10:01:38.639 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [536870911]
2022-09-03 10:01:38.640 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [536870911]
2022-09-03 10:01:38.643 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [536870911]
2022-09-03 10:01:38.649 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [0]
2022-09-03 10:01:38.650  INFO 14308 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 10:01:38.652  INFO 14308 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 10:01:38.652  INFO 14308 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 10:01:38.652 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerCommandBus] in phase [0]
2022-09-03 10:01:38.653 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerQueryBus] in phase [0]
2022-09-03 10:01:38.653 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-10]
2022-09-03 10:01:38.653 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerEventScheduler] in phase [-10]
2022-09-03 10:01:38.653 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Entered shutdown handler lifecycle phase [-134217728]
2022-09-03 10:01:38.654 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.LifecycleHandlerInspector     : Invoking ShutdownHandler from component [AxonServerConnectionManager] in phase [-134217728]
2022-09-03 10:01:39.019 DEBUG 14308 --- [SpringApplicationShutdownHook] o.a.config.DefaultConfigurer             : Finalized shutdown sequence
2022-09-03 10:01:39.036  INFO 14308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 10:01:39.042  INFO 14308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 10:01:39.043  INFO 14308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 10:01:42.046  INFO 14308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 10:01:42.052  INFO 14308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:7cf07305b19d4e82d1bab35d21837977 - deregister  status: 200
2022-09-03 10:01:42.057  INFO 14308 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 10:01:50.275  INFO 10456 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 10456 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 10:01:50.277 DEBUG 10456 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 10:01:50.277  INFO 10456 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 10:01:51.643  WARN 10456 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 10:01:51.645  WARN 10456 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 10:01:53.523  INFO 10456 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 10:01:53.524  INFO 10456 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 10:01:53.707  INFO 10456 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 10:01:54.385  INFO 10456 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 10:01:54.554  INFO 10456 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 10:01:54.732  INFO 10456 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 10:01:54.861  INFO 10456 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 10:01:55.500  INFO 10456 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 10:01:55.574  INFO 10456 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 10:01:55.691  INFO 10456 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 10:01:55.746  INFO 10456 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 10:01:55.897  INFO 10456 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 10:01:56.024  INFO 10456 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 10:01:56.763  INFO 10456 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 10:01:57.025  INFO 10456 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 10:01:57.176  INFO 10456 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 10:01:57.176  INFO 10456 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 10:01:57.176  INFO 10456 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 10:01:57.190  INFO 10456 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 10:01:57.192  INFO 10456 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 10:01:57.193  INFO 10456 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 10:01:57.194  INFO 10456 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 10:02:04.497  INFO 10456 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 10:02:05.582  INFO 10456 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 10:02:05.632  INFO 10456 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 10:02:05.682  INFO 10456 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 10:02:05.713  INFO 10456 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 10:02:05.812  INFO 10456 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 10:02:05.816  INFO 10456 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 10:02:05.829  INFO 10456 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 10:02:05.830  INFO 10456 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 10:02:06.121  INFO 10456 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 10:02:06.166  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 10:02:06.177  INFO 10456 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:02:06.219  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 10:02:06.220  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 10:02:06.221  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 10:02:06.221  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 10:02:06.222  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 10:02:06.223  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 10:02:06.224  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 10:02:06.253  INFO 10456 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 10:02:06.287  INFO 10456 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=3} for segment: Segment[0/0]
2022-09-03 10:02:06.846  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 10:02:06.849  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 10:02:06.853  INFO 10456 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 10:02:06.864  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662174126862 with initial instances count: 0
2022-09-03 10:02:06.876  INFO 10456 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662174126876, current=UP, previous=STARTING]
2022-09-03 10:02:06.879  INFO 10456 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:351283b1e6b8c16756fe1571b161c3b4: registering service...
2022-09-03 10:02:06.956  INFO 10456 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:351283b1e6b8c16756fe1571b161c3b4 - registration status: 204
2022-09-03 10:02:08.281  INFO 10456 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 19.96 seconds (JVM running for 21.649)
2022-09-03 10:02:08.602  INFO 10456 --- [RMI TCP Connection(9)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 10:02:36.849  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 10:02:36.850  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 10:02:36.850  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 10:02:36.850  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 10:02:36.850  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 10:02:36.850  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 10:02:36.850  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 10:02:36.862  INFO 10456 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 10:03:31.044  INFO 10456 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 10:03:31.047 TRACE 10456 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='0c55b5ca-a4cd-48dc-a19e-42abaec0e065', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 10:03:31.188  INFO 10456 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Create entity: ProductEntity(price=10.0)
2022-09-03 10:07:06.228  INFO 10456 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:12:06.229  INFO 10456 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:17:06.230  INFO 10456 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:21:05.394  INFO 10456 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662175265393, current=DOWN, previous=UP]
2022-09-03 10:21:05.394  INFO 10456 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:351283b1e6b8c16756fe1571b161c3b4: registering service...
2022-09-03 10:21:05.404  INFO 10456 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:351283b1e6b8c16756fe1571b161c3b4 - registration status: 204
2022-09-03 10:21:05.621  INFO 10456 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 10:21:05.621  INFO 10456 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 10:21:05.948  INFO 10456 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 10:21:05.949  INFO 10456 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 10:21:05.963  INFO 10456 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 10:21:05.963  INFO 10456 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 10:21:05.964  INFO 10456 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 10:21:06.449  INFO 10456 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 10:21:06.457  INFO 10456 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 10:21:06.459  INFO 10456 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 10:21:09.460  WARN 10456 --- [DiscoveryClient-0] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-09-03 10:21:09.461  INFO 10456 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 10:21:09.466  INFO 10456 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:351283b1e6b8c16756fe1571b161c3b4 - deregister  status: 200
2022-09-03 10:21:09.472  INFO 10456 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 10:21:22.783  INFO 2288 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 2288 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 10:21:22.785 DEBUG 2288 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 10:21:22.786  INFO 2288 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 10:21:24.307  WARN 2288 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 10:21:24.310  WARN 2288 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 10:21:26.355  INFO 2288 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 10:21:26.355  INFO 2288 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 10:21:26.535  INFO 2288 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 10:21:27.230  INFO 2288 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 10:21:27.408  INFO 2288 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 10:21:27.597  INFO 2288 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 10:21:27.725  INFO 2288 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 10:21:28.334  INFO 2288 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 10:21:28.413  INFO 2288 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 10:21:28.538  INFO 2288 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 10:21:28.595  INFO 2288 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 10:21:28.756  INFO 2288 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 10:21:28.891  INFO 2288 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 10:21:29.662  INFO 2288 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 10:21:29.945  INFO 2288 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 10:21:30.090  INFO 2288 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 10:21:30.090  INFO 2288 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 10:21:30.090  INFO 2288 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 10:21:30.106  INFO 2288 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 10:21:30.107  INFO 2288 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 10:21:30.108  INFO 2288 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 10:21:30.109  INFO 2288 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 10:21:36.634  INFO 2288 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 10:21:37.397  INFO 2288 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 10:21:37.415  INFO 2288 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 10:21:37.442  INFO 2288 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 10:21:37.451  INFO 2288 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 10:21:37.516  INFO 2288 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 10:21:37.519  INFO 2288 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 10:21:37.524  INFO 2288 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 10:21:37.525  INFO 2288 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 10:21:37.758  INFO 2288 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-03 10:21:37.762  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 10:21:37.766  INFO 2288 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.productservice.command.handler.impl, segment=Segment[0/0]}
2022-09-03 10:21:37.768  INFO 2288 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:21:37.790  INFO 2288 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=4} for segment: Segment[0/0]
2022-09-03 10:21:37.802  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 10:21:37.802  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 10:21:37.802  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 10:21:37.802  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 10:21:37.803  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 10:21:37.803  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 10:21:37.803  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 10:21:38.226  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 10:21:38.229  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 10:21:38.232  INFO 2288 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 10:21:38.239  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662175298238 with initial instances count: 0
2022-09-03 10:21:38.246  INFO 2288 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662175298246, current=UP, previous=STARTING]
2022-09-03 10:21:38.249  INFO 2288 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f2254d84c392635b3ea11122fb12818c: registering service...
2022-09-03 10:21:38.297  INFO 2288 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f2254d84c392635b3ea11122fb12818c - registration status: 204
2022-09-03 10:21:39.610  INFO 2288 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 18.758 seconds (JVM running for 20.696)
2022-09-03 10:21:40.381  INFO 2288 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 10:22:08.229  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 10:22:08.230  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 10:22:08.230  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 10:22:08.230  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 10:22:08.230  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 10:22:08.230  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 10:22:08.230  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 10:22:08.241  INFO 2288 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 10:26:37.806  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:31:37.808  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:36:37.811  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:41:37.813  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:46:37.815  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:51:37.816  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 10:56:37.818  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:01:37.820  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:06:37.821  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:11:37.822  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:16:37.823  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:21:37.824  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:26:37.825  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:31:37.827  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:36:37.829  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:41:37.831  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:46:37.833  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:51:37.834  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 11:56:37.835  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:01:37.835  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:06:37.836  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:11:37.838  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:16:37.840  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:21:37.841  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:26:37.845  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:31:37.847  INFO 2288 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:32:39.494  INFO 2288 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183159494, current=DOWN, previous=UP]
2022-09-03 12:32:39.495  INFO 2288 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f2254d84c392635b3ea11122fb12818c: registering service...
2022-09-03 12:32:39.508  INFO 2288 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f2254d84c392635b3ea11122fb12818c - registration status: 204
2022-09-03 12:32:39.795  INFO 2288 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.productservice.command.handler.impl'.
2022-09-03 12:32:39.796  INFO 2288 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.productservice.command.handler.impl' awaiting termination...
2022-09-03 12:32:40.588  INFO 2288 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-03 12:32:40.591  INFO 2288 --- [EventProcessor[com.liem.ms.productservice.command.handler.impl]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-03 12:32:40.614  INFO 2288 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:32:40.616  INFO 2288 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:32:40.616  INFO 2288 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:32:41.105  INFO 2288 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 12:32:41.113  INFO 2288 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 12:32:41.116  INFO 2288 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 12:32:44.119  INFO 2288 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 12:32:44.125  INFO 2288 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f2254d84c392635b3ea11122fb12818c - deregister  status: 200
2022-09-03 12:32:44.134  INFO 2288 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 12:37:54.771  INFO 11208 --- [main] c.l.m.g.GatewayServiceApplication        : Starting GatewayServiceApplication using Java 16.0.1 on DESKTOP-6L79JE3 with PID 11208 (D:\Work\event-driven-ms\gateway-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 12:37:54.775  INFO 11208 --- [main] c.l.m.g.GatewayServiceApplication        : No active profile set, falling back to 1 default profile: "default"
2022-09-03 12:37:55.978  INFO 11208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2022-09-03 12:37:56.053  INFO 11208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 1 R2DBC repository interfaces.
2022-09-03 12:37:56.277  INFO 11208 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=2ecfb05f-6c97-3865-82e0-d5cb8b55a797
2022-09-03 12:37:56.429  INFO 11208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 12:37:56.431  INFO 11208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 12:37:56.432  INFO 11208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-09-03 12:37:57.767  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2022-09-03 12:37:57.768  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2022-09-03 12:37:57.768  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2022-09-03 12:37:57.768  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2022-09-03 12:37:57.768  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2022-09-03 12:37:57.769  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2022-09-03 12:37:57.769  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2022-09-03 12:37:57.769  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2022-09-03 12:37:57.770  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2022-09-03 12:37:57.770  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2022-09-03 12:37:57.770  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2022-09-03 12:37:57.771  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2022-09-03 12:37:57.771  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2022-09-03 12:37:57.771  INFO 11208 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2022-09-03 12:37:58.406  INFO 11208 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 18 endpoint(s) beneath base path '/actuator'
2022-09-03 12:37:58.649  INFO 11208 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-09-03 12:37:58.706  WARN 11208 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-09-03 12:37:58.782  INFO 11208 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-09-03 12:37:58.837  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 12:37:58.842  INFO 11208 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:37:58.873  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:37:58.873  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:37:58.874  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:37:58.874  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:37:58.874  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:37:58.874  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 12:37:58.874  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:37:59.330  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:37:59.336  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 12:37:59.342  INFO 11208 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 12:37:59.356  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662183479355 with initial instances count: 0
2022-09-03 12:37:59.358  INFO 11208 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application GATEWAY-SERVICE with eureka with status UP
2022-09-03 12:37:59.359  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183479359, current=UP, previous=STARTING]
2022-09-03 12:37:59.361  INFO 11208 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_GATEWAY-SERVICE/gateway-service:6ef0f861fa1994905e003d6cdc2a5fa7: registering service...
2022-09-03 12:37:59.403  INFO 11208 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_GATEWAY-SERVICE/gateway-service:6ef0f861fa1994905e003d6cdc2a5fa7 - registration status: 204
2022-09-03 12:37:59.967  WARN 11208 --- [main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'; nested exception is org.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT routes.* FROM routes]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1146] [42S02] Table 'gateway.routes' doesn't exist
2022-09-03 12:37:59.971 ERROR 11208 --- [reactor-tcp-nio-2] o.s.c.gateway.route.CachingRouteLocator  : Refresh routes error !!!

org.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT routes.* FROM routes]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1146] [42S02] Table 'gateway.routes' doesn't exist
	at org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:235) ~[spring-r2dbc-5.3.22.jar:5.3.22]
	at org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:147) ~[spring-r2dbc-5.3.22.jar:5.3.22]
	at reactor.core.publisher.Flux.lambda$onErrorMap$29(Flux.java:6943) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Flux.lambda$onErrorResume$30(Flux.java:6996) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.pool.SimpleDequePool.lambda$maybeRecycleAndDrain$19(SimpleDequePool.java:554) ~[reactor-pool-0.2.9.jar:0.2.9]
	at reactor.core.publisher.LambdaMonoSubscriber.onComplete(LambdaMonoSubscriber.java:135) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.netty.FutureMono.doSubscribe(FutureMono.java:122) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.FutureMono$DeferredFutureMono.subscribe(FutureMono.java:114) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:148) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.4.22.jar:3.4.22]
	at dev.miku.r2dbc.mysql.client.RequestTask.run(RequestTask.java:46) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at dev.miku.r2dbc.mysql.client.RequestQueue.run(RequestQueue.java:79) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:945) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:141) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.4.22.jar:3.4.22]
	at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: io.r2dbc.spi.R2dbcBadGrammarException: Table 'gateway.routes' doesn't exist
	at dev.miku.r2dbc.mysql.ExceptionFactory.createException(ExceptionFactory.java:81) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ SQL "SELECT routes.* FROM routes" [DatabaseClient]
Original Stack Trace:
		at dev.miku.r2dbc.mysql.ExceptionFactory.createException(ExceptionFactory.java:81) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at dev.miku.r2dbc.mysql.QueryFlow.lambda$execute0$8(QueryFlow.java:241) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:176) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.22.jar:3.4.22]
		at dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onNext(DiscardOnCancelSubscriber.java:70) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.4.22.jar:3.4.22]
		at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
		at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-09-03 12:37:59.982  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 12:38:02.990  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 12:38:02.995  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_GATEWAY-SERVICE/gateway-service:6ef0f861fa1994905e003d6cdc2a5fa7 - deregister  status: 200
2022-09-03 12:38:03.049  INFO 11208 --- [main] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 12:38:03.070  INFO 11208 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-09-03 12:38:03.093 ERROR 11208 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'; nested exception is org.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT routes.* FROM routes]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1146] [42S02] Table 'gateway.routes' doesn't exist
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]
	at com.liem.ms.gatewayservice.GatewayServiceApplication.main(GatewayServiceApplication.java:20) ~[classes/:na]
Caused by: org.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT routes.* FROM routes]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1146] [42S02] Table 'gateway.routes' doesn't exist
	at org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:235) ~[spring-r2dbc-5.3.22.jar:5.3.22]
	at org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:147) ~[spring-r2dbc-5.3.22.jar:5.3.22]
	at reactor.core.publisher.Flux.lambda$onErrorMap$29(Flux.java:6943) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Flux.lambda$onErrorResume$30(Flux.java:6996) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.pool.SimpleDequePool.lambda$maybeRecycleAndDrain$19(SimpleDequePool.java:554) ~[reactor-pool-0.2.9.jar:0.2.9]
	at reactor.core.publisher.LambdaMonoSubscriber.onComplete(LambdaMonoSubscriber.java:135) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.netty.FutureMono.doSubscribe(FutureMono.java:122) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.FutureMono$DeferredFutureMono.subscribe(FutureMono.java:114) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:148) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.4.22.jar:3.4.22]
	at dev.miku.r2dbc.mysql.client.RequestTask.run(RequestTask.java:46) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at dev.miku.r2dbc.mysql.client.RequestQueue.run(RequestQueue.java:79) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:945) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:141) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.4.22.jar:3.4.22]
	at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.4.22.jar:3.4.22]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.22.jar:1.0.22]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.Flux.blockLast(Flux.java:2645) ~[reactor-core-3.4.22.jar:3.4.22]
		at org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter.lambda$onApplicationEvent$0(WeightCalculatorWebFilter.java:133) ~[spring-cloud-gateway-server-3.1.3.jar:3.1.3]
		at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2046) ~[spring-beans-5.3.22.jar:5.3.22]
		at org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter.onApplicationEvent(WeightCalculatorWebFilter.java:133) ~[spring-cloud-gateway-server-3.1.3.jar:3.1.3]
		at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-3.1.3.jar:3.1.3]
		at org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-3.1.3.jar:3.1.3]
		at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-3.1.3.jar:3.1.3]
		at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.22.jar:5.3.22]
		at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
		at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.22.jar:5.3.22]
		at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.3.jar:2.7.3]
		at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]
		at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]
		at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]
		at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]
		at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]
		at com.liem.ms.gatewayservice.GatewayServiceApplication.main(GatewayServiceApplication.java:20) ~[classes/:na]
Caused by: io.r2dbc.spi.R2dbcBadGrammarException: Table 'gateway.routes' doesn't exist
	at dev.miku.r2dbc.mysql.ExceptionFactory.createException(ExceptionFactory.java:81) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ SQL "SELECT routes.* FROM routes" [DatabaseClient]
Original Stack Trace:
		at dev.miku.r2dbc.mysql.ExceptionFactory.createException(ExceptionFactory.java:81) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at dev.miku.r2dbc.mysql.QueryFlow.lambda$execute0$8(QueryFlow.java:241) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:176) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.22.jar:3.4.22]
		at dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onNext(DiscardOnCancelSubscriber.java:70) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.4.22.jar:3.4.22]
		at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.4.22.jar:3.4.22]
		at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.22.jar:1.0.22]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299) ~[netty-codec-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]
		at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-09-03 12:38:16.206  INFO 21488 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 21488 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 12:38:16.207 DEBUG 21488 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 12:38:16.208  INFO 21488 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 12:38:18.044  WARN 21488 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:38:18.047  WARN 21488 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:38:20.086  INFO 21488 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 12:38:20.087  INFO 21488 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 12:38:20.275  INFO 21488 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 12:38:20.991  INFO 21488 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 12:38:21.176  INFO 21488 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 12:38:21.391  INFO 21488 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 12:38:21.527  INFO 21488 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 12:38:22.165  INFO 21488 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 12:38:22.242  INFO 21488 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 12:38:22.365  INFO 21488 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 12:38:22.438  INFO 21488 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 12:38:22.595  INFO 21488 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 12:38:22.737  INFO 21488 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 12:38:23.528  WARN 21488 --- [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table products-lookup (product_id varchar(255) not null, product_name varchar(255), primary key (product_id))" via JDBC Statement

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table products-lookup (product_id varchar(255) not null, product_name varchar(255), primary key (product_id))" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]
	at com.liem.ms.productservice.ProductServiceApplication.main(ProductServiceApplication.java:20) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.3.jar:2.7.3]
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "-"
  Position: 22
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.6.jar:42.3.6]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.6.jar:42.3.6]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]
	... 39 common frames omitted

2022-09-03 12:38:23.542  INFO 21488 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 12:38:23.843  INFO 21488 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 12:38:23.988  INFO 21488 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 12:38:23.988  INFO 21488 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 12:38:23.988  INFO 21488 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 12:38:24.016  INFO 21488 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:38:24.017  INFO 21488 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:38:24.018  INFO 21488 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:38:24.019  INFO 21488 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:38:28.795  INFO 21488 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 12:38:29.521  INFO 21488 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 12:38:29.536  INFO 21488 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 12:38:29.560  INFO 21488 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 12:38:29.570  INFO 21488 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 12:38:29.626  INFO 21488 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 12:38:29.628  INFO 21488 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:38:29.634  INFO 21488 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:38:29.636  INFO 21488 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:38:29.701  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 12:38:29.705  INFO 21488 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:38:29.733  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:38:29.733  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:38:29.733  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:38:29.734  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:38:29.734  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:38:29.734  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 12:38:29.734  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:38:30.160  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:38:30.166  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 12:38:30.170  INFO 21488 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 12:38:30.180  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662183510178 with initial instances count: 1
2022-09-03 12:38:30.190  INFO 21488 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183510190, current=UP, previous=STARTING]
2022-09-03 12:38:30.192  INFO 21488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:93851c80739e0ac348cfe9c22fbe919d: registering service...
2022-09-03 12:38:30.258  INFO 21488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:93851c80739e0ac348cfe9c22fbe919d - registration status: 204
2022-09-03 12:38:30.601  INFO 21488 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 15.296 seconds (JVM running for 17.457)
2022-09-03 12:38:31.388  INFO 21488 --- [RMI TCP Connection(7)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 12:39:30.174  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:39:30.174  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:39:30.174  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:39:30.174  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:39:30.174  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:39:30.175  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 12:39:30.175  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:39:30.180  INFO 21488 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:39:44.398  INFO 21488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183584398, current=DOWN, previous=UP]
2022-09-03 12:39:44.398  INFO 21488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:93851c80739e0ac348cfe9c22fbe919d: registering service...
2022-09-03 12:39:44.403  INFO 21488 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:93851c80739e0ac348cfe9c22fbe919d - registration status: 204
2022-09-03 12:39:44.630  INFO 21488 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:39:44.631  INFO 21488 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:39:44.631  INFO 21488 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:39:44.868  INFO 21488 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 12:39:44.878  INFO 21488 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 12:39:44.880  INFO 21488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 12:39:47.883  INFO 21488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 12:39:47.889  INFO 21488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:93851c80739e0ac348cfe9c22fbe919d - deregister  status: 200
2022-09-03 12:39:47.894  INFO 21488 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 12:39:53.781  INFO 11768 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 11768 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 12:39:53.783 DEBUG 11768 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 12:39:53.784  INFO 11768 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 12:39:55.212  WARN 11768 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:39:55.214  WARN 11768 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:39:57.105  INFO 11768 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 12:39:57.105  INFO 11768 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 12:39:57.265  INFO 11768 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 12:39:57.947  INFO 11768 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 12:39:58.122  INFO 11768 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 12:39:58.307  INFO 11768 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 12:39:58.430  INFO 11768 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 12:39:59.007  INFO 11768 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 12:39:59.125  INFO 11768 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_product_lookup_table.sql executed
2022-09-03 12:39:59.126  INFO 11768 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::2::liem ran successfully in 48ms
2022-09-03 12:39:59.140  INFO 11768 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 12:39:59.268  INFO 11768 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 12:39:59.328  INFO 11768 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 12:39:59.485  INFO 11768 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 12:39:59.613  INFO 11768 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 12:40:00.393  INFO 11768 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 12:40:00.659  INFO 11768 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 12:40:00.814  INFO 11768 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 12:40:00.815  INFO 11768 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 12:40:00.815  INFO 11768 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 12:40:00.830  INFO 11768 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:40:00.831  INFO 11768 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:40:00.832  INFO 11768 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:40:00.833  INFO 11768 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:40:05.354  INFO 11768 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 12:40:06.092  INFO 11768 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 12:40:06.107  INFO 11768 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 12:40:06.133  INFO 11768 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 12:40:06.143  INFO 11768 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 12:40:06.204  INFO 11768 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 12:40:06.207  INFO 11768 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:40:06.212  INFO 11768 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:40:06.213  INFO 11768 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:40:06.283  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 12:40:06.288  INFO 11768 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:40:06.320  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:40:06.320  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:40:06.320  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:40:06.320  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:40:06.320  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:40:06.321  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 12:40:06.321  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:40:06.743  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:40:06.745  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 12:40:06.749  INFO 11768 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 12:40:06.757  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662183606755 with initial instances count: 0
2022-09-03 12:40:06.764  INFO 11768 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183606764, current=UP, previous=STARTING]
2022-09-03 12:40:06.766  INFO 11768 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3b18f8bf455024de9cc687bf258e1872: registering service...
2022-09-03 12:40:06.812  INFO 11768 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3b18f8bf455024de9cc687bf258e1872 - registration status: 204
2022-09-03 12:40:07.118  INFO 11768 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.238 seconds (JVM running for 16.094)
2022-09-03 12:40:07.719  INFO 11768 --- [RMI TCP Connection(4)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 12:40:36.747  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:40:36.748  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:40:36.748  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:40:36.748  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:40:36.748  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:40:36.748  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 12:40:36.748  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:40:36.758  INFO 11768 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:41:09.041  INFO 11768 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183669041, current=DOWN, previous=UP]
2022-09-03 12:41:09.041  INFO 11768 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3b18f8bf455024de9cc687bf258e1872: registering service...
2022-09-03 12:41:09.047  INFO 11768 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3b18f8bf455024de9cc687bf258e1872 - registration status: 204
2022-09-03 12:41:09.268  INFO 11768 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:41:09.269  INFO 11768 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:41:09.270  INFO 11768 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:41:09.458  INFO 11768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 12:41:09.466  INFO 11768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 12:41:09.468  INFO 11768 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 12:41:12.470  INFO 11768 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 12:41:12.474  INFO 11768 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3b18f8bf455024de9cc687bf258e1872 - deregister  status: 200
2022-09-03 12:41:12.479  INFO 11768 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 12:41:21.771  INFO 14472 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 14472 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 12:41:21.773 DEBUG 14472 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 12:41:21.774  INFO 14472 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 12:41:23.254  WARN 14472 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:41:23.257  WARN 14472 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:41:25.324  INFO 14472 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 12:41:25.324  INFO 14472 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 12:41:25.513  INFO 14472 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 12:41:26.197  INFO 14472 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 12:41:26.366  INFO 14472 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 12:41:26.548  INFO 14472 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 12:41:26.681  INFO 14472 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 12:41:27.246  INFO 14472 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 12:41:27.320  INFO 14472 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 12:41:27.435  INFO 14472 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 12:41:27.492  INFO 14472 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 12:41:27.647  INFO 14472 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 12:41:27.773  INFO 14472 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 12:41:28.526  INFO 14472 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 12:41:28.807  INFO 14472 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 12:41:28.944  INFO 14472 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 12:41:28.945  INFO 14472 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 12:41:28.945  INFO 14472 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 12:41:28.959  INFO 14472 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:41:28.960  INFO 14472 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:41:28.961  INFO 14472 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:41:28.962  INFO 14472 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:41:33.477  INFO 14472 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 12:41:34.221  INFO 14472 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 12:41:34.236  INFO 14472 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 12:41:34.260  INFO 14472 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 12:41:34.269  INFO 14472 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 12:41:34.328  INFO 14472 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 12:41:34.331  INFO 14472 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:41:34.336  INFO 14472 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:41:34.337  INFO 14472 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:41:34.401  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 12:41:34.406  INFO 14472 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:41:34.433  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:41:34.434  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:41:34.434  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:41:34.434  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:41:34.434  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:41:34.435  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 12:41:34.435  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:41:34.850  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:41:34.854  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 12:41:34.857  INFO 14472 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 12:41:34.864  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662183694863 with initial instances count: 0
2022-09-03 12:41:34.871  INFO 14472 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662183694871, current=UP, previous=STARTING]
2022-09-03 12:41:34.873  INFO 14472 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:da0de2b6c668ff72e19dafa468ae4f04: registering service...
2022-09-03 12:41:34.920  INFO 14472 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:da0de2b6c668ff72e19dafa468ae4f04 - registration status: 204
2022-09-03 12:41:35.231  INFO 14472 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.387 seconds (JVM running for 16.551)
2022-09-03 12:41:35.834  INFO 14472 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 12:42:04.854  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:42:04.855  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:42:04.855  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:42:04.855  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:42:04.855  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:42:04.855  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 12:42:04.855  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:42:04.865  INFO 14472 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:46:34.438  INFO 14472 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:48:51.127  INFO 14472 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 12:48:51.132 TRACE 14472 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='e2e953c0-a483-440f-b1f2-c126fb03f613', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 12:48:51.133  INFO 14472 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-03 12:48:51.368 TRACE 14472 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: CreateProductCommand(price=10.0)
2022-09-03 12:48:51.389 TRACE 14472 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 12:48:51.439 TRACE 14472 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductCreatedEvent(price=10.0)
2022-09-03 12:48:51.439  INFO 14472 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Create entity: ProductEntity(price=10.0)
2022-09-03 12:48:51.499 TRACE 14472 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductCreatedEvent(price=10.0)
2022-09-03 12:48:51.499  INFO 14472 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Save look up entity: ProductLookupEntity(productId=cfe8d451-dbd2-4923-8b85-bde7080b66a6, productName=Product_006)
2022-09-03 12:50:30.077  INFO 14472 --- [http-nio-8080-exec-3] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 12:50:30.078 TRACE 14472 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='1b9bbdb2-0099-4bbb-9623-1aca5c662fb2', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 12:50:30.078  INFO 14472 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-03 12:50:30.084 ERROR 14472 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Product name 'Product_006' is duplicated
2022-09-03 12:50:30.092 ERROR 14472 --- [http-nio-8080-exec-3] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in create product: CreateProductCommand(price=10.0)

com.liem.ms.productservice.core.exception.CommandServiceException: Product name 'Product_006' is duplicated
	at com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor.lambda$handle$0(CreateProductCommandInterceptor.java:41) ~[classes/:na]
	at org.axonframework.messaging.MessageDispatchInterceptor.handle(MessageDispatchInterceptor.java:41) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.DispatchInterceptors.intercept(DispatchInterceptors.java:44) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.dispatch(AxonServerCommandBus.java:143) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.commandhandling.gateway.AbstractCommandGateway.send(AbstractCommandGateway.java:75) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.commandhandling.gateway.DefaultCommandGateway.send(DefaultCommandGateway.java:73) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.commandhandling.gateway.DefaultCommandGateway.sendAndWait(DefaultCommandGateway.java:90) ~[axon-messaging-4.5.15.jar:4.5.15]
	at com.liem.ms.productservice.command.service.impl.ProductCommandServiceImpl.create(ProductCommandServiceImpl.java:40) ~[classes/:na]
	at com.liem.ms.productservice.command.service.impl.ProductCommandServiceImpl$$FastClassBySpringCGLIB$$c22d2e63.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.command.service.impl.ProductCommandServiceImpl$$EnhancerBySpringCGLIB$$612a0ead.create(<generated>) ~[classes/:na]
	at com.liem.ms.productservice.command.controller.v1.ProductCommandController.createProduct(ProductCommandController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 12:51:34.440  INFO 14472 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:52:18.314  INFO 14472 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662184338314, current=DOWN, previous=UP]
2022-09-03 12:52:18.315  INFO 14472 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:da0de2b6c668ff72e19dafa468ae4f04: registering service...
2022-09-03 12:52:18.319  INFO 14472 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:da0de2b6c668ff72e19dafa468ae4f04 - registration status: 204
2022-09-03 12:52:18.550  INFO 14472 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:52:18.551  INFO 14472 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:52:18.552  INFO 14472 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:52:18.920  INFO 14472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 12:52:18.928  INFO 14472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 12:52:18.930  INFO 14472 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 12:52:21.933  INFO 14472 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 12:52:21.937  INFO 14472 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:da0de2b6c668ff72e19dafa468ae4f04 - deregister  status: 200
2022-09-03 12:52:21.942  INFO 14472 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 12:52:32.621  INFO 12160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 12160 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 12:52:32.623 DEBUG 12160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 12:52:32.624  INFO 12160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 12:52:34.056  WARN 12160 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:52:34.059  WARN 12160 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:52:36.000  INFO 12160 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 12:52:36.001  INFO 12160 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 12:52:36.194  INFO 12160 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 12:52:36.964  INFO 12160 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 12:52:37.131  INFO 12160 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 12:52:37.309  INFO 12160 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 12:52:37.446  INFO 12160 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 12:52:38.030  INFO 12160 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 12:52:38.106  INFO 12160 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 12:52:38.224  INFO 12160 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 12:52:38.278  INFO 12160 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 12:52:38.428  INFO 12160 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 12:52:38.555  INFO 12160 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 12:52:39.370  INFO 12160 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 12:52:39.677  INFO 12160 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 12:52:39.821  INFO 12160 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 12:52:39.822  INFO 12160 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 12:52:39.822  INFO 12160 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 12:52:39.836  INFO 12160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:52:39.837  INFO 12160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:52:39.838  INFO 12160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:52:39.839  INFO 12160 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:52:44.541  INFO 12160 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 12:52:45.356  INFO 12160 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 12:52:45.372  INFO 12160 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 12:52:45.397  INFO 12160 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 12:52:45.406  INFO 12160 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 12:52:45.469  INFO 12160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 12:52:45.471  INFO 12160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:52:45.479  INFO 12160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:52:45.479  INFO 12160 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:52:45.556  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 12:52:45.561  INFO 12160 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:52:45.596  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:52:45.597  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:52:45.597  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:52:45.597  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:52:45.597  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:52:45.597  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 12:52:45.598  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:52:46.192  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:52:46.195  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 12:52:46.198  INFO 12160 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 12:52:46.204  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662184366203 with initial instances count: 0
2022-09-03 12:52:46.214  INFO 12160 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662184366214, current=UP, previous=STARTING]
2022-09-03 12:52:46.216  INFO 12160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:b9a0a4d505b4c831fd907f2dfc7eed71: registering service...
2022-09-03 12:52:46.263  INFO 12160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:b9a0a4d505b4c831fd907f2dfc7eed71 - registration status: 204
2022-09-03 12:52:46.606  INFO 12160 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 15.018 seconds (JVM running for 17.671)
2022-09-03 12:52:47.327  INFO 12160 --- [RMI TCP Connection(1)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 12:53:16.195  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:53:16.196  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:53:16.196  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:53:16.196  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:53:16.196  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:53:16.196  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 12:53:16.196  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:53:16.205  INFO 12160 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:54:57.235  INFO 12160 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 12:54:57.241 TRACE 12160 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='dd11b698-e619-4e30-868e-c4187c45cf60', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 12:54:57.242  INFO 12160 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-03 12:54:57.459 ERROR 12160 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Product name 'Product_006' is duplicated
2022-09-03 12:54:57.471 ERROR 12160 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in create product: CreateProductCommand(price=10.0)

com.liem.ms.productservice.core.exception.CommandServiceException: Product name 'Product_006' is duplicated
	at com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor.lambda$handle$0(CreateProductCommandInterceptor.java:41) ~[classes/:na]
	at org.axonframework.messaging.MessageDispatchInterceptor.handle(MessageDispatchInterceptor.java:41) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.DispatchInterceptors.intercept(DispatchInterceptors.java:44) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.dispatch(AxonServerCommandBus.java:143) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.commandhandling.gateway.AbstractCommandGateway.send(AbstractCommandGateway.java:75) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.commandhandling.gateway.DefaultCommandGateway.send(DefaultCommandGateway.java:73) ~[axon-messaging-4.5.15.jar:4.5.15]
	at org.axonframework.commandhandling.gateway.DefaultCommandGateway.sendAndWait(DefaultCommandGateway.java:90) ~[axon-messaging-4.5.15.jar:4.5.15]
	at com.liem.ms.productservice.command.service.impl.ProductCommandServiceImpl.create(ProductCommandServiceImpl.java:40) ~[classes/:na]
	at com.liem.ms.productservice.command.service.impl.ProductCommandServiceImpl$$FastClassBySpringCGLIB$$c22d2e63.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]
	at com.liem.ms.productservice.command.service.impl.ProductCommandServiceImpl$$EnhancerBySpringCGLIB$$c80e5bd3.create(<generated>) ~[classes/:na]
	at com.liem.ms.productservice.command.controller.v1.ProductCommandController.createProduct(ProductCommandController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.22.jar:5.3.22]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 12:55:29.068  INFO 12160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662184529068, current=DOWN, previous=UP]
2022-09-03 12:55:29.068  INFO 12160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:b9a0a4d505b4c831fd907f2dfc7eed71: registering service...
2022-09-03 12:55:29.073  INFO 12160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:b9a0a4d505b4c831fd907f2dfc7eed71 - registration status: 204
2022-09-03 12:55:29.296  INFO 12160 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:55:29.297  INFO 12160 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:55:29.297  INFO 12160 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:55:29.452  INFO 12160 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 12:55:29.462  INFO 12160 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 12:55:29.465  INFO 12160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 12:55:32.468  INFO 12160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 12:55:32.473  INFO 12160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:b9a0a4d505b4c831fd907f2dfc7eed71 - deregister  status: 200
2022-09-03 12:55:32.479  INFO 12160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 12:55:41.701  INFO 21680 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 21680 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 12:55:41.703 DEBUG 21680 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 12:55:41.703  INFO 21680 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 12:55:43.101  WARN 21680 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:55:43.103  WARN 21680 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 12:55:44.898  INFO 21680 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 12:55:44.899  INFO 21680 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 12:55:45.064  INFO 21680 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 12:55:45.721  INFO 21680 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 12:55:45.890  INFO 21680 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 12:55:46.073  INFO 21680 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 12:55:46.199  INFO 21680 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 12:55:46.785  INFO 21680 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 12:55:46.859  INFO 21680 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 12:55:46.977  INFO 21680 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 12:55:47.032  INFO 21680 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 12:55:47.182  INFO 21680 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 12:55:47.306  INFO 21680 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 12:55:48.136  INFO 21680 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 12:55:48.459  INFO 21680 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 12:55:48.597  INFO 21680 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 12:55:48.597  INFO 21680 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 12:55:48.598  INFO 21680 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 12:55:48.612  INFO 21680 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:55:48.613  INFO 21680 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 12:55:48.614  INFO 21680 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:55:48.615  INFO 21680 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 12:55:53.012  INFO 21680 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 12:55:53.749  INFO 21680 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 12:55:53.764  INFO 21680 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 12:55:53.789  INFO 21680 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 12:55:53.798  INFO 21680 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 12:55:53.858  INFO 21680 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 12:55:53.860  INFO 21680 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 12:55:53.865  INFO 21680 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 12:55:53.866  INFO 21680 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 12:55:53.935  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 12:55:53.939  INFO 21680 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 12:55:53.969  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 12:55:53.969  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 12:55:53.970  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 12:55:53.970  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 12:55:53.970  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 12:55:53.970  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 12:55:53.970  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 12:55:54.353  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 12:55:54.355  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 12:55:54.358  INFO 21680 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 12:55:54.365  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662184554364 with initial instances count: 1
2022-09-03 12:55:54.373  INFO 21680 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662184554373, current=UP, previous=STARTING]
2022-09-03 12:55:54.375  INFO 21680 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:07b13c426eb57e9be021101f0167a062: registering service...
2022-09-03 12:55:54.423  INFO 21680 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:07b13c426eb57e9be021101f0167a062 - registration status: 204
2022-09-03 12:55:54.721  INFO 21680 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 13.88 seconds (JVM running for 15.763)
2022-09-03 12:55:55.276  INFO 21680 --- [RMI TCP Connection(1)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 12:56:28.587  INFO 21680 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 12:56:28.591 TRACE 21680 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='c4db16ca-a57c-4929-a45b-0ceb07ff3d13', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 12:56:28.592  INFO 21680 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-03 12:56:28.731 ERROR 21680 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Product name 'Product_006' is duplicated
2022-09-03 12:56:28.731 ERROR 21680 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in create product: CreateProductCommand(price=10.0) => Product name 'Product_006' is duplicated
2022-09-03 13:00:53.973  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:05:53.976  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:10:53.976  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:15:53.978  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:20:53.980  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:25:53.981  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:30:53.982  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:35:53.983  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:40:53.985  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:45:53.987  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:50:53.988  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 13:55:53.989  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:00:53.990  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:05:53.991  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:10:53.993  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:15:53.996  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:20:53.998  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:25:53.999  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:30:54.001  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:35:54.003  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:40:54.006  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:45:54.007  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:50:54.009  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 14:55:54.011  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:00:54.012  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:05:54.014  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:10:54.015  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:15:54.016  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:20:54.017  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:25:54.019  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:30:54.021  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:35:54.022  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:40:54.024  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:45:54.024  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:50:54.026  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 15:55:54.027  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:00:54.029  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:05:54.031  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:10:54.033  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:15:54.034  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:20:54.035  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:25:54.036  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:30:54.037  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:35:54.038  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:40:54.039  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:45:54.041  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:50:54.043  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 16:55:54.044  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:00:54.045  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:05:54.045  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:10:54.047  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:15:54.048  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:20:54.049  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:25:54.050  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:30:54.052  INFO 21680 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:35:21.078  INFO 21680 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662201321078, current=DOWN, previous=UP]
2022-09-03 17:35:21.080  INFO 21680 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:07b13c426eb57e9be021101f0167a062: registering service...
2022-09-03 17:35:21.096  INFO 21680 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:07b13c426eb57e9be021101f0167a062 - registration status: 204
2022-09-03 17:35:21.412  INFO 21680 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 17:35:21.415  INFO 21680 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 17:35:21.415  INFO 21680 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 17:35:21.575  INFO 21680 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 17:35:21.582  INFO 21680 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 17:35:21.584  INFO 21680 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 17:35:24.587  INFO 21680 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 17:35:24.593  INFO 21680 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:07b13c426eb57e9be021101f0167a062 - deregister  status: 200
2022-09-03 17:35:24.600  INFO 21680 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 17:35:35.194  INFO 9260 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 9260 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 17:35:35.196 DEBUG 9260 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 17:35:35.197  INFO 9260 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 17:35:36.593  WARN 9260 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 17:35:36.596  WARN 9260 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 17:35:38.400  INFO 9260 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 17:35:38.401  INFO 9260 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 17:35:38.553  INFO 9260 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 17:35:39.204  INFO 9260 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 17:35:39.372  INFO 9260 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 17:35:39.549  INFO 9260 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 17:35:39.669  INFO 9260 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 17:35:40.213  INFO 9260 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 17:35:40.282  INFO 9260 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 17:35:40.397  INFO 9260 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 17:35:40.451  INFO 9260 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 17:35:40.598  INFO 9260 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 17:35:40.720  INFO 9260 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 17:35:41.455  INFO 9260 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 17:35:41.735  INFO 9260 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 17:35:41.877  INFO 9260 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 17:35:41.877  INFO 9260 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 17:35:41.878  INFO 9260 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 17:35:41.893  INFO 9260 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 17:35:41.894  INFO 9260 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 17:35:41.895  INFO 9260 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 17:35:41.896  INFO 9260 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 17:35:46.412  INFO 9260 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 17:35:47.209  INFO 9260 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 17:35:47.224  INFO 9260 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 17:35:47.247  INFO 9260 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 17:35:47.256  INFO 9260 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 17:35:47.317  INFO 9260 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 17:35:47.319  INFO 9260 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 17:35:47.324  INFO 9260 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 17:35:47.326  INFO 9260 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 17:35:47.391  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 17:35:47.395  INFO 9260 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:35:47.424  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 17:35:47.424  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 17:35:47.425  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 17:35:47.425  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 17:35:47.425  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 17:35:47.425  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 17:35:47.425  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 17:35:47.824  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 17:35:47.826  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 17:35:47.829  INFO 9260 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 17:35:47.836  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662201347834 with initial instances count: 0
2022-09-03 17:35:47.844  INFO 9260 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662201347844, current=UP, previous=STARTING]
2022-09-03 17:35:47.846  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:182cfc583082f83a316eab257e45bb12: registering service...
2022-09-03 17:35:47.892  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:182cfc583082f83a316eab257e45bb12 - registration status: 204
2022-09-03 17:35:48.210  INFO 9260 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 13.873 seconds (JVM running for 15.621)
2022-09-03 17:35:48.858  INFO 9260 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 17:36:17.827  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 17:36:17.828  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 17:36:17.828  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 17:36:17.828  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 17:36:17.828  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 17:36:17.829  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 17:36:17.829  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 17:36:17.841  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 17:40:47.429  INFO 9260 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:45:47.431  INFO 9260 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:46:59.176  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662202019176, current=DOWN, previous=UP]
2022-09-03 17:46:59.176  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:182cfc583082f83a316eab257e45bb12: registering service...
2022-09-03 17:46:59.182  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:182cfc583082f83a316eab257e45bb12 - registration status: 204
2022-09-03 17:46:59.403  INFO 9260 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 17:46:59.405  INFO 9260 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 17:46:59.406  INFO 9260 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 17:46:59.563  INFO 9260 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 17:46:59.570  INFO 9260 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 17:46:59.572  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 17:47:02.574  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 17:47:02.589  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:182cfc583082f83a316eab257e45bb12 - deregister  status: 200
2022-09-03 17:47:02.595  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 17:47:12.707  INFO 18896 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 18896 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 17:47:12.709 DEBUG 18896 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 17:47:12.710  INFO 18896 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 17:47:14.213  WARN 18896 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 17:47:14.215  WARN 18896 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 17:47:16.127  INFO 18896 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 17:47:16.128  INFO 18896 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 17:47:16.284  INFO 18896 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 17:47:16.972  INFO 18896 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 17:47:17.140  INFO 18896 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 17:47:17.327  INFO 18896 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 17:47:17.457  INFO 18896 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 17:47:18.026  INFO 18896 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 17:47:18.101  INFO 18896 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 17:47:18.217  INFO 18896 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 17:47:18.273  INFO 18896 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 17:47:18.432  INFO 18896 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 17:47:18.559  INFO 18896 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 17:47:19.305  INFO 18896 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 17:47:19.341  INFO 18896 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 17:47:19.351  INFO 18896 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 17:47:19.356  INFO 18896 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-09-03 17:47:19.414 ERROR 18896 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌──->──┐
|  handlerConfiguration
└──<-──┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2022-09-03 17:51:43.968  INFO 3096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 3096 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 17:51:43.969 DEBUG 3096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 17:51:43.970  INFO 3096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 17:51:45.370  WARN 3096 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 17:51:45.373  WARN 3096 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 17:51:47.246  INFO 3096 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 17:51:47.247  INFO 3096 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 17:51:47.426  INFO 3096 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 17:51:48.084  INFO 3096 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 17:51:48.251  INFO 3096 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 17:51:48.429  INFO 3096 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 17:51:48.556  INFO 3096 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 17:51:49.127  INFO 3096 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 17:51:49.205  INFO 3096 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 17:51:49.323  INFO 3096 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 17:51:49.379  INFO 3096 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 17:51:49.531  INFO 3096 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 17:51:49.658  INFO 3096 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 17:51:50.405  INFO 3096 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 17:51:50.437 TRACE 3096 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@1130afcb
2022-09-03 17:51:50.693  INFO 3096 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 17:51:50.842  INFO 3096 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 17:51:50.843  INFO 3096 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 17:51:50.843  INFO 3096 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 17:51:50.859  INFO 3096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 17:51:50.860  INFO 3096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 17:51:50.861  INFO 3096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 17:51:50.862  INFO 3096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 17:51:51.333 TRACE 3096 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@c8518c0
2022-09-03 17:51:55.314  INFO 3096 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 17:51:56.018  INFO 3096 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 17:51:56.033  INFO 3096 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 17:51:56.057  INFO 3096 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 17:51:56.066  INFO 3096 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 17:51:56.127  INFO 3096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 17:51:56.129  INFO 3096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 17:51:56.135  INFO 3096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 17:51:56.136  INFO 3096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 17:51:56.198  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 17:51:56.202  INFO 3096 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:51:56.230  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 17:51:56.231  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 17:51:56.231  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 17:51:56.231  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 17:51:56.231  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 17:51:56.231  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 17:51:56.232  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 17:51:56.662  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 17:51:56.665  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 17:51:56.668  INFO 3096 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 17:51:56.675  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662202316674 with initial instances count: 0
2022-09-03 17:51:56.683  INFO 3096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662202316683, current=UP, previous=STARTING]
2022-09-03 17:51:56.685  INFO 3096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:adf80fc641841b959bdcd52c5bc08f13: registering service...
2022-09-03 17:51:56.730  INFO 3096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:adf80fc641841b959bdcd52c5bc08f13 - registration status: 204
2022-09-03 17:51:57.044  INFO 3096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 13.991 seconds (JVM running for 15.903)
2022-09-03 17:51:57.682  INFO 3096 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 17:52:26.665  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 17:52:26.666  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 17:52:26.666  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 17:52:26.666  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 17:52:26.666  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 17:52:26.666  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 17:52:26.666  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 17:52:26.677  INFO 3096 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 17:53:24.157  INFO 3096 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 17:53:24.161 TRACE 3096 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='f3d42718-e0a8-4fd5-a6bf-3342ff65a43c', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 17:53:24.161  INFO 3096 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-03 17:53:24.378 TRACE 3096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: CreateProductCommand(price=10.0)
2022-09-03 17:53:24.397 TRACE 3096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 17:53:24.439 TRACE 3096 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductCreatedEvent(price=10.0)
2022-09-03 17:53:24.440  INFO 3096 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Create entity: ProductEntity(price=10.0)
2022-09-03 17:54:18.452  WARN 3096 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m97ms233µs200ns).
2022-09-03 17:54:22.078 ERROR 3096 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : onCreated exception
2022-09-03 17:54:34.032 ERROR 3096 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle onCreated exception with message GenericDomainEventMessage{payload={ProductCreatedEvent(price=10.0)}, metadata={'traceId'->'f3d42718-e0a8-4fd5-a6bf-3342ff65a43c', 'correlationId'->'f3d42718-e0a8-4fd5-a6bf-3342ff65a43c'}, messageIdentifier='19a82920-d130-4670-9b12-bcbe1c1e712d', timestamp='2022-09-03T10:53:24.389290500Z', aggregateType='ProductAggregate', aggregateIdentifier='ac069f39-8f10-4373-92c6-39cbff057f31', sequenceNumber=0} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@740116b
2022-09-03 17:54:34.047 ERROR 3096 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in create product: CreateProductCommand(price=10.0) => io.axoniq.axonserver.connector.AxonServerException: [AXONIQ-4003] Received exception while dispatching command
2022-09-03 17:54:34.056  INFO 3096 --- [grpc-default-executor-3] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 17:54:34.548  INFO 3096 --- [axon-connector-3096@DESKTOP-6L79JE3-1] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 17:54:34.561  INFO 3096 --- [grpc-default-executor-5] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 17:54:34.564  INFO 3096 --- [grpc-default-executor-5] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 17:56:56.235  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 17:59:48.147  INFO 3096 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 17:59:48.148 TRACE 3096 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='d4c5a059-5605-46ce-a1e0-0ddf79cf5747', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 17:59:48.148  INFO 3096 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 17:59:48.162 TRACE 3096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 17:59:48.171 TRACE 3096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 17:59:48.176 TRACE 3096 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 17:59:48.203  INFO 3096 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 17:59:48.207 TRACE 3096 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 17:59:48.228 ERROR 3096 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 0cbaeb9e-6af6-4376-9868-5e26c8d3faa2, expected 1
2022-09-03 18:01:56.238  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:06:56.240  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:11:56.241  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:16:56.243  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:21:56.243  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:26:56.244  INFO 3096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:31:31.315  INFO 3096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662204691315, current=DOWN, previous=UP]
2022-09-03 18:31:31.316  INFO 3096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:adf80fc641841b959bdcd52c5bc08f13: registering service...
2022-09-03 18:31:31.325  INFO 3096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:adf80fc641841b959bdcd52c5bc08f13 - registration status: 204
2022-09-03 18:31:31.542  INFO 3096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 18:31:31.542  INFO 3096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 18:31:31.543  INFO 3096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 18:31:31.828  INFO 3096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 18:31:31.838  INFO 3096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 18:31:31.840  INFO 3096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 18:31:34.842  WARN 3096 --- [DiscoveryClient-0] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-09-03 18:31:34.843  INFO 3096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 18:31:34.847  INFO 3096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:adf80fc641841b959bdcd52c5bc08f13 - deregister  status: 200
2022-09-03 18:31:34.854  INFO 3096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 18:31:47.642  INFO 11976 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 11976 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 18:31:47.644 DEBUG 11976 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 18:31:47.644  INFO 11976 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 18:31:49.107  WARN 11976 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 18:31:49.111  WARN 11976 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 18:31:51.080  INFO 11976 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 18:31:51.080  INFO 11976 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 18:31:51.249  INFO 11976 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 18:31:51.918  INFO 11976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 18:31:52.086  INFO 11976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 18:31:52.272  INFO 11976 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 18:31:52.405  INFO 11976 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 18:31:52.996  INFO 11976 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 18:31:53.074  INFO 11976 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 18:31:53.194  INFO 11976 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 18:31:53.249  INFO 11976 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 18:31:53.414  INFO 11976 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 18:31:53.548  INFO 11976 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 18:31:54.308  INFO 11976 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 18:31:54.342 TRACE 11976 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@356c0bc2
2022-09-03 18:31:54.603  INFO 11976 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 18:31:54.739  INFO 11976 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 18:31:54.739  INFO 11976 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 18:31:54.739  INFO 11976 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 18:31:54.754  INFO 11976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 18:31:54.755  INFO 11976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 18:31:54.755  INFO 11976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 18:31:54.756  INFO 11976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 18:31:55.225 TRACE 11976 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@55a2e864
2022-09-03 18:31:59.672  INFO 11976 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 18:32:00.517  INFO 11976 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 18:32:00.535  INFO 11976 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:32:00.570  INFO 11976 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 18:32:00.582  INFO 11976 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 18:32:00.651  INFO 11976 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 18:32:00.653  INFO 11976 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 18:32:00.659  INFO 11976 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 18:32:00.660  INFO 11976 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 18:32:00.730  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 18:32:00.736  INFO 11976 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:32:00.770  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 18:32:00.771  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 18:32:00.771  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 18:32:00.771  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 18:32:00.771  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 18:32:00.771  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 18:32:00.771  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 18:32:01.184  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 18:32:01.187  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 18:32:01.190  INFO 11976 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 18:32:01.197  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662204721195 with initial instances count: 0
2022-09-03 18:32:01.205  INFO 11976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662204721205, current=UP, previous=STARTING]
2022-09-03 18:32:01.208  INFO 11976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:640f3626083250fafb6bffd205868bc9: registering service...
2022-09-03 18:32:01.255  INFO 11976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:640f3626083250fafb6bffd205868bc9 - registration status: 204
2022-09-03 18:32:01.597  INFO 11976 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 15.048 seconds (JVM running for 17.384)
2022-09-03 18:32:02.567  INFO 11976 --- [RMI TCP Connection(5)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 18:32:31.188  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 18:32:31.189  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 18:32:31.189  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 18:32:31.189  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 18:32:31.189  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 18:32:31.189  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 18:32:31.189  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 18:32:31.198  INFO 11976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 18:33:51.826  INFO 11976 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.0)
2022-09-03 18:33:51.830 TRACE 11976 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.0)}, metadata={}, messageIdentifier='ab6f248f-af87-493b-8243-8df50b284bf6', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-03 18:33:51.831  INFO 11976 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-03 18:33:52.049 TRACE 11976 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: CreateProductCommand(price=10.0)
2022-09-03 18:33:52.061 TRACE 11976 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 18:33:52.102 TRACE 11976 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductCreatedEvent(price=10.0)
2022-09-03 18:33:52.103  INFO 11976 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Create entity: ProductEntity(price=10.0)
2022-09-03 18:33:59.092 TRACE 11976 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductCreatedEvent(price=10.0)
2022-09-03 18:33:59.093  INFO 11976 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Save look up entity: ProductLookupEntity(productId=8e288212-d462-4655-9325-14574587222d, productName=Product_008)
2022-09-03 18:36:19.269  INFO 11976 --- [http-nio-8080-exec-3] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 18:36:19.272 TRACE 11976 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='f294b4d2-41cb-48ee-9982-8890aa7ab335', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 18:36:19.274  INFO 11976 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 18:36:19.285  INFO 11976 --- [grpc-default-executor-3] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 18:36:19.310  INFO 11976 --- [grpc-default-executor-3] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 18:36:28.233 TRACE 11976 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 18:36:28.233  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-1] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:36:28.235 TRACE 11976 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:36:28.239 TRACE 11976 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:36:28.247  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 18:36:28.252 ERROR 11976 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product is not found by id: 2022-09-03T11:33:51.730815400Z
2022-09-03 18:36:28.252 ERROR 11976 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle Product is not found by id: 2022-09-03T11:33:51.730815400Z with message GenericDomainEventMessage{payload={ProductUpdatedEvent(price=10.5)}, metadata={'traceId'->'f294b4d2-41cb-48ee-9982-8890aa7ab335', 'correlationId'->'f294b4d2-41cb-48ee-9982-8890aa7ab335'}, messageIdentifier='84248aad-5b1f-4de8-9c3c-177eba1fc730', timestamp='2022-09-03T11:36:28.235311300Z', aggregateType='ProductAggregate', aggregateIdentifier='2022-09-03T11:33:51.730815400Z', sequenceNumber=0} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@45f2a258
2022-09-03 18:36:28.273 ERROR 11976 --- [http-nio-8080-exec-3] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => Product is not found by id: 2022-09-03T11:33:51.730815400Z
2022-09-03 18:36:59.949  INFO 11976 --- [http-nio-8080-exec-4] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 18:36:59.951 TRACE 11976 --- [http-nio-8080-exec-4] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='1b7a166c-22d3-4120-9ca7-aeb465f76cf6', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 18:36:59.951  INFO 11976 --- [http-nio-8080-exec-4] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 18:36:59.959 TRACE 11976 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 18:36:59.960 TRACE 11976 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:36:59.963 TRACE 11976 --- [CommandProcessor-2] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:36:59.981  INFO 11976 --- [CommandProcessor-2] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 18:36:59.984 TRACE 11976 --- [CommandProcessor-2] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:36:59.998 ERROR 11976 --- [http-nio-8080-exec-4] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 8e288212-d462-4655-9325-14574587222d, expected 1
2022-09-03 18:37:00.774  INFO 11976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:37:23.113  INFO 11976 --- [http-nio-8080-exec-5] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 18:37:23.117 TRACE 11976 --- [http-nio-8080-exec-5] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='d366aecf-6c51-4dcd-8f81-131855978081', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 18:37:23.119  INFO 11976 --- [http-nio-8080-exec-5] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 18:38:04.858  INFO 11976 --- [grpc-default-executor-6] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 18:38:04.857 ERROR 11976 --- [http-nio-8080-exec-5] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => io.axoniq.axonserver.connector.AxonServerException: [AXONIQ-4003] Received exception while dispatching command
2022-09-03 18:38:04.857 TRACE 11976 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 18:38:07.150  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-1] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:38:07.599  INFO 11976 --- [grpc-default-executor-6] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 18:38:07.599  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 18:38:32.372  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 18:39:08.557  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Unable to recover current connection to AxonServer. Attempting to reconnect...
2022-09-03 18:39:08.557  WARN 11976 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m3s704ms275µs700ns).
2022-09-03 18:39:20.990  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 18:39:21.003  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-0] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 18:39:20.986 TRACE 11976 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:39:21.622  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-1] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:39:22.160  INFO 11976 --- [grpc-default-executor-7] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 18:39:22.160  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 18:39:38.438  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 18:39:52.354  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Unable to recover current connection to AxonServer. Attempting to reconnect...
2022-09-03 18:39:52.357  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 18:39:52.369  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-1] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 18:40:12.920  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-0] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:40:12.934  INFO 11976 --- [grpc-default-executor-8] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 18:40:12.920 TRACE 11976 --- [CommandProcessor-3] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:40:19.263  INFO 11976 --- [grpc-default-executor-8] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 18:40:20.635  INFO 11976 --- [CommandProcessor-3] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 18:40:43.926  WARN 11976 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s572ms280µs200ns).
2022-09-03 18:40:43.929 TRACE 11976 --- [CommandProcessor-3] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 18:40:43.930  INFO 11976 --- [grpc-default-executor-8] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 18:40:44.430  INFO 11976 --- [axon-connector-11976@DESKTOP-6L79JE3-0] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:40:44.437  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 18:40:44.439  INFO 11976 --- [grpc-default-executor-4] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 18:42:00.777  INFO 11976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:47:00.778  INFO 11976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:52:00.780  INFO 11976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:57:00.781  INFO 11976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:58:03.367  INFO 11976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206283367, current=DOWN, previous=UP]
2022-09-03 18:58:03.367  INFO 11976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:640f3626083250fafb6bffd205868bc9: registering service...
2022-09-03 18:58:03.377  INFO 11976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:640f3626083250fafb6bffd205868bc9 - registration status: 204
2022-09-03 18:58:03.598  INFO 11976 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 18:58:03.599  INFO 11976 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 18:58:03.599  INFO 11976 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 18:58:03.899  INFO 11976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 18:58:03.909  INFO 11976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 18:58:03.912  INFO 11976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 18:58:06.914  INFO 11976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 18:58:06.918  INFO 11976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:640f3626083250fafb6bffd205868bc9 - deregister  status: 200
2022-09-03 18:58:06.923  INFO 11976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 18:58:19.102  INFO 9104 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 9104 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 18:58:19.104 DEBUG 9104 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 18:58:19.104  INFO 9104 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 18:58:20.711  WARN 9104 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 18:58:20.714  WARN 9104 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 18:58:22.711  INFO 9104 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 18:58:22.711  INFO 9104 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 18:58:22.892  INFO 9104 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 18:58:23.565  INFO 9104 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 18:58:23.739  INFO 9104 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 18:58:23.920  INFO 9104 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 18:58:24.046  INFO 9104 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 18:58:24.619  INFO 9104 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 18:58:24.692  INFO 9104 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 18:58:24.824  INFO 9104 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 18:58:24.895  INFO 9104 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 18:58:25.080  INFO 9104 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 18:58:25.272  INFO 9104 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 18:58:26.180  INFO 9104 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 18:58:26.215 TRACE 9104 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@758d4eb0
2022-09-03 18:58:26.510  INFO 9104 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 18:58:26.655  INFO 9104 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 18:58:26.656  INFO 9104 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 18:58:26.656  INFO 9104 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 18:58:26.670  INFO 9104 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 18:58:26.673  INFO 9104 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 18:58:26.673  INFO 9104 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 18:58:26.674  INFO 9104 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 18:58:27.149 TRACE 9104 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@45be2a0d
2022-09-03 18:58:31.566  INFO 9104 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 18:58:32.320  INFO 9104 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 18:58:32.335  INFO 9104 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 18:58:32.359  INFO 9104 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 18:58:32.369  INFO 9104 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 18:58:32.431  INFO 9104 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 18:58:32.434  INFO 9104 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 18:58:32.438  INFO 9104 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 18:58:32.439  INFO 9104 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 18:58:32.505  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 18:58:32.509  INFO 9104 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 18:58:32.535  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 18:58:32.536  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 18:58:32.536  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 18:58:32.536  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 18:58:32.536  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 18:58:32.536  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 18:58:32.537  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 18:58:32.967  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 18:58:32.970  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 18:58:32.973  INFO 9104 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 18:58:32.980  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662206312978 with initial instances count: 0
2022-09-03 18:58:32.988  INFO 9104 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206312988, current=UP, previous=STARTING]
2022-09-03 18:58:32.990  INFO 9104 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:68c50c9530b58224c1137e633ee18881: registering service...
2022-09-03 18:58:33.039  INFO 9104 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:68c50c9530b58224c1137e633ee18881 - registration status: 204
2022-09-03 18:58:33.349  INFO 9104 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 15.241 seconds (JVM running for 17.088)
2022-09-03 18:58:34.221  INFO 9104 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 18:59:02.971  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 18:59:02.972  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 18:59:02.972  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 18:59:02.972  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 18:59:02.972  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 18:59:02.972  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 18:59:02.972  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 18:59:02.981  INFO 9104 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:00:45.696  INFO 9104 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:00:45.700 TRACE 9104 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='36fe63df-c3e2-4d64-b889-776f74508cfd', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:00:45.702  INFO 9104 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:00:51.553 TRACE 9104 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:01:14.501  WARN 9104 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s653ms492µs200ns).
2022-09-03 19:01:14.501 TRACE 9104 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:01:19.855 ERROR 9104 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => io.axoniq.axonserver.connector.AxonServerException: [AXONIQ-4003] Received exception while dispatching command
2022-09-03 19:01:19.859  INFO 9104 --- [grpc-default-executor-2] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 19:01:35.265 TRACE 9104 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:01:35.266  INFO 9104 --- [axon-connector-9104@DESKTOP-6L79JE3-1] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:01:35.293  INFO 9104 --- [grpc-default-executor-2] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 19:01:35.339  INFO 9104 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 19:01:35.362 TRACE 9104 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:01:35.771  INFO 9104 --- [grpc-default-executor-2] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 19:02:36.969  INFO 9104 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:02:36.970 TRACE 9104 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='bb07bef7-b882-46ca-af39-b7d266f2b592', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:02:36.971  INFO 9104 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:02:56.340 TRACE 9104 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:03:09.455 TRACE 9104 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:03:09.458 ERROR 9104 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => io.axoniq.axonserver.connector.AxonServerException: [AXONIQ-4003] Received exception while dispatching command
2022-09-03 19:03:09.459  INFO 9104 --- [grpc-default-executor-6] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 19:03:09.462  INFO 9104 --- [CommandProcessor-1] i.a.a.c.impl.AxonServerManagedChannel    : Unable to recover current connection to AxonServer. Attempting to reconnect...
2022-09-03 19:03:09.472  INFO 9104 --- [CommandProcessor-1] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:03:09.495  INFO 9104 --- [CommandProcessor-1] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:03:09.497 TRACE 9104 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:03:09.502  INFO 9104 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 19:03:09.504 TRACE 9104 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:03:09.509  INFO 9104 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206589509, current=DOWN, previous=UP]
2022-09-03 19:03:09.511  INFO 9104 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:68c50c9530b58224c1137e633ee18881: registering service...
2022-09-03 19:03:09.516  INFO 9104 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:68c50c9530b58224c1137e633ee18881 - registration status: 204
2022-09-03 19:03:09.760  INFO 9104 --- [grpc-default-executor-5] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 19:03:09.760  INFO 9104 --- [grpc-default-executor-6] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 19:03:09.763  INFO 9104 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:03:09.765  INFO 9104 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:03:09.765  INFO 9104 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:03:09.958  INFO 9104 --- [axon-connector-9104@DESKTOP-6L79JE3-1] i.a.a.c.impl.AbstractAxonServerChannel   : Ignoring reconnect request, as connector is being shut down.
2022-09-03 19:03:09.958  INFO 9104 --- [axon-connector-9104@DESKTOP-6L79JE3-1] i.a.a.c.impl.AbstractAxonServerChannel   : Ignoring reconnect request, as connector is being shut down.
2022-09-03 19:03:09.961  INFO 9104 --- [axon-connector-9104@DESKTOP-6L79JE3-0] i.a.a.c.impl.AbstractAxonServerChannel   : Ignoring reconnect request, as connector is being shut down.
2022-09-03 19:03:09.983  INFO 9104 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:03:10.003  INFO 9104 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:03:10.006  INFO 9104 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:03:13.009  INFO 9104 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:03:13.014  INFO 9104 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:68c50c9530b58224c1137e633ee18881 - deregister  status: 200
2022-09-03 19:03:13.019  INFO 9104 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:03:22.461  INFO 11028 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 11028 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:03:22.462 DEBUG 11028 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:03:22.463  INFO 11028 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:03:23.872  WARN 11028 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:03:23.875  WARN 11028 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:03:25.727  INFO 11028 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:03:25.727  INFO 11028 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:03:25.878  INFO 11028 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:03:26.539  INFO 11028 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:03:26.706  INFO 11028 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:03:26.885  INFO 11028 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:03:27.013  INFO 11028 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:03:27.570  INFO 11028 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:03:27.642  INFO 11028 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:03:27.762  INFO 11028 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:03:27.817  INFO 11028 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:03:27.967  INFO 11028 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:03:28.094  INFO 11028 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:03:28.833  INFO 11028 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:03:28.868 TRACE 11028 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@22ce892c
2022-09-03 19:03:29.138  INFO 11028 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:03:29.284  INFO 11028 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:03:29.284  INFO 11028 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:03:29.284  INFO 11028 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:03:29.300  INFO 11028 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:03:29.301  INFO 11028 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:03:29.302  INFO 11028 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:03:29.303  INFO 11028 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:03:29.784 TRACE 11028 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@5ec871c0
2022-09-03 19:03:33.857  INFO 11028 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:03:34.563  INFO 11028 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:03:34.579  INFO 11028 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:03:34.603  INFO 11028 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:03:34.612  INFO 11028 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:03:34.672  INFO 11028 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:03:34.674  INFO 11028 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:03:34.679  INFO 11028 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:03:34.680  INFO 11028 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:03:34.742  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:03:34.746  INFO 11028 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:03:34.771  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:03:34.772  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:03:34.772  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:03:34.772  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:03:34.773  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:03:34.773  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:03:34.773  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:03:35.217  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:03:35.220  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:03:35.223  INFO 11028 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:03:35.230  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662206615228 with initial instances count: 0
2022-09-03 19:03:35.238  INFO 11028 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206615238, current=UP, previous=STARTING]
2022-09-03 19:03:35.240  INFO 11028 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:436aa4960e7b0885dc0d77c975fd69a4: registering service...
2022-09-03 19:03:35.286  INFO 11028 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:436aa4960e7b0885dc0d77c975fd69a4 - registration status: 204
2022-09-03 19:03:35.617  INFO 11028 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.043 seconds (JVM running for 15.949)
2022-09-03 19:03:36.345  INFO 11028 --- [RMI TCP Connection(2)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:04:01.531  INFO 11028 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:04:01.536 TRACE 11028 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='d25a94bf-d34d-45fe-8c41-1117dbd401d8', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:04:01.537  INFO 11028 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:04:03.109 TRACE 11028 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:04:05.178 TRACE 11028 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:04:08.530  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:04:08.531  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:04:08.532  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:04:08.533  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:04:08.533  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:04:08.533  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 19:04:08.533  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:04:08.544  INFO 11028 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:04:08.536 ERROR 11028 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => Aggregate identifier must be non-null after applying an event. Make sure the aggregate identifier is initialized at the latest when handling the creation event.
2022-09-03 19:05:12.582  INFO 11028 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206712582, current=DOWN, previous=UP]
2022-09-03 19:05:12.583  INFO 11028 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:436aa4960e7b0885dc0d77c975fd69a4: registering service...
2022-09-03 19:05:12.588  INFO 11028 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:436aa4960e7b0885dc0d77c975fd69a4 - registration status: 204
2022-09-03 19:05:12.830  INFO 11028 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:05:12.833  INFO 11028 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:05:12.834  INFO 11028 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:05:13.015  INFO 11028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:05:13.035  INFO 11028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:05:13.037  INFO 11028 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:05:16.040  INFO 11028 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:05:16.045  INFO 11028 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:436aa4960e7b0885dc0d77c975fd69a4 - deregister  status: 200
2022-09-03 19:05:16.050  INFO 11028 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:05:25.070  INFO 12100 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 12100 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:05:25.072 DEBUG 12100 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:05:25.072  INFO 12100 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:05:26.524  WARN 12100 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:05:26.527  WARN 12100 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:05:28.399  INFO 12100 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:05:28.399  INFO 12100 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:05:28.553  INFO 12100 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:05:29.219  INFO 12100 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:05:29.386  INFO 12100 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:05:29.564  INFO 12100 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:05:29.712  INFO 12100 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:05:30.290  INFO 12100 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:05:30.363  INFO 12100 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:05:30.483  INFO 12100 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:05:30.539  INFO 12100 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:05:30.691  INFO 12100 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:05:30.814  INFO 12100 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:05:31.574  INFO 12100 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:05:31.612 TRACE 12100 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@6365652b
2022-09-03 19:05:31.891  INFO 12100 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:05:32.030  INFO 12100 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:05:32.030  INFO 12100 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:05:32.030  INFO 12100 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:05:32.045  INFO 12100 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:05:32.046  INFO 12100 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:05:32.047  INFO 12100 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:05:32.048  INFO 12100 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:05:32.533 TRACE 12100 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@e8b8e8a
2022-09-03 19:05:36.566  INFO 12100 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:05:37.274  INFO 12100 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:05:37.290  INFO 12100 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:05:37.315  INFO 12100 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:05:37.323  INFO 12100 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:05:37.385  INFO 12100 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:05:37.387  INFO 12100 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:05:37.392  INFO 12100 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:05:37.392  INFO 12100 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:05:37.458  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:05:37.462  INFO 12100 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:05:37.489  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:05:37.490  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:05:37.490  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:05:37.490  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:05:37.490  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:05:37.490  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:05:37.490  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:05:37.923  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:05:37.926  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:05:37.929  INFO 12100 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:05:37.936  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662206737934 with initial instances count: 0
2022-09-03 19:05:37.944  INFO 12100 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206737944, current=UP, previous=STARTING]
2022-09-03 19:05:37.947  INFO 12100 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:810a82c3285d1e5d6659f33d5f5f2900: registering service...
2022-09-03 19:05:37.995  INFO 12100 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:810a82c3285d1e5d6659f33d5f5f2900 - registration status: 204
2022-09-03 19:05:38.302  INFO 12100 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.117 seconds (JVM running for 15.771)
2022-09-03 19:05:38.833  INFO 12100 --- [RMI TCP Connection(2)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:06:07.929  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:06:07.930  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:06:07.930  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:06:07.930  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:06:07.931  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:06:07.931  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 19:06:07.931  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:06:07.949  INFO 12100 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:09:14.704  INFO 12100 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206954704, current=DOWN, previous=UP]
2022-09-03 19:09:14.705  INFO 12100 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:810a82c3285d1e5d6659f33d5f5f2900: registering service...
2022-09-03 19:09:14.709  INFO 12100 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:810a82c3285d1e5d6659f33d5f5f2900 - registration status: 204
2022-09-03 19:09:14.943  INFO 12100 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:09:14.945  INFO 12100 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:09:14.945  INFO 12100 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:09:15.511  INFO 12100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:09:15.524  INFO 12100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:09:15.528  INFO 12100 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:09:18.532  INFO 12100 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:09:18.537  INFO 12100 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:810a82c3285d1e5d6659f33d5f5f2900 - deregister  status: 200
2022-09-03 19:09:18.544  INFO 12100 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:09:28.499  INFO 22368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 22368 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:09:28.501 DEBUG 22368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:09:28.502  INFO 22368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:09:29.979  WARN 22368 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:09:29.982  WARN 22368 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:09:31.941  INFO 22368 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:09:31.941  INFO 22368 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:09:32.126  INFO 22368 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:09:32.834  INFO 22368 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:09:33.017  INFO 22368 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:09:33.212  INFO 22368 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:09:33.339  INFO 22368 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:09:33.911  INFO 22368 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:09:33.986  INFO 22368 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:09:34.107  INFO 22368 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:09:34.164  INFO 22368 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:09:34.318  INFO 22368 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:09:34.447  INFO 22368 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:09:35.197  INFO 22368 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:09:35.232 TRACE 22368 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@599274b2
2022-09-03 19:09:35.478  INFO 22368 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:09:35.630  INFO 22368 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:09:35.630  INFO 22368 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:09:35.631  INFO 22368 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:09:35.646  INFO 22368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:09:35.647  INFO 22368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:09:35.648  INFO 22368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:09:35.649  INFO 22368 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:09:36.138 TRACE 22368 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@1cdd355
2022-09-03 19:09:40.493  INFO 22368 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:09:41.298  INFO 22368 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:09:41.314  INFO 22368 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:09:41.339  INFO 22368 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:09:41.348  INFO 22368 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:09:41.410  INFO 22368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:09:41.413  INFO 22368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:09:41.420  INFO 22368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:09:41.421  INFO 22368 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:09:41.491  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:09:41.495  INFO 22368 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:09:41.524  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:09:41.525  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:09:41.525  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:09:41.525  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:09:41.525  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:09:41.525  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:09:41.525  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:09:41.964  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:09:41.966  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:09:41.969  INFO 22368 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:09:41.976  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662206981975 with initial instances count: 0
2022-09-03 19:09:41.985  INFO 22368 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662206981985, current=UP, previous=STARTING]
2022-09-03 19:09:41.987  INFO 22368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:cc6bbb8aca8fe57ec1393b609717660f: registering service...
2022-09-03 19:09:42.036  INFO 22368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:cc6bbb8aca8fe57ec1393b609717660f - registration status: 204
2022-09-03 19:09:42.413  INFO 22368 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.912 seconds (JVM running for 17.168)
2022-09-03 19:09:42.972  INFO 22368 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:10:11.967  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:10:11.968  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:10:11.968  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:10:11.968  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:10:11.968  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:10:11.968  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 19:10:11.968  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:10:11.977  INFO 22368 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:13:34.025  INFO 22368 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:13:34.029 TRACE 22368 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='0a2ad76c-a496-4628-b70d-bff16ca55af1', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:13:34.031  INFO 22368 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:13:34.200 TRACE 22368 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:13:35.992 TRACE 22368 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:13:46.590 ERROR 22368 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => Aggregate identifier must be non-null after applying an event. Make sure the aggregate identifier is initialized at the latest when handling the creation event.
2022-09-03 19:14:41.527  INFO 22368 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:19:41.529  INFO 22368 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:23:14.314  INFO 22368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662207794314, current=DOWN, previous=UP]
2022-09-03 19:23:14.314  INFO 22368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:cc6bbb8aca8fe57ec1393b609717660f: registering service...
2022-09-03 19:23:14.324  INFO 22368 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:cc6bbb8aca8fe57ec1393b609717660f - registration status: 204
2022-09-03 19:23:14.530  INFO 22368 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:23:14.531  INFO 22368 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:23:14.532  INFO 22368 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:23:14.894  INFO 22368 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:23:14.902  INFO 22368 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:23:14.904  INFO 22368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:23:17.906  WARN 22368 --- [DiscoveryClient-0] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-09-03 19:23:17.907  INFO 22368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:23:17.910  INFO 22368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:cc6bbb8aca8fe57ec1393b609717660f - deregister  status: 200
2022-09-03 19:23:17.915  INFO 22368 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:23:27.328  INFO 22224 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 22224 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:23:27.330 DEBUG 22224 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:23:27.331  INFO 22224 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:23:28.736  WARN 22224 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:23:28.739  WARN 22224 --- [restartedMain] o.a.s.config.SpringAxonAutoConfigurer    : There are 2 beans defined for 'com.liem.ms.productservice.core.domain.BaseAggregate'.
2022-09-03 19:23:30.592  INFO 22224 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:23:30.592  INFO 22224 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:23:30.758  INFO 22224 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:23:31.428  INFO 22224 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:23:31.587  INFO 22224 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:23:31.766  INFO 22224 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:23:31.888  INFO 22224 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:23:32.453  INFO 22224 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:23:32.527  INFO 22224 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:23:32.645  INFO 22224 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:23:32.701  INFO 22224 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:23:32.851  INFO 22224 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:23:32.977  INFO 22224 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:23:33.719  INFO 22224 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:23:33.754 TRACE 22224 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@21251e2e
2022-09-03 19:23:33.996  INFO 22224 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:23:34.133  INFO 22224 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:23:34.134  INFO 22224 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:23:34.134  INFO 22224 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:23:34.148  INFO 22224 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:23:34.149  INFO 22224 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:23:34.150  INFO 22224 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:23:34.151  INFO 22224 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:23:34.648 TRACE 22224 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@6872eb02
2022-09-03 19:23:38.707  INFO 22224 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:23:39.468  INFO 22224 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:23:39.488  INFO 22224 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:23:39.518  INFO 22224 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:23:39.530  INFO 22224 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:23:39.607  INFO 22224 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:23:39.609  INFO 22224 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:23:39.617  INFO 22224 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:23:39.617  INFO 22224 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:23:39.697  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:23:39.703  INFO 22224 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:23:39.744  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:23:39.744  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:23:39.744  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:23:39.744  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:23:39.745  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:23:39.745  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:23:39.745  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:23:40.233  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:23:40.236  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:23:40.241  INFO 22224 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:23:40.252  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662207820249 with initial instances count: 0
2022-09-03 19:23:40.265  INFO 22224 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662207820264, current=UP, previous=STARTING]
2022-09-03 19:23:40.268  INFO 22224 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0b0d41b216533c957c9c3150e62ed27d: registering service...
2022-09-03 19:23:40.327  INFO 22224 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0b0d41b216533c957c9c3150e62ed27d - registration status: 204
2022-09-03 19:23:40.651  INFO 22224 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.274 seconds (JVM running for 16.5)
2022-09-03 19:23:41.020  INFO 22224 --- [RMI TCP Connection(1)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:24:10.238  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:24:10.238  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:24:10.239  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:24:10.239  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:24:10.239  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:24:10.239  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 19:24:10.239  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:24:10.248  INFO 22224 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:24:43.370  INFO 22224 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662207883370, current=DOWN, previous=UP]
2022-09-03 19:24:43.371  INFO 22224 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0b0d41b216533c957c9c3150e62ed27d: registering service...
2022-09-03 19:24:43.376  INFO 22224 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0b0d41b216533c957c9c3150e62ed27d - registration status: 204
2022-09-03 19:24:43.597  INFO 22224 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:24:43.598  INFO 22224 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:24:43.599  INFO 22224 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:24:43.832  INFO 22224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:24:43.844  INFO 22224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:24:43.847  INFO 22224 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:24:46.849  INFO 22224 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:24:46.854  INFO 22224 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:0b0d41b216533c957c9c3150e62ed27d - deregister  status: 200
2022-09-03 19:24:46.860  INFO 22224 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:24:58.493  INFO 17036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 17036 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:24:58.495 DEBUG 17036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:24:58.495  INFO 17036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:25:01.956  INFO 17036 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:25:01.956  INFO 17036 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:25:02.145  INFO 17036 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:25:02.899  INFO 17036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:25:03.126  INFO 17036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:25:03.372  INFO 17036 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:25:03.520  INFO 17036 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:25:04.115  INFO 17036 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:25:04.186  INFO 17036 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:25:04.305  INFO 17036 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:25:04.359  INFO 17036 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:25:04.508  INFO 17036 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:25:04.631  INFO 17036 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:25:05.377  INFO 17036 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:25:05.412 TRACE 17036 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@5317283f
2022-09-03 19:25:05.665  INFO 17036 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:25:05.814  INFO 17036 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:25:05.814  INFO 17036 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:25:05.814  INFO 17036 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:25:05.828  INFO 17036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:25:05.829  INFO 17036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:25:05.830  INFO 17036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:25:05.831  INFO 17036 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:25:06.307 TRACE 17036 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@32b05659
2022-09-03 19:25:10.330  INFO 17036 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:25:11.051  INFO 17036 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:25:11.066  INFO 17036 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:25:11.090  INFO 17036 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:25:11.100  INFO 17036 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:25:11.169  INFO 17036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:25:11.172  INFO 17036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:25:11.178  INFO 17036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:25:11.179  INFO 17036 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:25:11.249  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:25:11.253  INFO 17036 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:25:11.282  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:25:11.282  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:25:11.283  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:25:11.283  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:25:11.283  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:25:11.283  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:25:11.283  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:25:11.703  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:25:11.706  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:25:11.709  INFO 17036 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:25:11.715  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662207911713 with initial instances count: 0
2022-09-03 19:25:11.723  INFO 17036 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662207911722, current=UP, previous=STARTING]
2022-09-03 19:25:11.725  INFO 17036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3e8e33b57177f84963c1d40caeee6a95: registering service...
2022-09-03 19:25:11.771  INFO 17036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3e8e33b57177f84963c1d40caeee6a95 - registration status: 204
2022-09-03 19:25:12.091  INFO 17036 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.573 seconds (JVM running for 16.504)
2022-09-03 19:25:12.797  INFO 17036 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:25:41.706  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:25:41.707  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:25:41.707  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:25:41.707  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:25:41.707  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:25:41.707  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 19:25:41.707  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:25:41.717  INFO 17036 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:26:20.916  INFO 17036 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:26:20.921 TRACE 17036 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='78f47c75-7451-4e47-b193-b06481eaadae', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:26:20.922  INFO 17036 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:26:21.000 TRACE 17036 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:26:24.059 TRACE 17036 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:27:14.885  WARN 17036 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m11s656ms104µs700ns).
2022-09-03 19:27:17.126 ERROR 17036 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => io.axoniq.axonserver.connector.AxonServerException: [AXONIQ-4003] Received exception while dispatching command
2022-09-03 19:27:17.132  INFO 17036 --- [grpc-default-executor-1] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 19:27:17.628  INFO 17036 --- [axon-connector-17036@DESKTOP-6L79JE3-0] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:27:17.639  INFO 17036 --- [grpc-default-executor-1] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 19:27:17.641  INFO 17036 --- [grpc-default-executor-1] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 19:27:32.351  INFO 17036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662208052351, current=DOWN, previous=UP]
2022-09-03 19:27:32.351  INFO 17036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3e8e33b57177f84963c1d40caeee6a95: registering service...
2022-09-03 19:27:32.358  INFO 17036 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3e8e33b57177f84963c1d40caeee6a95 - registration status: 204
2022-09-03 19:27:32.578  INFO 17036 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:27:32.579  INFO 17036 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:27:32.580  INFO 17036 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:27:32.707  INFO 17036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:27:32.719  INFO 17036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:27:32.723  INFO 17036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:27:35.727  INFO 17036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:27:35.732  INFO 17036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:3e8e33b57177f84963c1d40caeee6a95 - deregister  status: 200
2022-09-03 19:27:35.737  INFO 17036 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:27:45.767  INFO 9820 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 9820 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:27:45.768 DEBUG 9820 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:27:45.769  INFO 9820 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:27:49.219  INFO 9820 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:27:49.220  INFO 9820 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:27:49.407  INFO 9820 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:27:50.162  INFO 9820 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:27:50.341  INFO 9820 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:27:50.528  INFO 9820 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:27:50.665  INFO 9820 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:27:51.350  INFO 9820 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:27:51.439  INFO 9820 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:27:51.566  INFO 9820 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:27:51.632  INFO 9820 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:27:51.787  INFO 9820 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:27:51.917  INFO 9820 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:27:52.703  INFO 9820 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:27:52.740 TRACE 9820 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@6af567d0
2022-09-03 19:27:53.012  INFO 9820 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:27:53.169  INFO 9820 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:27:53.170  INFO 9820 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:27:53.170  INFO 9820 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:27:53.186  INFO 9820 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:27:53.187  INFO 9820 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:27:53.188  INFO 9820 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:27:53.189  INFO 9820 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:27:53.709 TRACE 9820 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@dd10b47
2022-09-03 19:27:57.966  INFO 9820 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:27:58.709  INFO 9820 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:27:58.727  INFO 9820 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:27:58.751  INFO 9820 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:27:58.759  INFO 9820 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:27:58.819  INFO 9820 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:27:58.821  INFO 9820 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:27:58.830  INFO 9820 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:27:58.831  INFO 9820 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:27:58.895  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:27:58.899  INFO 9820 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:27:58.926  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:27:58.926  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:27:58.927  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:27:58.927  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:27:58.927  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:27:58.928  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:27:58.928  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:27:59.375  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:27:59.380  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:27:59.383  INFO 9820 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:27:59.389  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662208079388 with initial instances count: 1
2022-09-03 19:27:59.398  INFO 9820 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662208079398, current=UP, previous=STARTING]
2022-09-03 19:27:59.400  INFO 9820 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:9a5dc582700cf7bbc2e5c9ea429ea0b9: registering service...
2022-09-03 19:27:59.449  INFO 9820 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:9a5dc582700cf7bbc2e5c9ea429ea0b9 - registration status: 204
2022-09-03 19:27:59.791  INFO 9820 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.935 seconds (JVM running for 16.685)
2022-09-03 19:28:00.709  INFO 9820 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:29:37.107  INFO 9820 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:29:37.112 TRACE 9820 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='020a1b51-6c9a-481c-ae84-7bae7819e805', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:29:37.114  INFO 9820 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:29:37.212 TRACE 9820 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:29:45.377 TRACE 9820 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:29:49.841 TRACE 9820 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:29:49.907  INFO 9820 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 19:29:49.927 TRACE 9820 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:29:52.994 ERROR 9820 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => OUT_OF_RANGE: [AXONIQ-2000] Invalid sequence number 0 for aggregate 8e288212-d462-4655-9325-14574587222d, expected 1
2022-09-03 19:32:42.567  INFO 9820 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662208362567, current=DOWN, previous=UP]
2022-09-03 19:32:42.568  INFO 9820 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:9a5dc582700cf7bbc2e5c9ea429ea0b9: registering service...
2022-09-03 19:32:42.574  INFO 9820 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:9a5dc582700cf7bbc2e5c9ea429ea0b9 - registration status: 204
2022-09-03 19:32:42.803  INFO 9820 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:32:42.804  INFO 9820 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:32:42.804  INFO 9820 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:32:42.961  INFO 9820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 19:32:42.971  INFO 9820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 19:32:42.974  INFO 9820 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 19:32:45.976  INFO 9820 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 19:32:45.981  INFO 9820 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:9a5dc582700cf7bbc2e5c9ea429ea0b9 - deregister  status: 200
2022-09-03 19:32:45.986  INFO 9820 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 19:32:55.763  INFO 18468 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 18468 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 19:32:55.764 DEBUG 18468 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 19:32:55.765  INFO 18468 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 19:32:59.344  INFO 18468 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 19:32:59.345  INFO 18468 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 19:32:59.538  INFO 18468 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 19:33:00.260  INFO 18468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 19:33:00.429  INFO 18468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 19:33:00.608  INFO 18468 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 19:33:00.750  INFO 18468 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 19:33:01.366  INFO 18468 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 19:33:01.451  INFO 18468 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 19:33:01.591  INFO 18468 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 19:33:01.653  INFO 18468 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 19:33:01.816  INFO 18468 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 19:33:01.944  INFO 18468 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 19:33:02.720  INFO 18468 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 19:33:02.760 TRACE 18468 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@60dc1b14
2022-09-03 19:33:03.049  INFO 18468 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 19:33:03.185  INFO 18468 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 19:33:03.186  INFO 18468 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 19:33:03.186  INFO 18468 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 19:33:03.200  INFO 18468 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:33:03.201  INFO 18468 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 19:33:03.202  INFO 18468 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:33:03.203  INFO 18468 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 19:33:03.721 TRACE 18468 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@7f5b27ce
2022-09-03 19:33:07.950  INFO 18468 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 19:33:08.675  INFO 18468 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 19:33:08.691  INFO 18468 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:33:08.714  INFO 18468 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 19:33:08.723  INFO 18468 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 19:33:08.787  INFO 18468 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 19:33:08.790  INFO 18468 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 19:33:08.795  INFO 18468 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 19:33:08.796  INFO 18468 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 19:33:08.860  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 19:33:08.864  INFO 18468 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:33:08.891  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:33:08.891  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:33:08.891  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:33:08.892  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:33:08.892  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:33:08.892  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 19:33:08.892  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:33:09.319  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:33:09.322  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 19:33:09.325  INFO 18468 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 19:33:09.332  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662208389330 with initial instances count: 0
2022-09-03 19:33:09.340  INFO 18468 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662208389340, current=UP, previous=STARTING]
2022-09-03 19:33:09.342  INFO 18468 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:807231cd60384a7da287c0572f8211af: registering service...
2022-09-03 19:33:09.387  INFO 18468 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:807231cd60384a7da287c0572f8211af - registration status: 204
2022-09-03 19:33:09.741  INFO 18468 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 15.023 seconds (JVM running for 17.421)
2022-09-03 19:33:10.633  INFO 18468 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 19:33:39.323  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 19:33:39.324  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 19:33:39.324  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 19:33:39.324  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 19:33:39.324  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 19:33:39.324  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 19:33:39.324  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 19:33:39.334  INFO 18468 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 19:33:51.787  INFO 18468 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:33:51.792 TRACE 18468 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='4d3e0acd-749f-46d0-98ec-2d232c87354f', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:33:51.793  INFO 18468 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:33:52.017 TRACE 18468 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 19:33:52.022 TRACE 18468 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:34:13.811 TRACE 18468 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:34:20.634 ERROR 18468 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => io.axoniq.axonserver.connector.AxonServerException: [AXONIQ-4003] Received exception while dispatching command
2022-09-03 19:34:20.639  INFO 18468 --- [grpc-default-executor-1] i.a.a.c.query.impl.QueryChannelImpl      : Error on QueryChannel for context default

io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.43.0.jar:1.43.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2022-09-03 19:34:40.364 TRACE 18468 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:34:40.365  INFO 18468 --- [axon-connector-18468@DESKTOP-6L79JE3-0] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 19:34:40.393  INFO 18468 --- [grpc-default-executor-3] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 3 command handlers registered
2022-09-03 19:34:40.437  INFO 18468 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 19:34:40.458 TRACE 18468 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:34:40.870  INFO 18468 --- [grpc-default-executor-3] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 1 registrations resubscribed
2022-09-03 19:35:24.635  INFO 18468 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 19:35:24.637 TRACE 18468 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='9e695e50-35f9-4166-97c3-a3a424c4b74c', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 19:35:24.637  INFO 18468 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 19:35:24.669 TRACE 18468 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 19:35:24.671 TRACE 18468 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 19:35:24.671 TRACE 18468 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:35:24.672 TRACE 18468 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:35:24.676  INFO 18468 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 19:35:24.677 TRACE 18468 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 19:38:08.895  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:43:08.898  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:48:08.900  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:53:08.902  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 19:58:08.903  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:03:08.906  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:08:08.907  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:13:08.908  INFO 18468 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:18:01.553  INFO 18468 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662211081553, current=DOWN, previous=UP]
2022-09-03 20:18:01.554  INFO 18468 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:807231cd60384a7da287c0572f8211af: registering service...
2022-09-03 20:18:01.570  INFO 18468 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:807231cd60384a7da287c0572f8211af - registration status: 204
2022-09-03 20:18:01.810  INFO 18468 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 20:18:01.812  INFO 18468 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 20:18:01.812  INFO 18468 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 20:18:02.313  INFO 18468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 20:18:02.321  INFO 18468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 20:18:02.324  INFO 18468 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 20:18:05.327  INFO 18468 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 20:18:05.337  INFO 18468 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:807231cd60384a7da287c0572f8211af - deregister  status: 200
2022-09-03 20:18:05.347  INFO 18468 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 20:18:16.405  INFO 10512 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 10512 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 20:18:16.406 DEBUG 10512 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 20:18:16.407  INFO 10512 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 20:18:20.090  INFO 10512 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 20:18:20.091  INFO 10512 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 20:18:20.253  INFO 10512 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 20:18:20.965  INFO 10512 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 20:18:21.147  INFO 10512 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 20:18:21.345  INFO 10512 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 20:18:21.488  INFO 10512 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 20:18:22.097  INFO 10512 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 20:18:22.167  INFO 10512 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 20:18:22.290  INFO 10512 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 20:18:22.365  INFO 10512 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 20:18:22.543  INFO 10512 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 20:18:22.683  INFO 10512 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 20:18:23.495  INFO 10512 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 20:18:23.525 TRACE 10512 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@7605875b
2022-09-03 20:18:23.780  INFO 10512 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 20:18:23.926  INFO 10512 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 20:18:23.926  INFO 10512 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 20:18:23.928  INFO 10512 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 20:18:23.941  INFO 10512 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 20:18:23.943  INFO 10512 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 20:18:23.944  INFO 10512 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 20:18:23.945  INFO 10512 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 20:18:23.994 TRACE 10512 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@20d51cd1
2022-09-03 20:18:24.426 TRACE 10512 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@4ba40d89
2022-09-03 20:18:24.430 TRACE 10512 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@26fdb7fe
2022-09-03 20:18:28.471  INFO 10512 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 20:18:29.209  INFO 10512 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 20:18:29.226  INFO 10512 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 20:18:29.249  INFO 10512 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 20:18:29.258  INFO 10512 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 20:18:29.323  INFO 10512 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 20:18:29.326  INFO 10512 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 20:18:29.332  INFO 10512 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 20:18:29.333  INFO 10512 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 20:18:29.397  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 20:18:29.401  INFO 10512 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:18:29.455  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 20:18:29.456  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 20:18:29.456  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 20:18:29.456  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 20:18:29.456  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 20:18:29.456  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 20:18:29.457  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 20:18:29.906  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 20:18:29.910  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 20:18:29.914  INFO 10512 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 20:18:29.921  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662211109919 with initial instances count: 1
2022-09-03 20:18:29.930  INFO 10512 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662211109929, current=UP, previous=STARTING]
2022-09-03 20:18:29.932  INFO 10512 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f538b6b4cddd67ca00bcecba41dec390: registering service...
2022-09-03 20:18:29.980  INFO 10512 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f538b6b4cddd67ca00bcecba41dec390 - registration status: 204
2022-09-03 20:18:30.305  INFO 10512 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.838 seconds (JVM running for 16.581)
2022-09-03 20:18:30.411  INFO 10512 --- [RMI TCP Connection(1)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 20:21:20.714  INFO 10512 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 20:21:20.718 TRACE 10512 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='1839c48d-2952-40a1-a054-7feddcc6a5a2', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 20:21:20.720  INFO 10512 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:21:20.721 TRACE 10512 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='1839c48d-2952-40a1-a054-7feddcc6a5a2', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 20:21:20.721  INFO 10512 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:21:20.721 TRACE 10512 --- [http-nio-8080-exec-1] .m.p.c.i.UpdateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='1839c48d-2952-40a1-a054-7feddcc6a5a2', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 20:21:20.722  INFO 10512 --- [http-nio-8080-exec-1] .m.p.c.i.UpdateProductCommandInterceptor : Update product command interceptor handle
2022-09-03 20:21:20.722 ERROR 10512 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in update product: UpdateProductCommand(price=10.5) => class com.liem.ms.productservice.command.commands.product.UpdateProductCommand cannot be cast to class com.liem.ms.productservice.command.commands.product.CreateProductCommand (com.liem.ms.productservice.command.commands.product.UpdateProductCommand and com.liem.ms.productservice.command.commands.product.CreateProductCommand are in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @77dbd4d8)
2022-09-03 20:23:04.881  INFO 10512 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662211384881, current=DOWN, previous=UP]
2022-09-03 20:23:04.882  INFO 10512 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f538b6b4cddd67ca00bcecba41dec390: registering service...
2022-09-03 20:23:04.887  INFO 10512 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f538b6b4cddd67ca00bcecba41dec390 - registration status: 204
2022-09-03 20:23:05.108  INFO 10512 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 20:23:05.110  INFO 10512 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 20:23:05.110  INFO 10512 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 20:23:05.610  INFO 10512 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-03 20:23:05.626  INFO 10512 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-03 20:23:05.629  INFO 10512 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-03 20:23:08.631  INFO 10512 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-03 20:23:08.637  INFO 10512 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:f538b6b4cddd67ca00bcecba41dec390 - deregister  status: 200
2022-09-03 20:23:08.642  INFO 10512 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-03 20:23:17.996  INFO 1644 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 1644 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 20:23:17.997 DEBUG 1644 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 20:23:17.998  INFO 1644 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-03 20:23:21.726  INFO 1644 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 20:23:21.726  INFO 1644 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 20:23:21.944  INFO 1644 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-03 20:23:22.615  INFO 1644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 20:23:22.789  INFO 1644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 20:23:23.014  INFO 1644 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 20:23:23.166  INFO 1644 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 20:23:23.740  INFO 1644 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 20:23:23.812  INFO 1644 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 20:23:23.929  INFO 1644 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 20:23:23.983  INFO 1644 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 20:23:24.135  INFO 1644 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 20:23:24.262  INFO 1644 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 20:23:25.031  INFO 1644 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 20:23:25.061 TRACE 1644 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@2311b0d0
2022-09-03 20:23:25.321  INFO 1644 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 20:23:25.457  INFO 1644 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.productservice].
2022-09-03 20:23:25.458  INFO 1644 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 20:23:25.458  INFO 1644 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 20:23:25.472  INFO 1644 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 20:23:25.473  INFO 1644 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 20:23:25.475  INFO 1644 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 20:23:25.476  INFO 1644 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 20:23:25.528 TRACE 1644 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@1b4a00bf
2022-09-03 20:23:25.950 TRACE 1644 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@50d55781
2022-09-03 20:23:25.956 TRACE 1644 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@468aae6e
2022-09-03 20:23:30.057  INFO 1644 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 20:23:30.806  INFO 1644 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 20:23:30.823  INFO 1644 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 20:23:30.851  INFO 1644 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-03 20:23:30.863  INFO 1644 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-03 20:23:30.929  INFO 1644 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 20:23:30.932  INFO 1644 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-03 20:23:30.939  INFO 1644 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-03 20:23:30.940  INFO 1644 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-03 20:23:31.006  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 20:23:31.011  INFO 1644 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:23:31.038  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 20:23:31.039  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 20:23:31.039  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 20:23:31.039  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 20:23:31.039  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 20:23:31.039  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 20:23:31.039  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 20:23:31.419  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 20:23:31.423  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 20:23:31.426  INFO 1644 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 20:23:31.432  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662211411430 with initial instances count: 0
2022-09-03 20:23:31.440  INFO 1644 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662211411440, current=UP, previous=STARTING]
2022-09-03 20:23:31.442  INFO 1644 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e26b75c5acda03efe2af994289dd3745: registering service...
2022-09-03 20:23:31.489  INFO 1644 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:e26b75c5acda03efe2af994289dd3745 - registration status: 204
2022-09-03 20:23:31.798  INFO 1644 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 14.717 seconds (JVM running for 16.82)
2022-09-03 20:23:32.527  INFO 1644 --- [RMI TCP Connection(6)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 20:24:01.424  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 20:24:01.425  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 20:24:01.425  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 20:24:01.425  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 20:24:01.425  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 20:24:01.425  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-03 20:24:01.425  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 20:24:01.435  INFO 1644 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 20:26:02.452  INFO 1644 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send update product command: ProductDto(price=10.5)
2022-09-03 20:26:02.456 TRACE 1644 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='7105467b-a8e5-408a-a0e4-a65aa1f41151', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 20:26:02.458  INFO 1644 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:26:02.458 TRACE 1644 --- [http-nio-8080-exec-1] .m.p.c.i.UpdateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='7105467b-a8e5-408a-a0e4-a65aa1f41151', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 20:26:02.459  INFO 1644 --- [http-nio-8080-exec-1] .m.p.c.i.UpdateProductCommandInterceptor : Update product command interceptor handle
2022-09-03 20:26:02.617 TRACE 1644 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={UpdateProductCommand(price=10.5)}, metadata={}, messageIdentifier='7105467b-a8e5-408a-a0e4-a65aa1f41151', commandName='com.liem.ms.productservice.command.commands.product.UpdateProductCommand'}
2022-09-03 20:26:02.617  INFO 1644 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:26:02.763 TRACE 1644 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 20:26:02.767 TRACE 1644 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 20:26:02.771 TRACE 1644 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: UpdateProductCommand(price=10.5)
2022-09-03 20:26:02.772 TRACE 1644 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 20:26:02.793 TRACE 1644 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: ProductUpdatedEvent(price=10.5)
2022-09-03 20:26:02.832  INFO 1644 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Update entity: ProductEntity(price=10.5)
2022-09-03 20:26:02.853 TRACE 1644 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductUpdatedEvent(price=10.5)
2022-09-03 20:26:02.867  INFO 1644 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Update look up entity: ProductLookupEntity(productId=8e288212-d462-4655-9325-14574587222d, productName=Product_008 edited)
2022-09-03 20:26:41.710  INFO 1644 --- [http-nio-8080-exec-2] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send delete product command: ProductDto(price=null)
2022-09-03 20:26:41.710 TRACE 1644 --- [http-nio-8080-exec-2] .m.p.c.i.DeleteProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={DeleteCommand(id=8e288212-d462-4655-9325-14574587222d)}, metadata={}, messageIdentifier='e17d06be-c3bd-415a-b9b5-766a0e0ec296', commandName='com.liem.ms.productservice.command.commands.common.DeleteCommand'}
2022-09-03 20:26:41.711  INFO 1644 --- [http-nio-8080-exec-2] .m.p.c.i.DeleteProductCommandInterceptor : Delete product command interceptor handle
2022-09-03 20:26:41.711 TRACE 1644 --- [http-nio-8080-exec-2] .m.p.c.i.UpdateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={DeleteCommand(id=8e288212-d462-4655-9325-14574587222d)}, metadata={}, messageIdentifier='e17d06be-c3bd-415a-b9b5-766a0e0ec296', commandName='com.liem.ms.productservice.command.commands.common.DeleteCommand'}
2022-09-03 20:26:41.711  INFO 1644 --- [http-nio-8080-exec-2] .m.p.c.i.UpdateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:26:41.711 TRACE 1644 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={DeleteCommand(id=8e288212-d462-4655-9325-14574587222d)}, metadata={}, messageIdentifier='e17d06be-c3bd-415a-b9b5-766a0e0ec296', commandName='com.liem.ms.productservice.command.commands.common.DeleteCommand'}
2022-09-03 20:26:41.711  INFO 1644 --- [http-nio-8080-exec-2] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:26:41.742 TRACE 1644 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0)
2022-09-03 20:26:41.743 TRACE 1644 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 20:26:41.744 TRACE 1644 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductUpdatedEvent(price=10.5)
2022-09-03 20:26:41.745 TRACE 1644 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: DeleteCommand(id=8e288212-d462-4655-9325-14574587222d)
2022-09-03 20:26:41.745 TRACE 1644 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: DeletedEvent(id=8e288212-d462-4655-9325-14574587222d)
2022-09-03 20:26:41.747 TRACE 1644 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Product handle: DeletedEvent(id=8e288212-d462-4655-9325-14574587222d)
2022-09-03 20:26:41.751  INFO 1644 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventHandlerImpl    : Delete entity: ProductEntity(price=10.5)
2022-09-03 20:26:41.755 TRACE 1644 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: DeletedEvent(id=8e288212-d462-4655-9325-14574587222d)
2022-09-03 20:26:41.760  INFO 1644 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Delete look up entity: ProductLookupEntity(productId=8e288212-d462-4655-9325-14574587222d, productName=Product_008 edited)
2022-09-03 20:27:20.355  INFO 1644 --- [http-nio-8080-exec-3] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send delete product command: ProductDto(price=null)
2022-09-03 20:27:20.356 TRACE 1644 --- [http-nio-8080-exec-3] .m.p.c.i.DeleteProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={DeleteCommand(id=203a43bb-a8fe-45eb-a128-0d937491e301)}, metadata={}, messageIdentifier='4c34a7d0-9af9-4bee-86ea-737c2865ea53', commandName='com.liem.ms.productservice.command.commands.common.DeleteCommand'}
2022-09-03 20:27:20.356  INFO 1644 --- [http-nio-8080-exec-3] .m.p.c.i.DeleteProductCommandInterceptor : Delete product command interceptor handle
2022-09-03 20:27:20.357 TRACE 1644 --- [http-nio-8080-exec-3] .m.p.c.i.UpdateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={DeleteCommand(id=203a43bb-a8fe-45eb-a128-0d937491e301)}, metadata={}, messageIdentifier='4c34a7d0-9af9-4bee-86ea-737c2865ea53', commandName='com.liem.ms.productservice.command.commands.common.DeleteCommand'}
2022-09-03 20:27:20.357  INFO 1644 --- [http-nio-8080-exec-3] .m.p.c.i.UpdateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:27:20.357 TRACE 1644 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={DeleteCommand(id=203a43bb-a8fe-45eb-a128-0d937491e301)}, metadata={}, messageIdentifier='4c34a7d0-9af9-4bee-86ea-737c2865ea53', commandName='com.liem.ms.productservice.command.commands.common.DeleteCommand'}
2022-09-03 20:27:20.357  INFO 1644 --- [http-nio-8080-exec-3] .m.p.c.i.CreateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-03 20:27:20.415 ERROR 1644 --- [http-nio-8080-exec-3] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in delete product: DeleteCommand(id=203a43bb-a8fe-45eb-a128-0d937491e301)

org.axonframework.commandhandling.CommandExecutionException: Aggregate identifier must be non-null after applying an event. Make sure the aggregate identifier is initialized at the latest when handling the creation event.
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:88) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.ErrorCode.convert(ErrorCode.java:182) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.CommandSerializer.deserialize(CommandSerializer.java:164) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at org.axonframework.axonserver.connector.command.AxonServerCommandBus.lambda$doDispatch$1(AxonServerCommandBus.java:161) ~[axon-server-connector-4.5.15.jar:4.5.15]
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[na:na]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:375) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.axoniq.axonserver.connector.command.impl.CommandChannelImpl$CommandResponseHandler.onNext(CommandChannelImpl.java:362) ~[axonserver-connector-java-4.5.7.jar:4.5.7]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:466) ~[grpc-stub-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.43.0.jar:1.43.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.43.0.jar:1.43.0]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: org.axonframework.axonserver.connector.command.AxonServerRemoteCommandHandlingException: An exception was thrown by the remote message handling component: Aggregate identifier must be non-null after applying an event. Make sure the aggregate identifier is initialized at the latest when handling the creation event.
	at org.axonframework.axonserver.connector.ErrorCode.lambda$static$11(ErrorCode.java:86) ~[axon-server-connector-4.5.15.jar:4.5.15]
	... 16 common frames omitted

2022-09-03 20:28:31.041  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:33:31.044  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:38:31.046  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:43:31.047  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:48:31.050  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:53:31.051  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 20:58:31.052  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:03:31.054  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:08:31.062  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:13:31.066  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:18:31.068  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:23:31.069  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:28:31.070  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:33:31.072  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:38:31.074  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:43:31.076  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:48:31.078  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:49:28.317  INFO 23372 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 23372 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-03 21:49:28.319 DEBUG 23372 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-03 21:49:28.320  INFO 23372 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-03 21:49:32.125  INFO 23372 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-03 21:49:32.126  INFO 23372 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-03 21:49:32.301  INFO 23372 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-03 21:49:32.809  INFO 23372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-03 21:49:33.005  INFO 23372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-03 21:49:33.219  INFO 23372 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-03 21:49:33.399  INFO 23372 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-03 21:49:33.922  INFO 23372 --- [restartedMain] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2022-09-03 21:49:33.938  INFO 23372 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-03 21:49:34.072  INFO 23372 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_order_table.sql executed
2022-09-03 21:49:34.073  INFO 23372 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::1::liem ran successfully in 45ms
2022-09-03 21:49:34.089  INFO 23372 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-03 21:49:34.175  INFO 23372 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-03 21:49:34.259  INFO 23372 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-03 21:49:34.437  INFO 23372 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-03 21:49:34.601  INFO 23372 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-03 21:49:35.479  INFO 23372 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-03 21:49:35.668  INFO 23372 --- [restartedMain] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.
2022-09-03 21:49:35.900  INFO 23372 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.liem.ms.orderservice].
2022-09-03 21:49:35.901  INFO 23372 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.eventhandling.tokenstore].
2022-09-03 21:49:35.902  INFO 23372 --- [restartedMain] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [org.axonframework.modelling.saga.repository.jpa].
2022-09-03 21:49:35.913  INFO 23372 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 21:49:35.915  INFO 23372 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-03 21:49:35.916  INFO 23372 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 21:49:35.917  INFO 23372 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-03 21:49:38.934  INFO 23372 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-03 21:49:39.729  INFO 23372 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-03 21:49:39.746  INFO 23372 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-03 21:49:39.764  INFO 23372 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-03 21:49:39.766  INFO 23372 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-03 21:49:39.836  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-03 21:49:39.842  INFO 23372 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:49:39.873  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-03 21:49:39.873  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-03 21:49:39.873  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-03 21:49:39.874  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-03 21:49:39.874  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-03 21:49:39.874  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-03 21:49:39.874  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-03 21:49:40.286  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-03 21:49:40.291  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-03 21:49:40.295  INFO 23372 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-03 21:49:40.301  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662216580300 with initial instances count: 1
2022-09-03 21:49:40.304  INFO 23372 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662216580304, current=UP, previous=STARTING]
2022-09-03 21:49:40.306  INFO 23372 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:0db569391b17253b47049d09fd306dbb: registering service...
2022-09-03 21:49:40.366  INFO 23372 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:0db569391b17253b47049d09fd306dbb - registration status: 204
2022-09-03 21:49:40.695  INFO 23372 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 13.384 seconds (JVM running for 15.524)
2022-09-03 21:49:41.319  INFO 23372 --- [RMI TCP Connection(9)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-03 21:53:31.080  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:54:39.877  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:58:31.082  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 21:59:39.878  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:03:31.083  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:04:39.880  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:08:31.085  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:09:39.881  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:13:31.087  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:14:39.883  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:18:31.089  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:19:39.884  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:23:31.090  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:24:39.885  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:28:31.092  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:29:39.886  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:33:31.093  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:34:39.888  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:38:31.095  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:39:39.889  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:43:31.098  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:44:39.891  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:48:31.100  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:49:39.892  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:53:31.101  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:54:39.893  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:58:31.103  INFO 1644 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-03 22:59:39.895  INFO 23372 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
