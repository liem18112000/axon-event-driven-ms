2022-09-05 14:03:42.499  INFO 20036 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 20036 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:03:42.502 DEBUG 20036 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:03:42.504  INFO 20036 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 14:03:46.996  INFO 20036 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:03:46.996  INFO 20036 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:03:47.173  INFO 20036 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 14:03:47.900  INFO 20036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:03:48.147  INFO 20036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:03:48.373  INFO 20036 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:03:48.528  INFO 20036 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:03:49.259  INFO 20036 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:03:49.316  INFO 20036 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:03:49.318  INFO 20036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 14:03:49.327  INFO 20036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 14:03:49.335  INFO 20036 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-09-05 14:03:49.409 ERROR 20036 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.UnexpectedLiquibaseException: java.io.IOException: The file ../sql/structure/create_payment_table.sql was not found in
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-configuration/4.5.15/axon-configuration-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-disruptor/4.5.15/axon-disruptor-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-eventsourcing/4.5.15/axon-eventsourcing-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-messaging/4.5.15/axon-messaging-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-modelling/4.5.15/axon-modelling-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-server-connector/4.5.15/axon-server-connector-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring-boot-autoconfigure/4.5.15/axon-spring-boot-autoconfigure-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring/4.5.15/axon-spring-4.5.15.jar
    - file:/D:/Work/event-driven-ms/core-service/target/classes/
    - file:/D:/Work/event-driven-ms/order-service/target/classes/
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]
	at com.liem.ms.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.3.jar:2.7.3]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.UnexpectedLiquibaseException: java.io.IOException: The file ../sql/structure/create_payment_table.sql was not found in
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-configuration/4.5.15/axon-configuration-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-disruptor/4.5.15/axon-disruptor-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-eventsourcing/4.5.15/axon-eventsourcing-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-messaging/4.5.15/axon-messaging-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-modelling/4.5.15/axon-modelling-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-server-connector/4.5.15/axon-server-connector-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring-boot-autoconfigure/4.5.15/axon-spring-boot-autoconfigure-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring/4.5.15/axon-spring-4.5.15.jar
    - file:/D:/Work/event-driven-ms/core-service/target/classes/
    - file:/D:/Work/event-driven-ms/order-service/target/classes/
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:289) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Liquibase.runInScope(Liquibase.java:2405) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:211) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:197) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269) ~[liquibase-core-4.9.1.jar:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]
	... 23 common frames omitted
Caused by: liquibase.exception.UnexpectedLiquibaseException: java.io.IOException: The file ../sql/structure/create_payment_table.sql was not found in
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-configuration/4.5.15/axon-configuration-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-disruptor/4.5.15/axon-disruptor-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-eventsourcing/4.5.15/axon-eventsourcing-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-messaging/4.5.15/axon-messaging-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-modelling/4.5.15/axon-modelling-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-server-connector/4.5.15/axon-server-connector-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring-boot-autoconfigure/4.5.15/axon-spring-boot-autoconfigure-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring/4.5.15/axon-spring-4.5.15.jar
    - file:/D:/Work/event-driven-ms/core-service/target/classes/
    - file:/D:/Work/event-driven-ms/order-service/target/classes/
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.change.AbstractSQLChange.generateCheckSum(AbstractSQLChange.java:203) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeSet.generateCheckSum(ChangeSet.java:307) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeSet.toString(ChangeSet.java:938) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeLogIterator.createKey(ChangeLogIterator.java:181) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeLogIterator.alreadySaw(ChangeLogIterator.java:189) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:94) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:243) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:243) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.Scope.child(Scope.java:247) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65) ~[liquibase-core-4.9.1.jar:na]
	... 36 common frames omitted
Caused by: java.io.IOException: The file ../sql/structure/create_payment_table.sql was not found in
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-configuration/4.5.15/axon-configuration-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-disruptor/4.5.15/axon-disruptor-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-eventsourcing/4.5.15/axon-eventsourcing-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-messaging/4.5.15/axon-messaging-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-modelling/4.5.15/axon-modelling-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-server-connector/4.5.15/axon-server-connector-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring-boot-autoconfigure/4.5.15/axon-spring-boot-autoconfigure-4.5.15.jar
    - file:/C:/Users/Liem/.m2/repository/org/axonframework/axon-spring/4.5.15/axon-spring-4.5.15.jar
    - file:/D:/Work/event-driven-ms/core-service/target/classes/
    - file:/D:/Work/event-driven-ms/order-service/target/classes/
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.change.core.SQLFileChange.openSqlStream(SQLFileChange.java:131) ~[liquibase-core-4.9.1.jar:na]
	at liquibase.change.AbstractSQLChange.generateCheckSum(AbstractSQLChange.java:189) ~[liquibase-core-4.9.1.jar:na]
	... 54 common frames omitted

2022-09-05 14:09:02.992  INFO 25240 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Starting PaymentServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 25240 (D:\Work\event-driven-ms\payment-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:09:02.996 DEBUG 25240 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:09:02.997  INFO 25240 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 14:09:06.380  INFO 25240 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:09:06.380  INFO 25240 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:09:06.549  INFO 25240 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 14:09:07.231  INFO 25240 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:09:07.406  INFO 25240 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:09:07.603  INFO 25240 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:09:07.787  INFO 25240 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:09:08.331  INFO 25240 --- [restartedMain] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2022-09-05 14:09:08.350  INFO 25240 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:09:08.469  INFO 25240 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_payment_table.sql executed
2022-09-05 14:09:08.469  INFO 25240 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::1::liem ran successfully in 29ms
2022-09-05 14:09:08.485  INFO 25240 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:09:08.642  INFO 25240 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:09:08.724  INFO 25240 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:09:08.959  INFO 25240 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:09:09.118  INFO 25240 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:09:10.164  INFO 25240 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:09:12.113  INFO 25240 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:12.113  INFO 25240 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:12.114  INFO 25240 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:12.115  INFO 25240 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:17.240  INFO 25240 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:09:18.301  INFO 25240 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:09:18.321  INFO 25240 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:09:18.340  INFO 25240 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 14:09:18.343  INFO 25240 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ProcessPaymentCommand' in context 'default'
2022-09-05 14:09:18.607  INFO 25240 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 14:09:18.616  INFO 25240 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.paymentservice.query.handler, segment=Segment[0/0]}
2022-09-05 14:09:18.626  INFO 25240 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Fetched token: null for segment: Segment[0/0]
2022-09-05 14:09:18.632  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:09:18.639  INFO 25240 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:09:18.687  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:09:18.687  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:09:18.688  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:09:18.688  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:09:18.688  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:09:18.688  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:09:18.688  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:09:19.343  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:09:19.347  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:09:19.351  INFO 25240 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:09:19.358  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662361759356 with initial instances count: 0
2022-09-05 14:09:19.366  INFO 25240 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662361759366, current=UP, previous=STARTING]
2022-09-05 14:09:19.368  INFO 25240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:0f43145c907152753593894128576ca5: registering service...
2022-09-05 14:09:19.562  INFO 25240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:0f43145c907152753593894128576ca5 - registration status: 204
2022-09-05 14:09:20.747  INFO 25240 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Started PaymentServiceApplication in 19.85 seconds (JVM running for 22.383)
2022-09-05 14:09:20.907  INFO 25240 --- [RMI TCP Connection(7)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:09:31.612  INFO 11940 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 11940 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:09:31.614 DEBUG 11940 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:09:31.615  INFO 11940 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 14:09:35.057  INFO 11940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:09:35.058  INFO 11940 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:09:35.244  INFO 11940 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 14:09:35.946  INFO 11940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:09:36.206  INFO 11940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:09:36.494  INFO 11940 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:09:36.662  INFO 11940 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:09:37.414  INFO 11940 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:09:37.520  INFO 11940 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:09:37.675  INFO 11940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:09:37.755  INFO 11940 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:09:38.016  INFO 11940 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:09:38.217  INFO 11940 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:09:40.003  INFO 11940 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:09:40.924  INFO 11940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:40.925  INFO 11940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:40.927  INFO 11940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:40.930  INFO 11940 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:43.081  INFO 3408 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 3408 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:09:43.083 DEBUG 3408 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:09:43.084  INFO 3408 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 14:09:48.062  INFO 1064 --- [restartedMain] c.l.m.u.UserServiceApplication           : Starting UserServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 1064 (D:\Work\event-driven-ms\user-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:09:48.064 DEBUG 1064 --- [restartedMain] c.l.m.u.UserServiceApplication           : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:09:48.065  INFO 1064 --- [restartedMain] c.l.m.u.UserServiceApplication           : The following 1 profile is active: "dev"
2022-09-05 14:09:48.435  INFO 3408 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:09:48.436  INFO 3408 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:09:48.602  INFO 3408 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-05 14:09:49.347  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:09:49.348  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:09:49.348  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:09:49.348  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:09:49.348  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:09:49.348  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-05 14:09:49.348  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:09:49.367  INFO 25240 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:09:49.523  INFO 3408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:09:49.738  INFO 3408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:09:50.026  INFO 3408 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:09:50.121  INFO 11940 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:09:50.242  INFO 3408 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:09:50.989  INFO 3408 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:09:51.107  INFO 3408 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:09:51.141  INFO 11940 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:09:51.162  INFO 11940 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:09:51.185  INFO 11940 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 14:09:51.187  INFO 11940 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 14:09:51.295  INFO 3408 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:09:51.367  INFO 3408 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:09:51.383  INFO 11940 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 14:09:51.392  INFO 11940 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 14:09:51.428  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:09:51.435  INFO 11940 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:09:51.442  INFO 11940 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=19} for segment: Segment[0/0]
2022-09-05 14:09:51.477  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:09:51.477  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:09:51.478  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:09:51.478  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:09:51.478  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:09:51.478  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:09:51.479  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:09:51.568  INFO 3408 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:09:51.745  INFO 3408 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:09:51.999  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:09:52.005  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:09:52.011  INFO 11940 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:09:52.022  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662361792020 with initial instances count: 1
2022-09-05 14:09:52.037  INFO 11940 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662361792037, current=UP, previous=STARTING]
2022-09-05 14:09:52.041  INFO 11940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:fcb35dd8329e2a9a78ef57880d8ed224: registering service...
2022-09-05 14:09:52.104  INFO 11940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:fcb35dd8329e2a9a78ef57880d8ed224 - registration status: 204
2022-09-05 14:09:52.365  INFO 1064 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:09:52.367  INFO 1064 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:09:52.606  INFO 1064 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Initializing Spring embedded WebApplicationContext
2022-09-05 14:09:52.829  INFO 3408 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:09:52.887 TRACE 3408 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@3c89492b
2022-09-05 14:09:53.390  INFO 3408 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:53.391  INFO 3408 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:53.392  INFO 3408 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:53.394  INFO 3408 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:53.423  INFO 11940 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 23.83 seconds (JVM running for 25.654)
2022-09-05 14:09:53.490  INFO 1064 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:09:53.641  INFO 11940 --- [RMI TCP Connection(13)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:09:53.717  INFO 1064 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:09:54.001  INFO 1064 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:09:54.075 TRACE 3408 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@47f63751
2022-09-05 14:09:54.084 TRACE 3408 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@1596bf8f
2022-09-05 14:09:54.090 TRACE 3408 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@20246d18
2022-09-05 14:09:54.183  INFO 1064 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:09:54.559  INFO 1064 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:09:54.633  INFO 1064 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:09:54.757  INFO 1064 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:09:54.853  INFO 1064 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:09:55.045  INFO 1064 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:09:55.221  INFO 1064 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:09:56.064  INFO 1064 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:09:56.492  INFO 1064 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:56.493  INFO 1064 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:09:56.494  INFO 1064 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:09:56.495  INFO 1064 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:10:00.727  INFO 3408 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:10:01.555  INFO 3408 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:10:01.572  INFO 3408 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:10:01.600  INFO 3408 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 14:10:01.610  INFO 3408 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-05 14:10:01.675  INFO 3408 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 14:10:01.677  INFO 3408 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 14:10:01.686  INFO 3408 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 14:10:01.686  INFO 3408 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 14:10:01.687  INFO 3408 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 14:10:01.689  INFO 3408 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 14:10:01.786  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:10:01.790  INFO 3408 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:10:01.817  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:10:01.817  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:10:01.817  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:10:01.818  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:10:01.818  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:10:01.818  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:10:01.818  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:10:02.168  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:10:02.172  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:10:02.176  INFO 3408 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:10:02.183  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662361802182 with initial instances count: 2
2022-09-05 14:10:02.191  INFO 3408 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662361802191, current=UP, previous=STARTING]
2022-09-05 14:10:02.194  INFO 3408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1304dd3dfac120fce3e26f8a367e0528: registering service...
2022-09-05 14:10:02.267  INFO 3408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1304dd3dfac120fce3e26f8a367e0528 - registration status: 204
2022-09-05 14:10:03.058  INFO 1064 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:10:03.576  INFO 3408 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 22.798 seconds (JVM running for 25.191)
2022-09-05 14:10:03.920  INFO 1064 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:10:03.957  INFO 1064 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:10:04.016  INFO 1064 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 14:10:04.034  INFO 1064 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.coreservice.queries.FetchUserPaymentDetailsQuery : com.liem.ms.coreservice.models.User' in context 'default'
2022-09-05 14:10:04.106  INFO 3408 --- [RMI TCP Connection(6)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:10:04.155  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:10:04.165  INFO 1064 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:10:04.212  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:10:04.213  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:10:04.213  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:10:04.213  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:10:04.215  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:10:04.215  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:10:04.216  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:10:04.728  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:10:04.734  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:10:04.738  INFO 1064 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:10:04.746  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662361804745 with initial instances count: 2
2022-09-05 14:10:04.755  INFO 1064 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662361804755, current=UP, previous=STARTING]
2022-09-05 14:10:04.758  INFO 1064 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:25dde6786be99ac99504757298adf4ba: registering service...
2022-09-05 14:10:04.869  INFO 1064 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:25dde6786be99ac99504757298adf4ba - registration status: 204
2022-09-05 14:10:06.199  INFO 1064 --- [restartedMain] c.l.m.u.UserServiceApplication           : Started UserServiceApplication in 20.319 seconds (JVM running for 22.921)
2022-09-05 14:10:06.764  INFO 1064 --- [RMI TCP Connection(5)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:14:18.690  INFO 25240 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:14:51.483  INFO 11940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:15:01.821  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:15:04.219  INFO 1064 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:19:18.692  INFO 25240 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:19:51.484  INFO 11940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:20:01.823  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:20:04.221  INFO 1064 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:24:18.693  INFO 25240 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:24:51.486  INFO 11940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:25:01.826  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:25:04.224  INFO 1064 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:29:18.695  INFO 25240 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:29:51.488  INFO 11940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:30:01.828  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:30:04.226  INFO 1064 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:34:18.698  INFO 25240 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:34:51.490  INFO 11940 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:35:01.829  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:35:04.228  INFO 1064 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:36:04.338  INFO 11940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363364337, current=DOWN, previous=UP]
2022-09-05 14:36:04.338  INFO 11940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:fcb35dd8329e2a9a78ef57880d8ed224: registering service...
2022-09-05 14:36:04.347  INFO 11940 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:fcb35dd8329e2a9a78ef57880d8ed224 - registration status: 204
2022-09-05 14:36:04.577  INFO 11940 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 14:36:04.578  INFO 11940 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 14:36:05.198  INFO 11940 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 14:36:05.199  INFO 11940 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 14:36:05.231  INFO 11940 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 14:36:05.354  INFO 11940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 14:36:05.363  INFO 11940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 14:36:05.365  INFO 11940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 14:36:08.369  INFO 11940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 14:36:08.382  INFO 11940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:fcb35dd8329e2a9a78ef57880d8ed224 - deregister  status: 200
2022-09-05 14:36:08.387  INFO 11940 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 14:36:23.969  INFO 25012 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 25012 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:36:23.971 DEBUG 25012 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:36:23.972  INFO 25012 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 14:36:27.788  INFO 25012 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:36:27.788  INFO 25012 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:36:27.980  INFO 25012 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 14:36:28.675  INFO 25012 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:36:28.864  INFO 25012 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:36:29.100  INFO 25012 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:36:29.254  INFO 25012 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:36:30.121  INFO 25012 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:36:30.216  INFO 25012 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:36:30.360  INFO 25012 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:36:30.438  INFO 25012 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:36:30.630  INFO 25012 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:36:30.775  INFO 25012 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:36:31.656  INFO 25012 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:36:32.125  INFO 25012 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:36:32.126  INFO 25012 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:36:32.127  INFO 25012 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:36:32.128  INFO 25012 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:36:38.976  INFO 25012 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:36:39.761  INFO 25012 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:36:39.778  INFO 25012 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:36:39.794  INFO 25012 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 14:36:39.797  INFO 25012 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 14:36:39.807  INFO 25012 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 14:36:39.959  INFO 25012 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 14:36:39.966  INFO 25012 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 14:36:39.995  INFO 25012 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=19} for segment: Segment[0/0]
2022-09-05 14:36:40.003  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:36:40.009  INFO 25012 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:36:40.057  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:36:40.057  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:36:40.058  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:36:40.059  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:36:40.059  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:36:40.059  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:36:40.059  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:36:40.511  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:36:40.514  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:36:40.518  INFO 25012 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:36:40.523  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662363400522 with initial instances count: 3
2022-09-05 14:36:40.532  INFO 25012 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363400532, current=UP, previous=STARTING]
2022-09-05 14:36:40.534  INFO 25012 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:6bd4d7769101f7f1b5aeced73758cd46: registering service...
2022-09-05 14:36:40.586  INFO 25012 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:6bd4d7769101f7f1b5aeced73758cd46 - registration status: 204
2022-09-05 14:36:41.900  INFO 25012 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 20.343 seconds (JVM running for 23.31)
2022-09-05 14:36:42.415  INFO 25012 --- [RMI TCP Connection(8)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:37:31.171  INFO 25012 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363451171, current=DOWN, previous=UP]
2022-09-05 14:37:31.171  INFO 25012 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:6bd4d7769101f7f1b5aeced73758cd46: registering service...
2022-09-05 14:37:31.179  INFO 25012 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:6bd4d7769101f7f1b5aeced73758cd46 - registration status: 204
2022-09-05 14:37:31.394  INFO 25012 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 14:37:31.395  INFO 25012 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 14:37:31.481  INFO 25012 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 14:37:31.482  INFO 25012 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 14:37:31.532  INFO 25012 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 14:37:31.533  INFO 25012 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 14:37:31.601  INFO 25012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 14:37:31.612  INFO 25012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 14:37:31.615  INFO 25012 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 14:37:34.616  INFO 25012 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 14:37:34.624  INFO 25012 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:6bd4d7769101f7f1b5aeced73758cd46 - deregister  status: 200
2022-09-05 14:37:34.630  INFO 25012 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 14:37:43.084  INFO 21804 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 21804 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:37:43.086 DEBUG 21804 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:37:43.086  INFO 21804 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 14:37:48.307  INFO 21804 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:37:48.308  INFO 21804 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:37:48.499  INFO 21804 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 14:37:49.877  INFO 21804 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:37:50.267  INFO 21804 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:37:50.471  INFO 21804 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:37:50.644  INFO 21804 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:37:51.272  INFO 21804 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:37:51.353  INFO 21804 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:37:51.474  INFO 21804 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:37:51.530  INFO 21804 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:37:51.690  INFO 21804 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:37:51.829  INFO 21804 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:37:52.885  INFO 21804 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:37:53.413  INFO 21804 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:37:53.415  INFO 21804 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:37:53.416  INFO 21804 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:37:53.417  INFO 21804 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:38:01.234  INFO 21804 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:38:02.124  INFO 21804 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:38:02.155  INFO 21804 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:38:02.178  INFO 21804 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 14:38:02.180  INFO 21804 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 14:38:02.191  INFO 21804 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 14:38:02.355  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 14:38:02.372  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 14:38:02.396  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=19} for segment: Segment[0/0]
2022-09-05 14:38:02.405  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:38:02.410  INFO 21804 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:38:02.446  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:38:02.447  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:38:02.447  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:38:02.447  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:38:02.447  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:38:02.447  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:38:02.447  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:38:02.867  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:38:02.871  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:38:02.875  INFO 21804 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:38:02.882  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662363482881 with initial instances count: 3
2022-09-05 14:38:02.890  INFO 21804 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363482890, current=UP, previous=STARTING]
2022-09-05 14:38:02.894  INFO 21804 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:d7f7574342895fe5ee71f9bfe6bf3aaf: registering service...
2022-09-05 14:38:02.946  INFO 21804 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:d7f7574342895fe5ee71f9bfe6bf3aaf - registration status: 204
2022-09-05 14:38:04.249  INFO 21804 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 23.196 seconds (JVM running for 25.575)
2022-09-05 14:38:04.875  INFO 21804 --- [RMI TCP Connection(6)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:39:18.699  INFO 25240 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:40:01.832  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:40:04.229  INFO 1064 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:43:02.450  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:43:27.093  INFO 1064 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363807093, current=DOWN, previous=UP]
2022-09-05 14:43:27.094  INFO 1064 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:25dde6786be99ac99504757298adf4ba: registering service...
2022-09-05 14:43:27.115  INFO 1064 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:25dde6786be99ac99504757298adf4ba - registration status: 204
2022-09-05 14:43:27.147  INFO 25240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363807147, current=DOWN, previous=UP]
2022-09-05 14:43:27.148  INFO 25240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:0f43145c907152753593894128576ca5: registering service...
2022-09-05 14:43:27.168  INFO 25240 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:0f43145c907152753593894128576ca5 - registration status: 204
2022-09-05 14:43:27.429  INFO 25240 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.paymentservice.query.handler'.
2022-09-05 14:43:27.430  INFO 25240 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.paymentservice.query.handler' awaiting termination...
2022-09-05 14:43:27.521  INFO 1064 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 14:43:27.529  INFO 1064 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 14:43:27.533  INFO 1064 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 14:43:28.016  INFO 25240 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 14:43:28.018  INFO 25240 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 14:43:28.050  INFO 25240 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ProcessPaymentCommand' in context 'default'
2022-09-05 14:43:28.508  INFO 25240 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 14:43:28.515  INFO 25240 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 14:43:28.518  INFO 25240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 14:43:30.536  INFO 1064 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 14:43:30.545  INFO 1064 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:25dde6786be99ac99504757298adf4ba - deregister  status: 200
2022-09-05 14:43:30.554  INFO 1064 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 14:43:31.520  INFO 25240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 14:43:31.531  INFO 25240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:0f43145c907152753593894128576ca5 - deregister  status: 200
2022-09-05 14:43:31.538  INFO 25240 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 14:43:41.655  INFO 16128 --- [restartedMain] c.l.m.u.UserServiceApplication           : Starting UserServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 16128 (D:\Work\event-driven-ms\user-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:43:41.659 DEBUG 16128 --- [restartedMain] c.l.m.u.UserServiceApplication           : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:43:41.660  INFO 16128 --- [restartedMain] c.l.m.u.UserServiceApplication           : The following 1 profile is active: "dev"
2022-09-05 14:43:48.469  INFO 16128 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:43:48.470  INFO 16128 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:43:48.772  INFO 16128 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Initializing Spring embedded WebApplicationContext
2022-09-05 14:43:49.552  INFO 16128 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:43:49.752  INFO 16128 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:43:49.965  INFO 16128 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:43:50.115  INFO 16128 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:43:50.538  INFO 16812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Starting PaymentServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 16812 (D:\Work\event-driven-ms\payment-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 14:43:50.540 DEBUG 16812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 14:43:50.541  INFO 16812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 14:43:50.572  INFO 16128 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:43:50.666  INFO 16128 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:43:50.808  INFO 16128 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:43:50.925  INFO 16128 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:43:51.150  INFO 16128 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:43:51.349  INFO 16128 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:43:52.404  INFO 16128 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:43:52.931  INFO 16128 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:43:52.933  INFO 16128 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:43:52.935  INFO 16128 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:43:52.936  INFO 16128 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:43:54.737  INFO 16812 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 14:43:54.738  INFO 16812 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 14:43:54.945  INFO 16812 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 14:43:55.721  INFO 16812 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 14:43:55.910  INFO 16812 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 14:43:56.139  INFO 16812 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 14:43:56.286  INFO 16812 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 14:43:56.924  INFO 16812 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 14:43:57.008  INFO 16812 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 14:43:57.143  INFO 16812 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 14:43:57.209  INFO 16812 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 14:43:57.469  INFO 16812 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 14:43:57.649  INFO 16812 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 14:43:58.588  INFO 16812 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 14:44:00.066  INFO 16128 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:44:00.618  INFO 16812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:44:00.619  INFO 16812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 14:44:00.620  INFO 16812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:44:00.621  INFO 16812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 14:44:00.930  INFO 16128 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:44:00.951  INFO 16128 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:44:00.977  INFO 16128 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 14:44:00.987  INFO 16128 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.coreservice.queries.FetchUserPaymentDetailsQuery : com.liem.ms.coreservice.models.User' in context 'default'
2022-09-05 14:44:01.055  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:44:01.060  INFO 16128 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:44:01.101  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:44:01.101  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:44:01.101  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:44:01.101  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:44:01.101  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:44:01.102  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:44:01.102  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:44:01.670  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:44:01.677  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:44:01.683  INFO 16128 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:44:01.696  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662363841693 with initial instances count: 2
2022-09-05 14:44:01.710  INFO 16128 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363841710, current=UP, previous=STARTING]
2022-09-05 14:44:01.716  INFO 16128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:836874fe21599a0d83d3e2d4918930d6: registering service...
2022-09-05 14:44:01.823  INFO 16128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:836874fe21599a0d83d3e2d4918930d6 - registration status: 204
2022-09-05 14:44:03.153  INFO 16128 --- [restartedMain] c.l.m.u.UserServiceApplication           : Started UserServiceApplication in 24.153 seconds (JVM running for 26.824)
2022-09-05 14:44:03.981  INFO 16128 --- [RMI TCP Connection(11)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:44:06.818  INFO 16812 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 14:44:07.704  INFO 16812 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 14:44:07.724  INFO 16812 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 14:44:07.750  INFO 16812 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 14:44:07.753  INFO 16812 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ProcessPaymentCommand' in context 'default'
2022-09-05 14:44:08.037  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 14:44:08.038  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 14:44:08.047  INFO 16812 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:44:08.049  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.paymentservice.query.handler, segment=Segment[0/0]}
2022-09-05 14:44:08.086  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=19} for segment: Segment[0/0]
2022-09-05 14:44:08.098  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 14:44:08.098  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 14:44:08.098  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 14:44:08.098  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 14:44:08.099  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 14:44:08.099  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 14:44:08.099  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 14:44:08.670  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 14:44:08.678  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 14:44:08.683  INFO 16812 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 14:44:08.693  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662363848692 with initial instances count: 2
2022-09-05 14:44:08.702  INFO 16812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662363848702, current=UP, previous=STARTING]
2022-09-05 14:44:08.704  INFO 16812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:85073b3b0d7d3df874d6057d974ad0ce: registering service...
2022-09-05 14:44:08.784  INFO 16812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:85073b3b0d7d3df874d6057d974ad0ce - registration status: 204
2022-09-05 14:44:10.131  INFO 16812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Started PaymentServiceApplication in 21.831 seconds (JVM running for 24.486)
2022-09-05 14:44:10.716  INFO 16812 --- [RMI TCP Connection(6)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 14:45:01.834  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:46:07.684  INFO 21804 --- [http-nio-8081-exec-1] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001)
2022-09-05 14:46:07.840 TRACE 21804 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=41903a98-79e7-415b-8813-46e8dd10a971, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 14:46:07.853  INFO 21804 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create entity: OrderEntity(id=41903a98-79e7-415b-8813-46e8dd10a971, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 14:46:07.984  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=41903a98-79e7-415b-8813-46e8dd10a971, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 14:46:08.557 TRACE 3408 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 14:46:08.566 TRACE 3408 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 14:46:08.586 TRACE 3408 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 14:46:08.594 TRACE 3408 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 14:46:08.599 TRACE 3408 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 14:46:08.727 TRACE 3408 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 14:46:08.885  INFO 3408 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Reserve product quantity: ProductEntity(id=8390a283-bf44-4490-9954-ca2f2f6df8de, name=Product_002, description=Product_002, updatedAt=2022-09-05T14:46:08.885680600, createdAt=2022-09-04T16:23:18.448158300Z, version=4, isActive=true, price=10.0, quantity=5)
2022-09-05 14:46:08.976  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after reserve product: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 14:46:08.989  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Send user payment details query: FetchUserPaymentDetailsQuery(userId=user_001)
2022-09-05 14:46:09.031 TRACE 21804 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)}, metadata={'traceId'->'8c35403e-f331-45c3-a4c0-9580e47836fd', 'correlationId'->'8e04b9fc-6d45-4663-8272-d818679a58bc'}, messageIdentifier='f5f56ea4-f516-4ab6-9c94-23bdfbfb2ce3', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 14:46:09.032 TRACE 21804 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'8c35403e-f331-45c3-a4c0-9580e47836fd', 'correlationId'->'f5f56ea4-f516-4ab6-9c94-23bdfbfb2ce3'}, messageIdentifier='7e4c6fd0-2c39-48e8-b206-30521675869f', exception='null'}
2022-09-05 14:46:09.033  INFO 21804 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product completed
2022-09-05 14:46:09.200  INFO 16128 --- [QueryProcessor-0] c.l.m.u.query.handler.UserEventsHandler  : Find user payment detail query handle; FetchUserPaymentDetailsQuery(userId=user_001)
2022-09-05 14:46:09.253  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : User payment details query: User(firstName=Liem, lastName=Doan, userId=user_001, paymentDetails=PaymentDetails(name=Liem Doan, cardNumber=123Card, validUntilMonth=12, validUntilYear=2030, cvv=123))
2022-09-05 14:46:09.280  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Send payment process command: ProcessPaymentCommand(paymentId=6d45064a-491e-4d10-9f09-e1d3e2770a81, orderId=41903a98-79e7-415b-8813-46e8dd10a971, paymentDetails=PaymentDetails(name=Liem Doan, cardNumber=123Card, validUntilMonth=12, validUntilYear=2030, cvv=123))
2022-09-05 14:46:09.386  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Payment process completed: 6d45064a-491e-4d10-9f09-e1d3e2770a81
2022-09-05 14:46:09.387  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] c.l.m.p.q.handler.PaymentEventsHandler   : PaymentProcessedEvent is called for orderId: 41903a98-79e7-415b-8813-46e8dd10a971
2022-09-05 14:46:09.433  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after payment process: PaymentProcessedEvent(paymentId=6d45064a-491e-4d10-9f09-e1d3e2770a81, orderId=41903a98-79e7-415b-8813-46e8dd10a971, paymentDetails=null)
2022-09-05 14:46:09.436  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Send approve order command: ApproveOrderCommand(orderId=41903a98-79e7-415b-8813-46e8dd10a971)
2022-09-05 14:46:09.534 TRACE 21804 --- [grpc-default-executor-1] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Command message: GenericCommandMessage{payload={ApproveOrderCommand(orderId=41903a98-79e7-415b-8813-46e8dd10a971)}, metadata={'traceId'->'8c35403e-f331-45c3-a4c0-9580e47836fd', 'correlationId'->'edf18a15-f9ce-4149-bb6a-fa68dfb3cdf9'}, messageIdentifier='958fbe1b-b087-403f-9bf3-5913e50add9e', commandName='com.liem.ms.orderservice.command.commands.ApproveOrderCommand'}
2022-09-05 14:46:09.534 TRACE 21804 --- [grpc-default-executor-1] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'8c35403e-f331-45c3-a4c0-9580e47836fd', 'correlationId'->'958fbe1b-b087-403f-9bf3-5913e50add9e'}, messageIdentifier='114d7afd-0226-45a9-8ccd-be7b29fc4721', exception='null'}
2022-09-05 14:46:09.535  INFO 21804 --- [grpc-default-executor-1] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Reserved product completed
2022-09-05 14:46:09.552  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Complete transaction : handle after approved order: OrderApprovedEvent(orderId=41903a98-79e7-415b-8813-46e8dd10a971, orderStatus=APPROVED)
2022-09-05 14:48:02.453  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:49:01.106  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:49:08.103  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:50:01.835  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:53:02.453  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:54:01.107  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:54:08.105  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:55:01.839  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:55:31.983  INFO 21804 --- [http-nio-8081-exec-3] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001)
2022-09-05 14:55:31.997 TRACE 21804 --- [CommandProcessor-2] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 14:55:31.998  INFO 21804 --- [CommandProcessor-2] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create entity: OrderEntity(id=364ba309-b250-4bf2-b3fe-243022b0c2b5, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 14:55:32.034  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 14:55:32.075 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 14:55:32.076 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 14:55:32.077 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 14:55:32.078 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 14:55:32.082 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 14:55:32.083 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 14:55:32.086 TRACE 3408 --- [CommandProcessor-1] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 14:55:32.090  INFO 3408 --- [CommandProcessor-1] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Reserve product quantity: ProductEntity(id=8390a283-bf44-4490-9954-ca2f2f6df8de, name=Product_002, description=Product_002, updatedAt=2022-09-05T14:55:32.090274, createdAt=2022-09-04T16:23:18.448158300Z, version=5, isActive=true, price=10.0, quantity=4)
2022-09-05 14:55:32.110 TRACE 21804 --- [grpc-default-executor-4] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)}, metadata={'traceId'->'056f02ad-56ca-4dc9-aa20-6dcc367af41d', 'correlationId'->'820cbc16-45f0-4fbc-aefa-f42e56da26e2'}, messageIdentifier='3a17a140-706f-442e-9a08-a7bbc250c672', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 14:55:32.110 TRACE 21804 --- [grpc-default-executor-4] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'056f02ad-56ca-4dc9-aa20-6dcc367af41d', 'correlationId'->'3a17a140-706f-442e-9a08-a7bbc250c672'}, messageIdentifier='381e8805-7186-45fd-bf61-0f85dffd887a', exception='null'}
2022-09-05 14:55:32.110  INFO 21804 --- [grpc-default-executor-4] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product completed
2022-09-05 14:55:32.126  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after reserve product: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 14:55:32.126  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Send user payment details query: FetchUserPaymentDetailsQuery(userId=user_001)
2022-09-05 14:55:32.141  INFO 16128 --- [QueryProcessor-1] c.l.m.u.query.handler.UserEventsHandler  : Find user payment detail query handle; FetchUserPaymentDetailsQuery(userId=user_001)
2022-09-05 14:55:32.155  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : User payment details query: User(firstName=Liem, lastName=Doan, userId=user_001, paymentDetails=PaymentDetails(name=Liem Doan, cardNumber=123Card, validUntilMonth=12, validUntilYear=2030, cvv=123))
2022-09-05 14:55:32.155  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Send payment process command: ProcessPaymentCommand(paymentId=61db6e95-1ac6-45ee-b38f-2be737a1ad39, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, paymentDetails=PaymentDetails(name=Liem Doan, cardNumber=123Card, validUntilMonth=12, validUntilYear=2030, cvv=123))
2022-09-05 14:55:32.192  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Payment process completed: 61db6e95-1ac6-45ee-b38f-2be737a1ad39
2022-09-05 14:55:32.196  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] c.l.m.p.q.handler.PaymentEventsHandler   : PaymentProcessedEvent is called for orderId: 364ba309-b250-4bf2-b3fe-243022b0c2b5
2022-09-05 14:55:32.228  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after payment process: PaymentProcessedEvent(paymentId=61db6e95-1ac6-45ee-b38f-2be737a1ad39, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, paymentDetails=null)
2022-09-05 14:55:32.228  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Send approve order command: ApproveOrderCommand(orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5)
2022-09-05 14:55:32.276 TRACE 21804 --- [grpc-default-executor-4] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Command message: GenericCommandMessage{payload={ApproveOrderCommand(orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5)}, metadata={'traceId'->'056f02ad-56ca-4dc9-aa20-6dcc367af41d', 'correlationId'->'0ece39f6-2b2f-4f0c-8025-5be7bc6257a6'}, messageIdentifier='b3a2ad5b-e69b-4a17-9380-3c54519d8d0a', commandName='com.liem.ms.orderservice.command.commands.ApproveOrderCommand'}
2022-09-05 14:55:32.276 TRACE 21804 --- [grpc-default-executor-4] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'056f02ad-56ca-4dc9-aa20-6dcc367af41d', 'correlationId'->'b3a2ad5b-e69b-4a17-9380-3c54519d8d0a'}, messageIdentifier='bb6ed5bc-f7ff-4e82-913c-0c9b774582be', exception='null'}
2022-09-05 14:55:32.276  INFO 21804 --- [grpc-default-executor-4] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Reserved product completed
2022-09-05 14:55:32.298  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Complete transaction : handle after approved order: OrderApprovedEvent(orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, orderStatus=APPROVED)
2022-09-05 14:58:02.455  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:59:01.110  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 14:59:08.107  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:00:01.841  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:03:02.457  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:04:01.111  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:04:08.108  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:05:01.844  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:08:02.459  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:09:01.112  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:09:08.110  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:10:01.846  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:13:02.460  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:14:01.113  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:14:08.112  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:15:01.847  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:18:02.461  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:19:01.115  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:19:08.113  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:20:01.849  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:23:02.463  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:24:01.116  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:24:08.114  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:25:01.850  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:28:02.465  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:29:01.117  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:29:08.115  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:30:01.851  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:33:02.466  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:34:01.119  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:34:08.116  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:35:01.852  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:38:02.467  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:39:01.122  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:39:08.119  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:40:01.855  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:43:02.470  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:44:01.124  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:44:08.122  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:45:01.856  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:48:02.471  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:49:01.125  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:49:08.123  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:50:01.858  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:53:02.472  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:54:01.127  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:54:08.124  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:55:01.859  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:58:02.475  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:59:01.129  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 15:59:08.125  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:00:01.860  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:03:02.476  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:04:01.131  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:04:08.128  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:05:01.861  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:08:02.477  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:09:01.132  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:09:08.129  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:10:01.863  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:13:02.479  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:14:01.134  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:14:08.131  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:15:01.864  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:18:02.479  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:19:01.136  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:19:08.133  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:20:01.867  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:23:02.481  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:24:01.139  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:24:08.134  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:25:01.869  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:28:02.483  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:29:01.140  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:29:08.135  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:30:01.871  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:33:02.486  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:34:01.142  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:34:08.138  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:35:01.873  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:38:02.487  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:39:01.143  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:39:08.139  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:40:01.874  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:43:02.488  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:44:01.144  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:44:08.141  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:45:01.877  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:48:02.490  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:49:01.147  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:49:08.142  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:50:01.878  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:53:02.492  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:54:01.148  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:54:08.143  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:55:01.881  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:58:02.495  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:59:01.149  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 16:59:08.144  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:00:01.882  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:03:02.496  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:04:01.151  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:04:08.146  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:05:01.885  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:08:02.498  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:09:01.152  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:09:08.147  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:10:01.887  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:13:02.500  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:14:01.159  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:14:08.148  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:15:01.887  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:18:02.501  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:19:01.161  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:19:08.150  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:20:01.888  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:23:02.503  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:24:01.162  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:24:08.151  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:25:01.890  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:28:02.504  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:29:01.163  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:29:08.152  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:30:01.891  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:33:02.506  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:34:01.163  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:34:08.154  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:35:01.893  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:38:02.508  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:39:01.165  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:39:08.156  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:40:01.895  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:43:02.509  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:44:01.167  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:44:08.157  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:45:01.896  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:48:02.510  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:49:01.168  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:49:08.159  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:50:01.898  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:53:02.512  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:54:01.169  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:54:08.160  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:55:01.900  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:58:02.513  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:59:01.170  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 17:59:08.162  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:00:01.901  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:03:02.514  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:04:01.171  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:04:08.163  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:05:01.902  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:08:02.515  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:09:01.172  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:09:08.165  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:10:01.905  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:13:02.516  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:14:01.173  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:14:08.167  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:15:01.906  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:18:02.518  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:19:01.175  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:19:08.169  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:20:01.907  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:23:02.519  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:24:01.176  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:24:08.169  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:25:01.908  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:28:02.520  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:29:01.176  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:29:08.171  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:30:01.910  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:33:02.521  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:34:01.178  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:34:08.172  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:35:01.912  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:38:02.523  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:39:01.180  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:39:08.173  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:40:01.914  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:43:02.524  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:44:01.181  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:44:08.175  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:45:01.917  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:48:02.527  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:49:01.182  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:49:08.176  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:50:01.919  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:53:02.528  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:54:01.185  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:54:08.178  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:55:01.920  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:58:02.530  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:59:01.187  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 18:59:08.181  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:00:01.921  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:03:02.532  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:04:01.190  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:04:08.183  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:05:01.923  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:08:02.534  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:09:01.191  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:09:08.184  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:10:01.924  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:13:02.538  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:14:01.193  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:14:08.187  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:15:01.927  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:18:02.539  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:19:01.194  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:19:08.189  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:20:01.928  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:23:02.541  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:24:01.196  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:24:08.190  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:25:01.929  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:28:02.542  INFO 21804 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:29:01.197  INFO 16128 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:29:08.191  INFO 16812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:30:01.931  INFO 3408 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:30:24.173  INFO 21804 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381024173, current=DOWN, previous=UP]
2022-09-05 19:30:24.177  INFO 21804 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:d7f7574342895fe5ee71f9bfe6bf3aaf: registering service...
2022-09-05 19:30:24.203  INFO 21804 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:d7f7574342895fe5ee71f9bfe6bf3aaf - registration status: 204
2022-09-05 19:30:24.561  INFO 21804 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 19:30:24.563  INFO 21804 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 19:30:25.375  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 19:30:25.377  INFO 21804 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 19:30:25.399  INFO 21804 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 19:30:25.400  INFO 21804 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 19:30:25.562  INFO 21804 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 19:30:25.571  INFO 21804 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 19:30:25.574  INFO 21804 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 19:30:28.578  INFO 21804 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 19:30:28.586  INFO 21804 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:d7f7574342895fe5ee71f9bfe6bf3aaf - deregister  status: 200
2022-09-05 19:30:28.593  INFO 21804 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 19:30:35.318  INFO 16128 --- [Thread-7] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381035318, current=DOWN, previous=UP]
2022-09-05 19:30:35.321  INFO 16128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:836874fe21599a0d83d3e2d4918930d6: registering service...
2022-09-05 19:30:35.343  INFO 3408 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381035343, current=DOWN, previous=UP]
2022-09-05 19:30:35.347  INFO 3408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1304dd3dfac120fce3e26f8a367e0528: registering service...
2022-09-05 19:30:35.348  INFO 16128 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:836874fe21599a0d83d3e2d4918930d6 - registration status: 204
2022-09-05 19:30:35.383  INFO 3408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1304dd3dfac120fce3e26f8a367e0528 - registration status: 204
2022-09-05 19:30:35.638  INFO 16812 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381035638, current=DOWN, previous=UP]
2022-09-05 19:30:35.642  INFO 16812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:85073b3b0d7d3df874d6057d974ad0ce: registering service...
2022-09-05 19:30:35.679  INFO 16812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:85073b3b0d7d3df874d6057d974ad0ce - registration status: 204
2022-09-05 19:30:35.731  INFO 3408 --- [Thread-1] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-09-05 19:30:35.734  INFO 16128 --- [Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-09-05 19:30:35.747  INFO 3408 --- [Thread-1] o.a.c.c.C.[.[localhost].[/product]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-09-05 19:30:35.750  INFO 16128 --- [Thread-7] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-09-05 19:30:35.836  INFO 3408 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 19:30:35.838  INFO 3408 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 19:30:35.840  INFO 3408 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 19:30:35.840  INFO 3408 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 19:30:35.841  INFO 3408 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 19:30:36.028  INFO 16812 --- [Thread-1] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-09-05 19:30:36.037  INFO 16128 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 19:30:36.051  INFO 16128 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 19:30:36.051  INFO 16812 --- [Thread-1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-09-05 19:30:36.061  INFO 16128 --- [Thread-7] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 19:30:36.118  INFO 16812 --- [Thread-1] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.paymentservice.query.handler'.
2022-09-05 19:30:36.120  INFO 16812 --- [Thread-1] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.paymentservice.query.handler' awaiting termination...
2022-09-05 19:30:36.167  INFO 3408 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 19:30:36.184  INFO 3408 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 19:30:36.208  INFO 3408 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 19:30:36.579  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 19:30:36.585  INFO 16812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 19:30:36.672  INFO 16812 --- [Thread-1] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ProcessPaymentCommand' in context 'default'
2022-09-05 19:30:37.096  INFO 16812 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 19:30:37.110  INFO 16812 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 19:30:37.117  INFO 16812 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 19:30:39.066  INFO 16128 --- [Thread-7] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 19:30:39.077  INFO 16128 --- [Thread-7] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:836874fe21599a0d83d3e2d4918930d6 - deregister  status: 200
2022-09-05 19:30:39.090  INFO 16128 --- [Thread-7] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 19:30:39.214  INFO 3408 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 19:30:39.225  INFO 3408 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:1304dd3dfac120fce3e26f8a367e0528 - deregister  status: 200
2022-09-05 19:30:39.243  INFO 3408 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 19:30:40.123  INFO 16812 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 19:30:40.139  INFO 16812 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:85073b3b0d7d3df874d6057d974ad0ce - deregister  status: 200
2022-09-05 19:30:40.161  INFO 16812 --- [Thread-1] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 19:30:43.410  INFO 9844 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 9844 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 19:30:43.413 DEBUG 9844 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 19:30:43.414  INFO 9844 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 19:30:49.107  INFO 9844 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 19:30:49.108  INFO 9844 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 19:30:49.283  INFO 9844 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 19:30:50.005  INFO 9844 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 19:30:50.195  INFO 9844 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 19:30:50.413  INFO 9844 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 19:30:50.630  INFO 9844 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 19:30:51.319  INFO 9844 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 19:30:51.409  INFO 9844 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 19:30:51.536  INFO 9844 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 19:30:51.615  INFO 9844 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 19:30:51.801  INFO 9844 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 19:30:51.956  INFO 9844 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 19:30:52.882  INFO 9844 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 19:30:53.380  INFO 9844 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 19:30:53.382  INFO 9844 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 19:30:53.384  INFO 9844 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 19:30:53.386  INFO 9844 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 19:30:58.566  INFO 9844 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 19:30:59.452  INFO 9844 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 19:30:59.486  INFO 9844 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 19:30:59.503  INFO 9844 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 19:30:59.505  INFO 9844 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 19:30:59.522  INFO 9844 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 19:30:59.523  INFO 9844 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 19:30:59.688  INFO 9844 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 19:30:59.704  INFO 9844 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 19:30:59.731  INFO 9844 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=27} for segment: Segment[0/0]
2022-09-05 19:30:59.746  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 19:30:59.760  INFO 9844 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:30:59.823  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 19:30:59.824  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 19:30:59.824  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 19:30:59.824  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 19:30:59.824  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 19:30:59.825  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 19:30:59.825  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 19:31:00.468  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 19:31:00.471  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 19:31:00.476  INFO 9844 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 19:31:00.484  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662381060483 with initial instances count: 3
2022-09-05 19:31:00.492  INFO 9844 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381060492, current=UP, previous=STARTING]
2022-09-05 19:31:00.495  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:8809a1dc3c4d3d32d1b441be4e505e38: registering service...
2022-09-05 19:31:00.550  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:8809a1dc3c4d3d32d1b441be4e505e38 - registration status: 204
2022-09-05 19:31:00.917  INFO 9844 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 18.887 seconds (JVM running for 21.755)
2022-09-05 19:31:01.759  INFO 9844 --- [RMI TCP Connection(15)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 19:31:22.939  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381082939, current=DOWN, previous=UP]
2022-09-05 19:31:22.939  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:8809a1dc3c4d3d32d1b441be4e505e38: registering service...
2022-09-05 19:31:22.947  INFO 9844 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:8809a1dc3c4d3d32d1b441be4e505e38 - registration status: 204
2022-09-05 19:31:23.172  INFO 9844 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 19:31:23.172  INFO 9844 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 19:31:23.456  INFO 9844 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 19:31:23.457  INFO 9844 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 19:31:23.482  INFO 9844 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 19:31:23.484  INFO 9844 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 19:31:23.485  INFO 9844 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 19:31:23.775  INFO 9844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 19:31:23.784  INFO 9844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 19:31:23.786  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 19:31:26.788  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 19:31:26.797  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:8809a1dc3c4d3d32d1b441be4e505e38 - deregister  status: 200
2022-09-05 19:31:26.802  INFO 9844 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 19:31:36.925  INFO 14668 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 14668 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 19:31:36.927 DEBUG 14668 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 19:31:36.929  INFO 14668 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 19:31:40.933  INFO 14668 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 19:31:40.933  INFO 14668 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 19:31:41.123  INFO 14668 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 19:31:41.843  INFO 14668 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 19:31:42.020  INFO 14668 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 19:31:42.217  INFO 14668 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 19:31:42.351  INFO 14668 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 19:31:42.958  INFO 14668 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 19:31:43.057  INFO 14668 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 19:31:43.207  INFO 14668 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 19:31:43.270  INFO 14668 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 19:31:43.433  INFO 14668 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 19:31:43.573  INFO 14668 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 19:31:44.449  INFO 14668 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 19:31:44.910  INFO 14668 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 19:31:44.911  INFO 14668 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 19:31:44.912  INFO 14668 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 19:31:44.913  INFO 14668 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 19:31:49.934  INFO 14668 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 19:31:50.666  INFO 14668 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 19:31:50.682  INFO 14668 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 19:31:50.699  INFO 14668 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 19:31:50.701  INFO 14668 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 19:31:50.710  INFO 14668 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 19:31:50.712  INFO 14668 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 19:31:50.858  INFO 14668 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 19:31:50.865  INFO 14668 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 19:31:50.889  INFO 14668 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=27} for segment: Segment[0/0]
2022-09-05 19:31:50.906  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 19:31:50.915  INFO 14668 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:31:50.950  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 19:31:50.951  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 19:31:50.951  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 19:31:50.951  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 19:31:50.951  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 19:31:50.951  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 19:31:50.951  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 19:31:51.484  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 19:31:51.488  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 19:31:51.492  INFO 14668 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 19:31:51.498  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662381111497 with initial instances count: 3
2022-09-05 19:31:51.507  INFO 14668 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381111507, current=UP, previous=STARTING]
2022-09-05 19:31:51.510  INFO 14668 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:7ba061cf234130df1ac840e5b3425253: registering service...
2022-09-05 19:31:51.565  INFO 14668 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:7ba061cf234130df1ac840e5b3425253 - registration status: 204
2022-09-05 19:31:51.904  INFO 14668 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 16.132 seconds (JVM running for 18.247)
2022-09-05 19:31:52.467  INFO 14668 --- [RMI TCP Connection(10)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 19:33:50.743  INFO 14668 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381230743, current=DOWN, previous=UP]
2022-09-05 19:33:50.743  INFO 14668 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:7ba061cf234130df1ac840e5b3425253: registering service...
2022-09-05 19:33:50.752  INFO 14668 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:7ba061cf234130df1ac840e5b3425253 - registration status: 204
2022-09-05 19:33:50.966  INFO 14668 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 19:33:50.967  INFO 14668 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 19:33:51.516  INFO 14668 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 19:33:51.517  INFO 14668 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 19:33:51.547  INFO 14668 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 19:33:51.549  INFO 14668 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 19:33:51.551  INFO 14668 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 19:33:51.730  INFO 14668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 19:33:51.743  INFO 14668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 19:33:51.746  INFO 14668 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 19:33:54.748  INFO 14668 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 19:33:54.755  INFO 14668 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:7ba061cf234130df1ac840e5b3425253 - deregister  status: 200
2022-09-05 19:33:54.761  INFO 14668 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 19:34:04.262  INFO 9896 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 9896 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 19:34:04.264 DEBUG 9896 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 19:34:04.264  INFO 9896 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 19:34:08.084  INFO 9896 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 19:34:08.085  INFO 9896 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 19:34:08.273  INFO 9896 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 19:34:09.029  INFO 9896 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 19:34:09.228  INFO 9896 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 19:34:09.437  INFO 9896 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 19:34:09.592  INFO 9896 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 19:34:10.313  INFO 9896 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 19:34:10.437  INFO 9896 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 19:34:10.595  INFO 9896 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 19:34:10.730  INFO 9896 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 19:34:10.930  INFO 9896 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 19:34:11.073  INFO 9896 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 19:34:11.916  INFO 9896 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 19:34:12.479  INFO 9896 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 19:34:12.480  INFO 9896 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 19:34:12.481  INFO 9896 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 19:34:12.483  INFO 9896 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 19:34:18.142  INFO 9896 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 19:34:18.921  INFO 9896 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 19:34:18.938  INFO 9896 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 19:34:18.955  INFO 9896 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 19:34:18.957  INFO 9896 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 19:34:18.967  INFO 9896 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 19:34:18.968  INFO 9896 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 19:34:19.115  INFO 9896 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 19:34:19.126  INFO 9896 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 19:34:19.155  INFO 9896 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=27} for segment: Segment[0/0]
2022-09-05 19:34:19.167  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 19:34:19.175  INFO 9896 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:34:19.256  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 19:34:19.256  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 19:34:19.256  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 19:34:19.256  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 19:34:19.256  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 19:34:19.257  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 19:34:19.257  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 19:34:20.037  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 19:34:20.042  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 19:34:20.048  INFO 9896 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 19:34:20.059  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662381260058 with initial instances count: 3
2022-09-05 19:34:20.071  INFO 9896 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662381260071, current=UP, previous=STARTING]
2022-09-05 19:34:20.075  INFO 9896 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:90200fbd5a775515536523651d21a672: registering service...
2022-09-05 19:34:20.158  INFO 9896 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:90200fbd5a775515536523651d21a672 - registration status: 204
2022-09-05 19:34:20.517  INFO 9896 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 17.4 seconds (JVM running for 19.478)
2022-09-05 19:34:21.188  INFO 9896 --- [RMI TCP Connection(7)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 19:39:19.261  INFO 9896 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:44:19.264  INFO 9896 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:49:19.266  INFO 9896 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:54:19.268  INFO 9896 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 19:59:19.269  INFO 9896 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:04:19.270  INFO 9896 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:29:20.914  INFO 2664 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 2664 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:29:20.917 DEBUG 2664 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:29:20.918  INFO 2664 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 20:29:27.896  INFO 2664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:29:27.897  INFO 2664 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:29:28.120  INFO 2664 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-05 20:29:29.017  INFO 10444 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 10444 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:29:29.019 DEBUG 10444 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:29:29.020  INFO 10444 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 20:29:29.351  INFO 2664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:29:29.676  INFO 2664 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:29:29.998  INFO 2664 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:29:30.397  INFO 2664 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:29:31.610  INFO 2664 --- [restartedMain] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2022-09-05 20:29:31.688  INFO 2664 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:29:31.989  INFO 2664 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_product_table.sql executed
2022-09-05 20:29:31.991  INFO 2664 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::1::liem ran successfully in 64ms
2022-09-05 20:29:32.193  INFO 2664 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_product_lookup_table.sql executed
2022-09-05 20:29:32.194  INFO 2664 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::2::liem ran successfully in 83ms
2022-09-05 20:29:32.225  INFO 2664 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:29:32.581  INFO 2664 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:29:32.733  INFO 2664 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:29:33.206  INFO 2664 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:29:33.578  INFO 2664 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:29:35.117  INFO 13976 --- [restartedMain] c.l.m.u.UserServiceApplication           : Starting UserServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 13976 (D:\Work\event-driven-ms\user-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:29:35.119 DEBUG 13976 --- [restartedMain] c.l.m.u.UserServiceApplication           : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:29:35.120  INFO 13976 --- [restartedMain] c.l.m.u.UserServiceApplication           : The following 1 profile is active: "dev"
2022-09-05 20:29:35.163  INFO 2664 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:29:35.220 TRACE 2664 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@3e7d60a8
2022-09-05 20:29:36.125  INFO 2664 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:36.127  INFO 2664 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:36.130  INFO 2664 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:36.132  INFO 2664 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:36.250 TRACE 2664 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@514522ae
2022-09-05 20:29:36.378  INFO 10444 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:29:36.379  INFO 10444 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:29:36.734  INFO 10444 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 20:29:37.347 TRACE 2664 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.ReserveProductCommandInterceptor@2229e9f9
2022-09-05 20:29:37.365 TRACE 2664 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@7ca6703c
2022-09-05 20:29:37.380 TRACE 2664 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@6f93cee7
2022-09-05 20:29:38.498  INFO 10444 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:29:38.883  INFO 10444 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:29:39.481  INFO 10444 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:29:39.945  INFO 10444 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:29:40.808  INFO 10444 --- [restartedMain] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2022-09-05 20:29:40.838  INFO 10444 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:29:41.081  INFO 10444 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_order_table.sql executed
2022-09-05 20:29:41.082  INFO 10444 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::1::liem ran successfully in 52ms
2022-09-05 20:29:41.119  INFO 10444 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:29:41.347  INFO 10444 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:29:41.437  INFO 10444 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:29:41.602  INFO 21812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Starting PaymentServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 21812 (D:\Work\event-driven-ms\payment-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:29:41.605 DEBUG 21812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:29:41.607  INFO 21812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 20:29:41.715  INFO 10444 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:29:41.969  INFO 10444 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:29:42.165  INFO 13976 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:29:42.166  INFO 13976 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:29:42.428  INFO 13976 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Initializing Spring embedded WebApplicationContext
2022-09-05 20:29:43.354  INFO 10444 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:29:43.529  INFO 13976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:29:43.772  INFO 13976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:29:44.026  INFO 10444 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:44.028  INFO 10444 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:44.030  INFO 10444 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:44.032  INFO 10444 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:44.070  INFO 13976 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:29:44.264  INFO 13976 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:29:44.686  INFO 13976 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:29:44.820  INFO 13976 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:29:45.106  INFO 13976 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:29:45.263  INFO 13976 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:29:45.657  INFO 13976 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:29:45.995  INFO 2664 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:29:46.016  INFO 13976 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:29:47.519  INFO 13976 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:29:47.540  INFO 21812 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:29:47.541  INFO 21812 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:29:47.828  INFO 2664 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:29:47.832  INFO 21812 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 20:29:47.863  INFO 2664 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:29:47.911  INFO 2664 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 20:29:47.930  INFO 2664 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-05 20:29:48.054  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 20:29:48.058  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 20:29:48.069  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 20:29:48.071  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 20:29:48.073  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 20:29:48.074  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 20:29:48.077  INFO 2664 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 20:29:48.194  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:29:48.202  INFO 2664 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:29:48.223  INFO 13976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:48.226  INFO 13976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:48.229  INFO 13976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:48.231  INFO 13976 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:48.259  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:29:48.260  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:29:48.261  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:29:48.261  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:29:48.262  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:29:48.263  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:29:48.264  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:29:49.245  INFO 21812 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:29:49.611  INFO 21812 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:29:49.651  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:29:49.655  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:29:49.661  INFO 2664 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:29:49.670  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662384589668 with initial instances count: 0
2022-09-05 20:29:49.681  INFO 2664 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662384589681, current=UP, previous=STARTING]
2022-09-05 20:29:49.686  INFO 2664 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:defb08be89278f0dc3f610c7a977a8b3: registering service...
2022-09-05 20:29:49.952  INFO 21812 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:29:50.091  INFO 2664 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:defb08be89278f0dc3f610c7a977a8b3 - registration status: 204
2022-09-05 20:29:50.234  INFO 21812 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:29:50.273  INFO 2664 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 31.065 seconds (JVM running for 34.826)
2022-09-05 20:29:50.486  INFO 2664 --- [RMI TCP Connection(14)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:29:51.346  INFO 21812 --- [restartedMain] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2022-09-05 20:29:51.388  INFO 21812 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:29:51.625  INFO 21812 --- [restartedMain] liquibase.changelog                      : SQL in file ../sql/structure/create_payment_table.sql executed
2022-09-05 20:29:51.628  INFO 21812 --- [restartedMain] liquibase.changelog                      : ChangeSet db/changelog/structure.xml::1::liem ran successfully in 82ms
2022-09-05 20:29:51.694  INFO 21812 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:29:52.057  INFO 21812 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:29:52.149  INFO 21812 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:29:52.397  INFO 21812 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:29:52.546  INFO 21812 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:29:53.297  INFO 10444 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:29:53.970  INFO 21812 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:29:54.479  INFO 10444 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:29:54.511  INFO 10444 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:29:54.541  INFO 10444 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 20:29:54.545  INFO 10444 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 20:29:54.561  INFO 10444 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 20:29:54.562  INFO 10444 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 20:29:54.856  INFO 10444 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 20:29:54.874  INFO 10444 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 20:29:54.911  INFO 10444 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=27} for segment: Segment[0/0]
2022-09-05 20:29:54.952  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:29:54.961  INFO 10444 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:29:55.028  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:29:55.029  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:29:55.029  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:29:55.029  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:29:55.030  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:29:55.030  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:29:55.030  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:29:55.818  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:29:55.822  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:29:55.827  INFO 10444 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:29:55.836  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662384595834 with initial instances count: 0
2022-09-05 20:29:55.866  INFO 10444 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662384595866, current=UP, previous=STARTING]
2022-09-05 20:29:55.872  INFO 10444 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:f6c8b194917becfdf3deecb6973a1b27: registering service...
2022-09-05 20:29:55.956  INFO 10444 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:f6c8b194917becfdf3deecb6973a1b27 - registration status: 204
2022-09-05 20:29:56.234  INFO 13976 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:29:56.336  INFO 10444 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 28.768 seconds (JVM running for 31.315)
2022-09-05 20:29:57.381  INFO 21812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:57.384  INFO 21812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:29:57.386  INFO 21812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:57.388  INFO 21812 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:29:57.577  INFO 10444 --- [RMI TCP Connection(11)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:29:57.613  INFO 13976 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:29:57.655  INFO 13976 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:29:57.705  INFO 13976 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 20:29:57.719  INFO 13976 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.coreservice.queries.FetchUserPaymentDetailsQuery : com.liem.ms.coreservice.models.User' in context 'default'
2022-09-05 20:29:57.814  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:29:57.821  INFO 13976 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:29:57.862  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:29:57.863  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:29:57.864  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:29:57.864  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:29:57.865  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:29:57.865  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:29:57.866  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:29:58.438  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:29:58.441  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:29:58.446  INFO 13976 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:29:58.454  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662384598452 with initial instances count: 0
2022-09-05 20:29:58.465  INFO 13976 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662384598465, current=UP, previous=STARTING]
2022-09-05 20:29:58.469  INFO 13976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:d19332cd03ff60eb44929d694e09dd70: registering service...
2022-09-05 20:29:58.531  INFO 13976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:d19332cd03ff60eb44929d694e09dd70 - registration status: 204
2022-09-05 20:29:58.941  INFO 13976 --- [restartedMain] c.l.m.u.UserServiceApplication           : Started UserServiceApplication in 25.315 seconds (JVM running for 28.288)
2022-09-05 20:29:59.927  INFO 13976 --- [RMI TCP Connection(15)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/user]   : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:30:01.620  INFO 21812 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:30:02.490  INFO 21812 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:30:02.505  INFO 21812 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:30:02.522  INFO 21812 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 20:30:02.524  INFO 21812 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ProcessPaymentCommand' in context 'default'
2022-09-05 20:30:02.761  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 20:30:02.771  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=com.liem.ms.paymentservice.query.handler, segment=Segment[0/0]}
2022-09-05 20:30:02.774  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:30:02.783  INFO 21812 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:30:02.784  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Fetched token: null for segment: Segment[0/0]
2022-09-05 20:30:02.831  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:30:02.831  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:30:02.832  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:30:02.832  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:30:02.832  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:30:02.833  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:30:02.833  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:30:02.953  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] c.l.m.p.q.handler.PaymentEventsHandler   : PaymentProcessedEvent is called for orderId: 41903a98-79e7-415b-8813-46e8dd10a971
2022-09-05 20:30:03.053  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] c.l.m.p.q.handler.PaymentEventsHandler   : PaymentProcessedEvent is called for orderId: 364ba309-b250-4bf2-b3fe-243022b0c2b5
2022-09-05 20:30:03.322  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:30:03.326  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:30:03.330  INFO 21812 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:30:03.336  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662384603335 with initial instances count: 3
2022-09-05 20:30:03.344  INFO 21812 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662384603344, current=UP, previous=STARTING]
2022-09-05 20:30:03.347  INFO 21812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:7d8aaccac7655e5aa5226960080630e0: registering service...
2022-09-05 20:30:03.403  INFO 21812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:7d8aaccac7655e5aa5226960080630e0 - registration status: 204
2022-09-05 20:30:03.779  INFO 21812 --- [restartedMain] c.l.m.p.PaymentServiceApplication        : Started PaymentServiceApplication in 23.752 seconds (JVM running for 26.709)
2022-09-05 20:30:04.274  INFO 21812 --- [RMI TCP Connection(9)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:30:19.656  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:30:19.657  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:30:19.657  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:30:19.657  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:30:19.657  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:30:19.657  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-05 20:30:19.657  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:30:19.672  INFO 2664 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:30:25.824  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:30:25.825  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:30:25.825  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:30:25.825  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:30:25.825  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:30:25.825  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-05 20:30:25.829  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:30:25.845  INFO 10444 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:30:28.444  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:30:28.444  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:30:28.444  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:30:28.444  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:30:28.444  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:30:28.444  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-09-05 20:30:28.445  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:30:28.461  INFO 13976 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:33:11.589  INFO 13976 --- [QueryProcessor-0] c.l.m.u.query.handler.UserEventsHandler  : Find user payment detail query handle; FetchUserPaymentDetailsQuery(userId=1)
2022-09-05 20:33:27.124  INFO 2664 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.5, quantity=100)
2022-09-05 20:33:27.129 TRACE 2664 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.5, quantity=100)}, metadata={}, messageIdentifier='3e6cbbdb-fd1d-4933-8ef5-af51a6641fb3', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-05 20:33:27.130  INFO 2664 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-05 20:33:27.131 TRACE 2664 --- [http-nio-8080-exec-1] m.p.c.i.ReserveProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.5, quantity=100)}, metadata={}, messageIdentifier='3e6cbbdb-fd1d-4933-8ef5-af51a6641fb3', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-05 20:33:27.131  INFO 2664 --- [http-nio-8080-exec-1] m.p.c.i.ReserveProductCommandInterceptor : Reserve product command interceptor handle
2022-09-05 20:33:27.132 ERROR 2664 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Exception in create product: CreateProductCommand(price=10.5, quantity=100) => class com.liem.ms.productservice.command.commands.product.CreateProductCommand cannot be cast to class com.liem.ms.coreservice.commands.ReserveProductCommand (com.liem.ms.productservice.command.commands.product.CreateProductCommand and com.liem.ms.coreservice.commands.ReserveProductCommand are in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @61118f76)
2022-09-05 20:33:52.095  INFO 2664 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662384832095, current=DOWN, previous=UP]
2022-09-05 20:33:52.096  INFO 2664 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:defb08be89278f0dc3f610c7a977a8b3: registering service...
2022-09-05 20:33:52.104  INFO 2664 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:defb08be89278f0dc3f610c7a977a8b3 - registration status: 204
2022-09-05 20:33:52.380  INFO 2664 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 20:33:52.382  INFO 2664 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 20:33:52.383  INFO 2664 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 20:33:52.384  INFO 2664 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 20:33:52.385  INFO 2664 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 20:33:52.386  INFO 2664 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 20:33:52.737  INFO 2664 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 20:33:52.746  INFO 2664 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 20:33:52.748  INFO 2664 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 20:33:55.751  INFO 2664 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 20:33:55.762  INFO 2664 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:defb08be89278f0dc3f610c7a977a8b3 - deregister  status: 200
2022-09-05 20:33:55.767  INFO 2664 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 20:34:04.804  INFO 25256 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 25256 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:34:04.806 DEBUG 25256 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:34:04.807  INFO 25256 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 20:34:08.519  INFO 25256 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:34:08.519  INFO 25256 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:34:08.682  INFO 25256 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-05 20:34:09.400  INFO 25256 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:34:09.576  INFO 25256 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:34:09.788  INFO 25256 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:34:09.925  INFO 25256 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:34:10.569  INFO 25256 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:34:10.653  INFO 25256 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:34:10.781  INFO 25256 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:34:10.856  INFO 25256 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:34:11.032  INFO 25256 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:34:11.168  INFO 25256 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:34:12.023  INFO 25256 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:34:12.055 TRACE 25256 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@5dac383d
2022-09-05 20:34:12.493  INFO 25256 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:34:12.493  INFO 25256 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:34:12.494  INFO 25256 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:34:12.495  INFO 25256 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:34:12.574 TRACE 25256 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@5bf6ce69
2022-09-05 20:34:13.065 TRACE 25256 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.ReserveProductCommandInterceptor@4d704d70
2022-09-05 20:34:13.070 TRACE 25256 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@3d56325b
2022-09-05 20:34:13.076 TRACE 25256 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@476a0bc5
2022-09-05 20:34:17.331  INFO 25256 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:34:18.089  INFO 25256 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:34:18.105  INFO 25256 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:34:18.128  INFO 25256 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 20:34:18.137  INFO 25256 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-05 20:34:18.205  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 20:34:18.207  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 20:34:18.213  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 20:34:18.213  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 20:34:18.214  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 20:34:18.215  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 20:34:18.216  INFO 25256 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 20:34:18.287  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:34:18.291  INFO 25256 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:34:18.321  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:34:18.322  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:34:18.322  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:34:18.322  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:34:18.322  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:34:18.322  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:34:18.323  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:34:18.801  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:34:18.804  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:34:18.808  INFO 25256 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:34:18.814  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662384858813 with initial instances count: 3
2022-09-05 20:34:18.822  INFO 25256 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662384858822, current=UP, previous=STARTING]
2022-09-05 20:34:18.824  INFO 25256 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:82156060706337c74f6c95f3d828a2bf: registering service...
2022-09-05 20:34:18.874  INFO 25256 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:82156060706337c74f6c95f3d828a2bf - registration status: 204
2022-09-05 20:34:19.183  INFO 25256 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 15.435 seconds (JVM running for 17.19)
2022-09-05 20:34:19.870  INFO 25256 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:34:55.033  INFO 10444 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:34:57.870  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:35:02.835  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:35:19.560  INFO 25256 --- [http-nio-8080-exec-1] c.l.m.p.c.s.i.ProductCommandServiceImpl  : Send create product command: ProductDto(price=10.5, quantity=100)
2022-09-05 20:35:19.564 TRACE 25256 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.5, quantity=100)}, metadata={}, messageIdentifier='8e68acaa-d5e5-4917-8fe7-9775d6bf03c6', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-05 20:35:19.564  INFO 25256 --- [http-nio-8080-exec-1] .m.p.c.i.DeleteProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-05 20:35:19.565 TRACE 25256 --- [http-nio-8080-exec-1] m.p.c.i.ReserveProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.5, quantity=100)}, metadata={}, messageIdentifier='8e68acaa-d5e5-4917-8fe7-9775d6bf03c6', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-05 20:35:19.565  INFO 25256 --- [http-nio-8080-exec-1] m.p.c.i.ReserveProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-05 20:35:19.566 TRACE 25256 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.5, quantity=100)}, metadata={}, messageIdentifier='8e68acaa-d5e5-4917-8fe7-9775d6bf03c6', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-05 20:35:19.566  INFO 25256 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Create product command interceptor handle
2022-09-05 20:35:19.733  INFO 25256 --- [http-nio-8080-exec-1] .m.p.c.i.CreateProductCommandInterceptor : Product creation is valid
2022-09-05 20:35:19.734 TRACE 25256 --- [http-nio-8080-exec-1] .m.p.c.i.UpdateProductCommandInterceptor : Interceptor command message: GenericCommandMessage{payload={CreateProductCommand(price=10.5, quantity=100)}, metadata={}, messageIdentifier='8e68acaa-d5e5-4917-8fe7-9775d6bf03c6', commandName='com.liem.ms.productservice.command.commands.product.CreateProductCommand'}
2022-09-05 20:35:19.735  INFO 25256 --- [http-nio-8080-exec-1] .m.p.c.i.UpdateProductCommandInterceptor : Pass to next dispatch interceptor
2022-09-05 20:35:19.853 TRACE 25256 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: CreateProductCommand(price=10.5, quantity=100)
2022-09-05 20:35:19.861 TRACE 25256 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.5, quantity=100)
2022-09-05 20:35:19.915 TRACE 25256 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductCreatedEvent(price=10.5, quantity=100)
2022-09-05 20:35:19.915  INFO 25256 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Save look up entity: ProductLookupEntity(productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, productName=Product_001, productQuantity=null)
2022-09-05 20:35:19.989 TRACE 25256 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductCreatedEvent(price=10.5, quantity=100)
2022-09-05 20:35:19.990  INFO 25256 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Create entity: ProductEntity(id=008f5f81-0e6e-48ff-b7ac-ff874405aedc, name=Product_001, description=Product_001, updatedAt=2022-09-05T13:35:19.990292200Z, createdAt=2022-09-05T13:35:19.990292200Z, version=1, isActive=true, price=10.5, quantity=100)
2022-09-05 20:37:10.517  INFO 25256 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662385030517, current=DOWN, previous=UP]
2022-09-05 20:37:10.518  INFO 25256 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:82156060706337c74f6c95f3d828a2bf: registering service...
2022-09-05 20:37:10.527  INFO 25256 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:82156060706337c74f6c95f3d828a2bf - registration status: 204
2022-09-05 20:37:10.761  INFO 25256 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 20:37:10.762  INFO 25256 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 20:37:10.762  INFO 25256 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 20:37:10.763  INFO 25256 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 20:37:10.764  INFO 25256 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 20:37:10.764  INFO 25256 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 20:37:11.191  INFO 25256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 20:37:11.200  INFO 25256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 20:37:11.202  INFO 25256 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 20:37:14.206  INFO 25256 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 20:37:14.223  INFO 25256 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:82156060706337c74f6c95f3d828a2bf - deregister  status: 200
2022-09-05 20:37:14.230  INFO 25256 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 20:37:24.311  INFO 24096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 24096 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:37:24.312 DEBUG 24096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:37:24.313  INFO 24096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 20:37:28.197  INFO 24096 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:37:28.198  INFO 24096 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:37:28.454  INFO 24096 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-05 20:37:29.231  INFO 24096 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:37:29.400  INFO 24096 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:37:29.599  INFO 24096 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:37:29.732  INFO 24096 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:37:30.389  INFO 24096 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:37:30.469  INFO 24096 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:37:30.596  INFO 24096 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:37:30.661  INFO 24096 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:37:30.825  INFO 24096 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:37:30.953  INFO 24096 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:37:31.734  INFO 24096 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:37:31.767 TRACE 24096 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@750c99ec
2022-09-05 20:37:32.219  INFO 24096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:37:32.220  INFO 24096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:37:32.221  INFO 24096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:37:32.222  INFO 24096 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:37:32.720 TRACE 24096 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@232eb9b0
2022-09-05 20:37:32.726 TRACE 24096 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@bf52bf9
2022-09-05 20:37:32.731 TRACE 24096 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.ReserveProductCommandInterceptor@45bf293c
2022-09-05 20:37:32.736 TRACE 24096 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@73e7fd80
2022-09-05 20:37:37.742  INFO 24096 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:37:38.543  INFO 24096 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:37:38.561  INFO 24096 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:37:38.588  INFO 24096 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 20:37:38.597  INFO 24096 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-05 20:37:38.671  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 20:37:38.673  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 20:37:38.680  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 20:37:38.681  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 20:37:38.682  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 20:37:38.683  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 20:37:38.684  INFO 24096 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 20:37:38.759  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:37:38.766  INFO 24096 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:37:38.798  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:37:38.798  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:37:38.799  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:37:38.799  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:37:38.799  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:37:38.799  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:37:38.799  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:37:39.263  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:37:39.267  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:37:39.271  INFO 24096 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:37:39.280  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662385059278 with initial instances count: 3
2022-09-05 20:37:39.290  INFO 24096 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662385059290, current=UP, previous=STARTING]
2022-09-05 20:37:39.293  INFO 24096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:8251e54560f6e236a7eb609904d3e39b: registering service...
2022-09-05 20:37:39.357  INFO 24096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:8251e54560f6e236a7eb609904d3e39b - registration status: 204
2022-09-05 20:37:39.679  INFO 24096 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 16.624 seconds (JVM running for 18.871)
2022-09-05 20:37:40.317  INFO 24096 --- [RMI TCP Connection(8)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:39:55.036  INFO 10444 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:39:57.871  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:40:02.838  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:42:38.802  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:44:22.548  INFO 10444 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662385462548, current=DOWN, previous=UP]
2022-09-05 20:44:22.549  INFO 10444 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:f6c8b194917becfdf3deecb6973a1b27: registering service...
2022-09-05 20:44:22.634  INFO 10444 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:f6c8b194917becfdf3deecb6973a1b27 - registration status: 204
2022-09-05 20:44:22.858  INFO 10444 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 20:44:22.859  INFO 10444 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 20:44:23.673  INFO 10444 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 20:44:23.676  INFO 10444 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 20:44:23.729  INFO 10444 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 20:44:23.732  INFO 10444 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 20:44:23.733  INFO 10444 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 20:44:24.103  INFO 10444 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 20:44:24.119  INFO 10444 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 20:44:24.123  INFO 10444 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 20:44:27.126  WARN 10444 --- [DiscoveryClient-1] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-09-05 20:44:27.126  INFO 10444 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 20:44:27.133  INFO 10444 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:f6c8b194917becfdf3deecb6973a1b27 - deregister  status: 200
2022-09-05 20:44:27.139  INFO 10444 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 20:44:40.513  INFO 3516 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 3516 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 20:44:40.514 DEBUG 3516 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 20:44:40.515  INFO 3516 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 20:44:44.773  INFO 3516 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 20:44:44.774  INFO 3516 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 20:44:44.975  INFO 3516 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 20:44:45.702  INFO 3516 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 20:44:45.893  INFO 3516 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 20:44:46.097  INFO 3516 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 20:44:46.238  INFO 3516 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 20:44:46.952  INFO 3516 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 20:44:47.039  INFO 3516 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 20:44:47.174  INFO 3516 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 20:44:47.255  INFO 3516 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 20:44:47.447  INFO 3516 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 20:44:47.597  INFO 3516 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 20:44:48.447  INFO 3516 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 20:44:48.958  INFO 3516 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:44:48.959  INFO 3516 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 20:44:48.960  INFO 3516 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:44:48.961  INFO 3516 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 20:44:53.905  INFO 3516 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 20:44:54.698  INFO 3516 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 20:44:54.735  INFO 3516 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 20:44:54.765  INFO 3516 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 20:44:54.768  INFO 3516 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 20:44:54.790  INFO 3516 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 20:44:54.792  INFO 3516 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 20:44:55.028  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 20:44:55.039  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 20:44:55.070  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=28} for segment: Segment[0/0]
2022-09-05 20:44:55.089  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 20:44:55.095  INFO 3516 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:44:55.139  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 20:44:55.140  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 20:44:55.140  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 20:44:55.140  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 20:44:55.141  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 20:44:55.142  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 20:44:55.142  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 20:44:55.706  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 20:44:55.713  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 20:44:55.717  INFO 3516 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 20:44:55.728  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662385495727 with initial instances count: 3
2022-09-05 20:44:55.741  INFO 3516 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662385495741, current=UP, previous=STARTING]
2022-09-05 20:44:55.743  INFO 3516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:56ee1656fd4e2e62357987e0cb31eb63: registering service...
2022-09-05 20:44:55.817  INFO 3516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:56ee1656fd4e2e62357987e0cb31eb63 - registration status: 204
2022-09-05 20:44:56.195  INFO 3516 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 16.778 seconds (JVM running for 19.286)
2022-09-05 20:44:56.624  INFO 3516 --- [RMI TCP Connection(3)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 20:44:57.873  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:45:02.840  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:47:38.804  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:49:55.050  INFO 3516 --- [http-nio-8081-exec-2] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, rejectReason=null)
2022-09-05 20:49:55.147  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:49:55.202 TRACE 3516 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 20:49:55.203  INFO 3516 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create order: OrderEntity(id=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=CREATED)
2022-09-05 20:49:55.340  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 20:49:55.585 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 20:49:55.588 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 20:49:55.599 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 20:49:55.600 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 20:49:55.602 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 20:49:55.605 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, userId=user_001)
2022-09-05 20:49:55.609 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, userId=user_001)
2022-09-05 20:49:55.645 TRACE 24096 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, userId=user_001)
2022-09-05 20:49:55.786 ERROR 24096 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 20:49:55.790 TRACE 24096 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, userId=user_001)
2022-09-05 20:49:55.815 ERROR 24096 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 20:49:55.816 ERROR 24096 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de with message GenericDomainEventMessage{payload={ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, userId=user_001)}, metadata={'traceId'->'6719918d-7232-4ce6-b4ff-4d5e2abbd3e8', 'correlationId'->'705e55f1-bf47-4a28-9511-4c046a8fc64e'}, messageIdentifier='cff145a7-ef99-4740-ad3b-1d85b18e45d3', timestamp='2022-09-05T13:49:55.609904800Z', aggregateType='ProductAggregate', aggregateIdentifier='8390a283-bf44-4490-9954-ca2f2f6df8de', sequenceNumber=5} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@19f3253a
2022-09-05 20:49:55.850 TRACE 3516 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=10c008e1-f18d-424a-8ecd-55ec7cdc9c3c, userId=user_001)}, metadata={'traceId'->'6719918d-7232-4ce6-b4ff-4d5e2abbd3e8', 'correlationId'->'b9474970-b858-462c-bddb-751afba367d9'}, messageIdentifier='705e55f1-bf47-4a28-9511-4c046a8fc64e', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 20:49:55.857 TRACE 3516 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={}, messageIdentifier='1f3c75b0-73a9-4d60-9443-08b607ca85e8', exception='org.axonframework.commandhandling.CommandExecutionException: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de'}
2022-09-05 20:49:55.858 ERROR 3516 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product failed
2022-09-05 20:49:57.876  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:50:02.841  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:52:38.806  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:54:55.149  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:54:57.878  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:55:02.843  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:57:38.808  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:59:55.150  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 20:59:57.880  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:00:02.845  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:02:38.810  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:04:55.152  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:04:57.882  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:05:02.847  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:07:38.812  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:08:12.338  INFO 3516 --- [http-nio-8081-exec-3] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, rejectReason=null)
2022-09-05 21:08:12.359 TRACE 3516 --- [CommandProcessor-1] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=a4497945-9071-43d1-b725-afb8bb530181, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:08:12.361  INFO 3516 --- [CommandProcessor-1] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create order: OrderEntity(id=a4497945-9071-43d1-b725-afb8bb530181, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=CREATED)
2022-09-05 21:08:12.404  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=a4497945-9071-43d1-b725-afb8bb530181, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:08:12.450 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 21:08:12.451 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 21:08:12.453 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 21:08:12.455 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 21:08:12.457 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 21:08:12.460 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=a4497945-9071-43d1-b725-afb8bb530181, userId=user_001)
2022-09-05 21:08:12.461 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=a4497945-9071-43d1-b725-afb8bb530181, userId=user_001)
2022-09-05 21:08:12.462 TRACE 24096 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=a4497945-9071-43d1-b725-afb8bb530181, userId=user_001)
2022-09-05 21:08:12.470 ERROR 24096 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 21:08:12.471 TRACE 24096 --- [CommandProcessor-1] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=a4497945-9071-43d1-b725-afb8bb530181, userId=user_001)
2022-09-05 21:08:12.474 ERROR 24096 --- [CommandProcessor-1] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 21:08:12.475 ERROR 24096 --- [CommandProcessor-1] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de with message GenericDomainEventMessage{payload={ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=a4497945-9071-43d1-b725-afb8bb530181, userId=user_001)}, metadata={'traceId'->'60093d8f-fd79-489a-8fe1-242560e03da0', 'correlationId'->'af628a4a-87b7-4414-893c-0707e3fe4e8d'}, messageIdentifier='473eb240-bb1c-46d4-8c58-e750ac313349', timestamp='2022-09-05T14:08:12.460029500Z', aggregateType='ProductAggregate', aggregateIdentifier='8390a283-bf44-4490-9954-ca2f2f6df8de', sequenceNumber=5} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@19f3253a
2022-09-05 21:08:12.481 TRACE 3516 --- [grpc-default-executor-3] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=a4497945-9071-43d1-b725-afb8bb530181, userId=user_001)}, metadata={'traceId'->'60093d8f-fd79-489a-8fe1-242560e03da0', 'correlationId'->'3a192f3f-442a-47f7-bc58-1034efc5d429'}, messageIdentifier='af628a4a-87b7-4414-893c-0707e3fe4e8d', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 21:08:12.481 TRACE 3516 --- [grpc-default-executor-3] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={}, messageIdentifier='7e9c9369-fa2f-4d98-9319-35c620c2a11b', exception='org.axonframework.commandhandling.CommandExecutionException: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de'}
2022-09-05 21:08:12.481 ERROR 3516 --- [grpc-default-executor-3] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product failed
2022-09-05 21:08:49.947  INFO 3516 --- [http-nio-8081-exec-4] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, rejectReason=null)
2022-09-05 21:08:49.963 TRACE 3516 --- [CommandProcessor-2] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:08:49.963  INFO 3516 --- [CommandProcessor-2] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create order: OrderEntity(id=ad4eea59-3f56-4094-aabf-ff613c76c712, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=CREATED)
2022-09-05 21:08:49.983  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:08:50.023 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 21:08:50.025 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 21:08:50.026 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 21:08:50.028 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 21:08:50.028 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 21:08:50.029 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, userId=user_001)
2022-09-05 21:08:50.029 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, userId=user_001)
2022-09-05 21:08:50.030 TRACE 24096 --- [CommandProcessor-2] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, userId=user_001)
2022-09-05 21:08:50.034 ERROR 24096 --- [CommandProcessor-2] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 21:08:50.035 TRACE 24096 --- [CommandProcessor-2] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, userId=user_001)
2022-09-05 21:08:50.039 ERROR 24096 --- [CommandProcessor-2] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 21:08:50.040 ERROR 24096 --- [CommandProcessor-2] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de with message GenericDomainEventMessage{payload={ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, userId=user_001)}, metadata={'traceId'->'2d7cca67-6316-40ad-a4de-772b2ea9d42e', 'correlationId'->'41940e30-7a93-4afe-a0cd-54eee4859a59'}, messageIdentifier='fc6f244a-b303-40f5-854b-bdfb6904ad11', timestamp='2022-09-05T14:08:50.029151300Z', aggregateType='ProductAggregate', aggregateIdentifier='8390a283-bf44-4490-9954-ca2f2f6df8de', sequenceNumber=5} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@19f3253a
2022-09-05 21:08:50.050 TRACE 3516 --- [grpc-default-executor-3] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=ad4eea59-3f56-4094-aabf-ff613c76c712, userId=user_001)}, metadata={'traceId'->'2d7cca67-6316-40ad-a4de-772b2ea9d42e', 'correlationId'->'31f57232-ae5e-44d8-a888-7e443fce7e78'}, messageIdentifier='41940e30-7a93-4afe-a0cd-54eee4859a59', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 21:08:50.051 TRACE 3516 --- [grpc-default-executor-3] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={}, messageIdentifier='e324108f-24c3-4655-93e8-8a1c4c361c9c', exception='org.axonframework.commandhandling.CommandExecutionException: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de'}
2022-09-05 21:08:50.051 ERROR 3516 --- [grpc-default-executor-3] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product failed
2022-09-05 21:09:55.154  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:09:57.883  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:10:02.850  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:12:38.815  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:14:55.156  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:14:57.884  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:15:02.852  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:17:38.816  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:19:55.158  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:19:57.885  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:20:02.854  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:22:38.818  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:24:55.159  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:24:57.887  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:25:02.856  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:27:38.820  INFO 24096 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:29:55.160  INFO 3516 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:29:57.889  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:30:02.857  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:30:57.010  INFO 24096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662388257010, current=DOWN, previous=UP]
2022-09-05 21:30:57.011  INFO 24096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:8251e54560f6e236a7eb609904d3e39b: registering service...
2022-09-05 21:30:57.024  INFO 24096 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:8251e54560f6e236a7eb609904d3e39b - registration status: 204
2022-09-05 21:30:57.281  INFO 24096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 21:30:57.282  INFO 24096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 21:30:57.282  INFO 24096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 21:30:57.283  INFO 24096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 21:30:57.284  INFO 24096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 21:30:57.284  INFO 24096 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 21:30:57.690  INFO 24096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 21:30:57.698  INFO 24096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 21:30:57.700  INFO 24096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 21:30:59.168  INFO 3516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662388259168, current=DOWN, previous=UP]
2022-09-05 21:30:59.169  INFO 3516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:56ee1656fd4e2e62357987e0cb31eb63: registering service...
2022-09-05 21:30:59.180  INFO 3516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:56ee1656fd4e2e62357987e0cb31eb63 - registration status: 204
2022-09-05 21:30:59.406  INFO 3516 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 21:30:59.406  INFO 3516 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 21:31:00.388  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 21:31:00.389  INFO 3516 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 21:31:00.412  INFO 3516 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 21:31:00.413  INFO 3516 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 21:31:00.414  INFO 3516 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 21:31:00.539  INFO 3516 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 21:31:00.549  INFO 3516 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 21:31:00.551  INFO 3516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 21:31:00.703  INFO 24096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 21:31:00.712  INFO 24096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:8251e54560f6e236a7eb609904d3e39b - deregister  status: 200
2022-09-05 21:31:00.718  INFO 24096 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 21:31:03.554  INFO 3516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 21:31:03.563  INFO 3516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:56ee1656fd4e2e62357987e0cb31eb63 - deregister  status: 200
2022-09-05 21:31:03.568  INFO 3516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 21:31:11.389  INFO 24912 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Starting ProductServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 24912 (D:\Work\event-driven-ms\product-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 21:31:11.391 DEBUG 24912 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 21:31:11.391  INFO 24912 --- [restartedMain] c.l.m.p.ProductServiceApplication        : The following 1 profile is active: "dev"
2022-09-05 21:31:16.362  INFO 24912 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 21:31:16.362  INFO 24912 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 21:31:16.561  INFO 24912 --- [restartedMain] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring embedded WebApplicationContext
2022-09-05 21:31:17.620  INFO 24912 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 21:31:17.994  INFO 24912 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 21:31:18.381  INFO 24912 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 21:31:18.633  INFO 24912 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 21:31:19.579  INFO 24912 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 21:31:19.673  INFO 24912 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 21:31:19.802  INFO 24912 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 21:31:19.863  INFO 24912 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 21:31:20.038  INFO 24912 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 21:31:20.191  INFO 24912 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 21:31:20.239  INFO 8856 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 8856 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 21:31:20.241 DEBUG 8856 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 21:31:20.242  INFO 8856 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 21:31:21.197  INFO 24912 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 21:31:21.235 TRACE 24912 --- [restartedMain] c.l.m.p.c.config.HandlerConfiguration    : Handler registration: com.liem.ms.productservice.command.handler.impl.ProductEventErrorHandler@7931022a
2022-09-05 21:31:21.757  INFO 24912 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 21:31:21.758  INFO 24912 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 21:31:21.760  INFO 24912 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 21:31:21.762  INFO 24912 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 21:31:21.820 TRACE 24912 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.DeleteProductCommandInterceptor@299028f1
2022-09-05 21:31:22.308 TRACE 24912 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.ReserveProductCommandInterceptor@489f5dd3
2022-09-05 21:31:22.314 TRACE 24912 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.UpdateProductCommandInterceptor@5b04773d
2022-09-05 21:31:22.319 TRACE 24912 --- [restartedMain] c.l.m.p.c.c.InterceptorConfiguration     : Handler registration: com.liem.ms.productservice.command.interceptor.CreateProductCommandInterceptor@4a30260b
2022-09-05 21:31:24.156  INFO 8856 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 21:31:24.156  INFO 8856 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 21:31:24.331  INFO 8856 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 21:31:25.106  INFO 8856 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 21:31:25.292  INFO 8856 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 21:31:25.508  INFO 8856 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 21:31:25.675  INFO 8856 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 21:31:26.316  INFO 8856 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 21:31:26.399  INFO 8856 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 21:31:26.538  INFO 8856 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 21:31:26.611  INFO 8856 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 21:31:26.818  INFO 8856 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 21:31:26.967  INFO 8856 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 21:31:26.989  INFO 24912 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 21:31:27.770  INFO 24912 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 21:31:27.787  INFO 24912 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 21:31:27.811  INFO 8856 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 21:31:27.814  INFO 24912 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : QueryChannel for context 'default' connected, 0 registrations resubscribed
2022-09-05 21:31:27.824  INFO 24912 --- [restartedMain] i.a.a.c.query.impl.QueryChannelImpl      : Registered handler for query 'com.liem.ms.productservice.query.queries.FindProductQuery : java.util.List<com.liem.ms.productservice.query.entity.ProductEntity>' in context 'default'
2022-09-05 21:31:27.895  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 21:31:27.897  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 21:31:27.903  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 21:31:27.904  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 21:31:27.905  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 21:31:27.906  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 21:31:27.907  INFO 24912 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 21:31:28.008  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 21:31:28.014  INFO 24912 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:31:28.051  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 21:31:28.052  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 21:31:28.052  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 21:31:28.052  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 21:31:28.052  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 21:31:28.052  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 21:31:28.053  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 21:31:28.339  INFO 8856 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 21:31:28.340  INFO 8856 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 21:31:28.341  INFO 8856 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 21:31:28.343  INFO 8856 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 21:31:28.441  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 21:31:28.446  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 21:31:28.450  INFO 24912 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 21:31:28.457  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662388288456 with initial instances count: 4
2022-09-05 21:31:28.466  INFO 24912 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662388288466, current=UP, previous=STARTING]
2022-09-05 21:31:28.469  INFO 24912 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c7189bb572428302b235a92579c6d494: registering service...
2022-09-05 21:31:28.527  INFO 24912 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c7189bb572428302b235a92579c6d494 - registration status: 204
2022-09-05 21:31:28.903  INFO 24912 --- [restartedMain] c.l.m.p.ProductServiceApplication        : Started ProductServiceApplication in 18.802 seconds (JVM running for 20.84)
2022-09-05 21:31:29.115  INFO 24912 --- [RMI TCP Connection(8)-172.27.30.1] o.a.c.c.C.[.[localhost].[/product]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 21:31:33.398  INFO 8856 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 21:31:34.167  INFO 8856 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 21:31:34.190  INFO 8856 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 21:31:34.209  INFO 8856 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 21:31:34.212  INFO 8856 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 21:31:34.222  INFO 8856 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 21:31:34.223  INFO 8856 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 21:31:34.382  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 21:31:34.395  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 21:31:34.428  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=31} for segment: Segment[0/0]
2022-09-05 21:31:34.444  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 21:31:34.453  INFO 8856 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:31:34.490  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 21:31:34.490  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 21:31:34.490  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 21:31:34.490  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 21:31:34.490  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 21:31:34.491  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 21:31:34.491  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 21:31:35.015  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 21:31:35.019  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 21:31:35.022  INFO 8856 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 21:31:35.028  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662388295027 with initial instances count: 3
2022-09-05 21:31:35.037  INFO 8856 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662388295037, current=UP, previous=STARTING]
2022-09-05 21:31:35.039  INFO 8856 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:5ee7e7c96a6ee68a88997015cc0fea30: registering service...
2022-09-05 21:31:35.090  INFO 8856 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:5ee7e7c96a6ee68a88997015cc0fea30 - registration status: 204
2022-09-05 21:31:35.399  INFO 8856 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 16.241 seconds (JVM running for 18.591)
2022-09-05 21:31:36.168  INFO 8856 --- [RMI TCP Connection(5)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 21:31:52.221  INFO 8856 --- [http-nio-8081-exec-1] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, rejectReason=null)
2022-09-05 21:31:52.333 TRACE 8856 --- [CommandProcessor-0] c.l.m.o.core.domain.OrderAggregate       : Create order command handle: CreateOrderCommand(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:31:52.345 TRACE 8856 --- [CommandProcessor-0] c.l.m.o.core.domain.OrderAggregate       : Order created event sourcing handle: OrderCreatedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:31:52.385 TRACE 8856 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:31:52.386  INFO 8856 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create order: OrderEntity(id=360878dc-8d39-4c61-9970-1ce021fc202e, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=CREATED)
2022-09-05 21:31:52.516  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:31:52.664 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 21:31:52.668 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 21:31:52.681 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 21:31:52.682 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 21:31:52.683 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 21:31:52.687 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Reserve product command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001)
2022-09-05 21:31:52.691 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001)
2022-09-05 21:31:52.737 TRACE 24912 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001)
2022-09-05 21:31:52.914 ERROR 24912 --- [CommandProcessor-0] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 21:31:52.917 TRACE 24912 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001)
2022-09-05 21:31:52.942 ERROR 24912 --- [CommandProcessor-0] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 21:31:52.943 ERROR 24912 --- [CommandProcessor-0] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de with message GenericDomainEventMessage{payload={ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001)}, metadata={'traceId'->'cafe858e-025e-4fbb-915e-fd3780369955', 'correlationId'->'9a202ee6-7d02-47ee-b782-201d90d335fc'}, messageIdentifier='377bc7f1-8a97-4bb6-b4a8-4696fe904c20', timestamp='2022-09-05T14:31:52.691027600Z', aggregateType='ProductAggregate', aggregateIdentifier='8390a283-bf44-4490-9954-ca2f2f6df8de', sequenceNumber=5} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@5ae89e22
2022-09-05 21:31:52.983 TRACE 8856 --- [grpc-default-executor-0] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001)}, metadata={'traceId'->'cafe858e-025e-4fbb-915e-fd3780369955', 'correlationId'->'81d1879b-a6a7-4281-99cd-2f303d4caba5'}, messageIdentifier='9a202ee6-7d02-47ee-b782-201d90d335fc', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 21:31:52.992 TRACE 8856 --- [grpc-default-executor-0] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={}, messageIdentifier='6b2125e6-7fbb-4958-b5cf-37f22cf45430', exception='org.axonframework.commandhandling.CommandExecutionException: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de'}
2022-09-05 21:31:52.992 ERROR 8856 --- [grpc-default-executor-0] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product failed: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 21:31:53.045 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 21:31:53.047 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 21:31:53.048 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 21:31:53.050 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 21:31:53.051 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 21:31:53.052 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Cancel product reserve command handle: CancelProductReserveCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.072 TRACE 24912 --- [CommandProcessor-1] c.l.m.p.core.domain.ProductAggregate     : Product cancel reserve event sourcing handle: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.076 TRACE 24912 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.080 ERROR 24912 --- [CommandProcessor-1] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 21:31:53.102 ERROR 8856 --- [grpc-default-executor-0] c.l.m.o.s.i.ReserveProductServiceImpl    : Cancel product '8390a283-bf44-4490-9954-ca2f2f6df8de' reservation failed
2022-09-05 21:31:53.127  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after cancel product reservation process: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.216 TRACE 8856 --- [CommandProcessor-1] c.l.m.o.core.domain.OrderAggregate       : Order created event sourcing handle: OrderCreatedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:31:53.220 TRACE 8856 --- [CommandProcessor-1] c.l.m.o.core.domain.OrderAggregate       : Reject order command handle: RejectOrderCommand(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.221 TRACE 8856 --- [CommandProcessor-1] c.l.m.o.core.domain.OrderAggregate       : Order reject event sourcing handle: OrderRejectedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, orderStatus=REJECTED, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.232 TRACE 8856 --- [CommandProcessor-1] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderRejectedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, orderStatus=REJECTED, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:31:53.240  INFO 8856 --- [CommandProcessor-1] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Reject order: OrderEntity(id=360878dc-8d39-4c61-9970-1ce021fc202e, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=REJECTED)
2022-09-05 21:31:53.263 TRACE 8856 --- [grpc-default-executor-0] c.l.m.o.s.impl.RejectOrderServiceImpl    : Command message: GenericCommandMessage{payload={RejectOrderCommand(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)}, metadata={'traceId'->'92d625a0-e295-435b-a750-f78615ca8f56', 'correlationId'->'fd09eff3-bdc5-401d-8b2c-a27c2af49c20'}, messageIdentifier='e83e8611-a41a-4be5-9b5b-2acb6f0f7bfd', commandName='com.liem.ms.orderservice.command.commands.RejectOrderCommand'}
2022-09-05 21:31:53.264 TRACE 8856 --- [grpc-default-executor-0] c.l.m.o.s.impl.RejectOrderServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'92d625a0-e295-435b-a750-f78615ca8f56', 'correlationId'->'e83e8611-a41a-4be5-9b5b-2acb6f0f7bfd'}, messageIdentifier='af1fda24-112c-494d-b805-d2adf833d5da', exception='null'}
2022-09-05 21:31:53.264  INFO 8856 --- [grpc-default-executor-0] c.l.m.o.s.impl.RejectOrderServiceImpl    : Reject order completed
2022-09-05 21:31:53.282  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Complete transaction : handle after reject order: OrderRejectedEvent(orderId=360878dc-8d39-4c61-9970-1ce021fc202e, orderStatus=REJECTED, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:34:57.891  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:35:02.860  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:35:44.562  INFO 8856 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662388544562, current=DOWN, previous=UP]
2022-09-05 21:35:44.562  INFO 8856 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:5ee7e7c96a6ee68a88997015cc0fea30: registering service...
2022-09-05 21:35:44.570  INFO 8856 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:5ee7e7c96a6ee68a88997015cc0fea30 - registration status: 204
2022-09-05 21:35:44.778  INFO 8856 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 21:35:44.780  INFO 8856 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 21:35:45.266  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 21:35:45.266  INFO 8856 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 21:35:45.287  INFO 8856 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 21:35:45.288  INFO 8856 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 21:35:45.289  INFO 8856 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 21:35:45.569  INFO 8856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 21:35:45.577  INFO 8856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 21:35:45.579  INFO 8856 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 21:35:48.582  INFO 8856 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 21:35:48.590  INFO 8856 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:5ee7e7c96a6ee68a88997015cc0fea30 - deregister  status: 200
2022-09-05 21:35:48.597  INFO 8856 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 21:35:58.024  INFO 21272 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Starting OrderServiceApplication using Java 11.0.12 on DESKTOP-6L79JE3 with PID 21272 (D:\Work\event-driven-ms\order-service\target\classes started by Liem in D:\Work\event-driven-ms)
2022-09-05 21:35:58.026 DEBUG 21272 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Running with Spring Boot v2.7.3, Spring v5.3.22
2022-09-05 21:35:58.026  INFO 21272 --- [restartedMain] c.l.m.o.OrderServiceApplication          : The following 1 profile is active: "dev"
2022-09-05 21:36:02.167  INFO 21272 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-09-05 21:36:02.168  INFO 21272 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-09-05 21:36:02.425  INFO 21272 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring embedded WebApplicationContext
2022-09-05 21:36:03.471  INFO 21272 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-09-05 21:36:03.740  INFO 21272 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-09-05 21:36:04.136  INFO 21272 --- [restartedMain] liquibase.database                       : Set default schema name to public
2022-09-05 21:36:04.293  INFO 21272 --- [restartedMain] liquibase.lockservice                    : Successfully acquired change log lock
2022-09-05 21:36:05.000  INFO 21272 --- [restartedMain] liquibase.changelog                      : Reading from public.databasechangelog
2022-09-05 21:36:05.099  INFO 21272 --- [restartedMain] liquibase.lockservice                    : Successfully released change log lock
2022-09-05 21:36:05.226  INFO 21272 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-09-05 21:36:05.286  INFO 21272 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2022-09-05 21:36:05.451  INFO 21272 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-09-05 21:36:05.592  INFO 21272 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-09-05 21:36:06.711  INFO 21272 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-09-05 21:36:07.239  INFO 21272 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 21:36:07.240  INFO 21272 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document
2022-09-05 21:36:07.241  INFO 21272 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 21:36:07.242  INFO 21272 --- [restartedMain] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document
2022-09-05 21:36:12.658  INFO 21272 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124
2022-09-05 21:36:13.418  INFO 21272 --- [restartedMain] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124
2022-09-05 21:36:13.434  INFO 21272 --- [restartedMain] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification
2022-09-05 21:36:13.450  INFO 21272 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered
2022-09-05 21:36:13.452  INFO 21272 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 21:36:13.460  INFO 21272 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 21:36:13.461  INFO 21272 --- [restartedMain] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 21:36:13.615  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker assigned to segment Segment[0/0] for processing
2022-09-05 21:36:13.626  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Using current Thread for last segment worker: TrackingSegmentWorker{processor=OrderSagaImplProcessor, segment=Segment[0/0]}
2022-09-05 21:36:13.654  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Fetched token: IndexTrackingToken{globalIndex=34} for segment: Segment[0/0]
2022-09-05 21:36:13.654  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-09-05 21:36:13.659  INFO 21272 --- [restartedMain] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:36:13.696  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-09-05 21:36:13.696  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-09-05 21:36:13.696  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-09-05 21:36:13.696  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-09-05 21:36:13.696  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-09-05 21:36:13.697  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-09-05 21:36:13.697  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-09-05 21:36:14.202  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-09-05 21:36:14.206  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-09-05 21:36:14.209  INFO 21272 --- [restartedMain] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-09-05 21:36:14.216  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1662388574215 with initial instances count: 3
2022-09-05 21:36:14.224  INFO 21272 --- [restartedMain] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662388574224, current=UP, previous=STARTING]
2022-09-05 21:36:14.226  INFO 21272 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:3efe7f9b5997654f54bd02f3f5d538e4: registering service...
2022-09-05 21:36:14.277  INFO 21272 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:3efe7f9b5997654f54bd02f3f5d538e4 - registration status: 204
2022-09-05 21:36:14.571  INFO 21272 --- [restartedMain] c.l.m.o.OrderServiceApplication          : Started OrderServiceApplication in 17.688 seconds (JVM running for 20.036)
2022-09-05 21:36:15.095  INFO 21272 --- [RMI TCP Connection(6)-172.27.30.1] o.a.c.c.C.[Tomcat].[localhost].[/order]  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-09-05 21:36:28.057  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:37:56.988  INFO 21272 --- [http-nio-8081-exec-1] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, rejectReason=null)
2022-09-05 21:37:57.066 TRACE 21272 --- [CommandProcessor-0] c.l.m.o.core.domain.OrderAggregate       : Create order command handle: CreateOrderCommand(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:37:57.076 TRACE 21272 --- [CommandProcessor-0] c.l.m.o.core.domain.OrderAggregate       : Order created event sourcing handle: OrderCreatedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:37:57.110 TRACE 21272 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:37:57.110  INFO 21272 --- [CommandProcessor-0] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create order: OrderEntity(id=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=CREATED)
2022-09-05 21:37:57.224  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:37:57.262 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 21:37:57.264 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 21:37:57.266 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 21:37:57.267 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 21:37:57.268 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 21:37:57.268 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product cancel reserve event sourcing handle: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.269 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Reserve product command handle: ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001)
2022-09-05 21:37:57.269 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001)
2022-09-05 21:37:57.271 TRACE 24912 --- [CommandProcessor-2] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001)
2022-09-05 21:37:57.276 ERROR 24912 --- [CommandProcessor-2] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 21:37:57.276 TRACE 24912 --- [CommandProcessor-2] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001)
2022-09-05 21:37:57.279 ERROR 24912 --- [CommandProcessor-2] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 21:37:57.280 ERROR 24912 --- [CommandProcessor-2] c.l.m.p.c.h.i.ProductEventErrorHandler   : Product event error handle Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de with message GenericDomainEventMessage{payload={ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001)}, metadata={'traceId'->'5f52c4c1-d003-4b37-9973-eb6eda77d41b', 'correlationId'->'3392569b-e9e3-4dfb-9cc7-3d38df00138d'}, messageIdentifier='38f61f6b-fada-44ac-bba1-9d03bf016c8b', timestamp='2022-09-05T14:37:57.269868200Z', aggregateType='ProductAggregate', aggregateIdentifier='8390a283-bf44-4490-9954-ca2f2f6df8de', sequenceNumber=6} by org.axonframework.eventhandling.AnnotationEventHandlerAdapter@5ae89e22
2022-09-05 21:37:57.300 TRACE 21272 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001)}, metadata={'traceId'->'5f52c4c1-d003-4b37-9973-eb6eda77d41b', 'correlationId'->'7491aeb8-b42b-442d-865c-b706db5b1f4f'}, messageIdentifier='3392569b-e9e3-4dfb-9cc7-3d38df00138d', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 21:37:57.308 TRACE 21272 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={}, messageIdentifier='d3058b1b-c5cb-41de-8aeb-91e6f78f9bbf', exception='org.axonframework.commandhandling.CommandExecutionException: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de'}
2022-09-05 21:37:57.309 ERROR 21272 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product failed: Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de
2022-09-05 21:37:57.342 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.0, quantity=10)
2022-09-05 21:37:57.343 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=3, orderId=d3cf1ed3-c284-4f79-9b6e-ca69face6970, userId=user_001)
2022-09-05 21:37:57.344 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=006a8dbc-efe6-4b18-968f-d9d9fb019dd8, userId=user_001)
2022-09-05 21:37:57.346 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=41903a98-79e7-415b-8813-46e8dd10a971, userId=user_001)
2022-09-05 21:37:57.346 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=364ba309-b250-4bf2-b3fe-243022b0c2b5, userId=user_001)
2022-09-05 21:37:57.347 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product cancel reserve event sourcing handle: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=360878dc-8d39-4c61-9970-1ce021fc202e, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.347 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Cancel product reserve command handle: CancelProductReserveCommand(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.348 TRACE 24912 --- [CommandProcessor-3] c.l.m.p.core.domain.ProductAggregate     : Product cancel reserve event sourcing handle: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.350 TRACE 24912 --- [CommandProcessor-3] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.354 ERROR 24912 --- [CommandProcessor-3] .m.p.c.h.i.ProductLookupEventHandlerImpl : Lookup entity with product id '8390a283-bf44-4490-9954-ca2f2f6df8de' not found
2022-09-05 21:37:57.370 ERROR 21272 --- [grpc-default-executor-1] c.l.m.o.s.i.ReserveProductServiceImpl    : Cancel product '8390a283-bf44-4490-9954-ca2f2f6df8de' reservation failed
2022-09-05 21:37:57.393  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after cancel product reservation process: ProductCancelReserveEvent(productId=8390a283-bf44-4490-9954-ca2f2f6df8de, quantity=1, orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, userId=user_001, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.444 TRACE 21272 --- [CommandProcessor-1] c.l.m.o.core.domain.OrderAggregate       : Order created event sourcing handle: OrderCreatedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:37:57.447 TRACE 21272 --- [CommandProcessor-1] c.l.m.o.core.domain.OrderAggregate       : Reject order command handle: RejectOrderCommand(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.449 TRACE 21272 --- [CommandProcessor-1] c.l.m.o.core.domain.OrderAggregate       : Order reject event sourcing handle: OrderRejectedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, orderStatus=REJECTED, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.456 TRACE 21272 --- [CommandProcessor-1] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderRejectedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, orderStatus=REJECTED, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:37:57.464  INFO 21272 --- [CommandProcessor-1] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Reject order: OrderEntity(id=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, productId=8390a283-bf44-4490-9954-ca2f2f6df8de, userId=user_001, quantity=1, addressId=address_001, rejectReason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de, orderStatus=REJECTED)
2022-09-05 21:37:57.480 TRACE 21272 --- [grpc-default-executor-2] c.l.m.o.s.impl.RejectOrderServiceImpl    : Command message: GenericCommandMessage{payload={RejectOrderCommand(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)}, metadata={'traceId'->'9e8dd693-96b8-434f-91c6-041a800a0893', 'correlationId'->'8ac485cb-4aab-46e5-b7c3-974ff622e880'}, messageIdentifier='e971cfb7-f032-4251-851d-451226fff9b1', commandName='com.liem.ms.orderservice.command.commands.RejectOrderCommand'}
2022-09-05 21:37:57.481 TRACE 21272 --- [grpc-default-executor-2] c.l.m.o.s.impl.RejectOrderServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'9e8dd693-96b8-434f-91c6-041a800a0893', 'correlationId'->'e971cfb7-f032-4251-851d-451226fff9b1'}, messageIdentifier='6d58cbe2-ac17-47c5-9040-8ede49d2b914', exception='null'}
2022-09-05 21:37:57.481  INFO 21272 --- [grpc-default-executor-2] c.l.m.o.s.impl.RejectOrderServiceImpl    : Reject order completed
2022-09-05 21:37:57.497  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Complete transaction : handle after reject order: OrderRejectedEvent(orderId=4eb0b42c-c4c5-40f0-bce7-7fd3fb2044ea, orderStatus=REJECTED, reason=Product is not found by id: 8390a283-bf44-4490-9954-ca2f2f6df8de)
2022-09-05 21:38:55.169  INFO 21272 --- [http-nio-8081-exec-2] c.l.m.o.c.s.i.OrderCommandServiceImpl    : Send create order command: OrderDto(id=null, userId=user_001, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, addressId=address_001, rejectReason=null)
2022-09-05 21:38:55.179 TRACE 21272 --- [CommandProcessor-2] c.l.m.o.core.domain.OrderAggregate       : Create order command handle: CreateOrderCommand(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:38:55.180 TRACE 21272 --- [CommandProcessor-2] c.l.m.o.core.domain.OrderAggregate       : Order created event sourcing handle: OrderCreatedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:38:55.183 TRACE 21272 --- [CommandProcessor-2] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderCreatedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:38:55.184  INFO 21272 --- [CommandProcessor-2] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Create order: OrderEntity(id=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=CREATED)
2022-09-05 21:38:55.226  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Start transaction : handle after created order: OrderCreatedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:38:55.255 TRACE 24912 --- [CommandProcessor-4] c.l.m.p.core.domain.ProductAggregate     : Product aggregate event sourcing handle: ProductCreatedEvent(price=10.5, quantity=100)
2022-09-05 21:38:55.256 TRACE 24912 --- [CommandProcessor-4] c.l.m.p.core.domain.ProductAggregate     : Reserve product command handle: ReserveProductCommand(productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001)
2022-09-05 21:38:55.256 TRACE 24912 --- [CommandProcessor-4] c.l.m.p.core.domain.ProductAggregate     : Product reserved event sourcing handle: ProductReservedEvent(id=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001)
2022-09-05 21:38:55.257 TRACE 24912 --- [CommandProcessor-4] .m.p.c.h.i.ProductLookupEventHandlerImpl : Product lookup handle: ProductReservedEvent(id=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001)
2022-09-05 21:38:55.274  INFO 24912 --- [CommandProcessor-4] .m.p.c.h.i.ProductLookupEventHandlerImpl : Reserve look up entity: ProductLookupEntity(productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, productName=Product_001, productQuantity=99)
2022-09-05 21:38:55.299 TRACE 24912 --- [CommandProcessor-4] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Product handle: ProductReservedEvent(id=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001)
2022-09-05 21:38:55.312  INFO 24912 --- [CommandProcessor-4] c.l.m.p.q.h.i.ProductEventHandlerImpl    : Reserve product quantity: ProductEntity(id=008f5f81-0e6e-48ff-b7ac-ff874405aedc, name=Product_001, description=Product_001, updatedAt=2022-09-05T21:38:55.312323200, createdAt=2022-09-05T13:35:19.990292200Z, version=2, isActive=true, price=10.5, quantity=99)
2022-09-05 21:38:55.377  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after reserve product: ProductReservedEvent(id=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001)
2022-09-05 21:38:55.381  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Send user payment details query: FetchUserPaymentDetailsQuery(userId=user_001)
2022-09-05 21:38:55.426 TRACE 21272 --- [grpc-default-executor-2] c.l.m.o.s.i.ReserveProductServiceImpl    : Command message: GenericCommandMessage{payload={ReserveProductCommand(productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, quantity=1, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, userId=user_001)}, metadata={'traceId'->'19acef8f-a0d9-45bf-b877-e19c6c51e4d5', 'correlationId'->'e87e2699-1449-468d-af2a-0fde0ae87c12'}, messageIdentifier='cda8b823-dd2a-480c-ad13-aa075b066dd9', commandName='com.liem.ms.coreservice.commands.ReserveProductCommand'}
2022-09-05 21:38:55.427 TRACE 21272 --- [grpc-default-executor-2] c.l.m.o.s.i.ReserveProductServiceImpl    : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'19acef8f-a0d9-45bf-b877-e19c6c51e4d5', 'correlationId'->'cda8b823-dd2a-480c-ad13-aa075b066dd9'}, messageIdentifier='1ea4cf14-ac23-459a-a80c-6685406d9d79', exception='null'}
2022-09-05 21:38:55.427  INFO 21272 --- [grpc-default-executor-2] c.l.m.o.s.i.ReserveProductServiceImpl    : Reserved product '008f5f81-0e6e-48ff-b7ac-ff874405aedc' with reserved quantity 1 items
2022-09-05 21:38:55.553  INFO 13976 --- [QueryProcessor-3] c.l.m.u.query.handler.UserEventsHandler  : Find user payment detail query handle; FetchUserPaymentDetailsQuery(userId=user_001)
2022-09-05 21:38:55.630  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : User payment details query: User(firstName=Liem, lastName=Doan, userId=user_001, paymentDetails=PaymentDetails(name=Liem Doan, cardNumber=123Card, validUntilMonth=12, validUntilYear=2030, cvv=123))
2022-09-05 21:38:55.645  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Send payment process command: ProcessPaymentCommand(paymentId=75d45b88-586a-4226-a0f5-a32bceeaca33, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, paymentDetails=PaymentDetails(name=Liem Doan, cardNumber=123Card, validUntilMonth=12, validUntilYear=2030, cvv=123))
2022-09-05 21:38:55.830  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] c.l.m.p.q.handler.PaymentEventsHandler   : PaymentProcessedEvent is called for orderId: 868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27
2022-09-05 21:38:55.836  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.i.ProcessPaymentServiceImpl    : Payment process '75d45b88-586a-4226-a0f5-a32bceeaca33' completed
2022-09-05 21:38:55.881  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Handle after payment process: PaymentProcessedEvent(paymentId=75d45b88-586a-4226-a0f5-a32bceeaca33, orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, paymentDetails=null)
2022-09-05 21:38:55.883  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Send approve order command: ApproveOrderCommand(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27)
2022-09-05 21:38:55.919 TRACE 21272 --- [CommandProcessor-3] c.l.m.o.core.domain.OrderAggregate       : Order created event sourcing handle: OrderCreatedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, userId=user_001, quantity=1, addressId=address_001, orderStatus=CREATED)
2022-09-05 21:38:55.920 TRACE 21272 --- [CommandProcessor-3] c.l.m.o.core.domain.OrderAggregate       : Approve order command handle: ApproveOrderCommand(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27)
2022-09-05 21:38:55.921 TRACE 21272 --- [CommandProcessor-3] c.l.m.o.core.domain.OrderAggregate       : Order approve event sourcing handle: OrderApprovedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, orderStatus=APPROVED)
2022-09-05 21:38:55.925 TRACE 21272 --- [CommandProcessor-3] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Order handle: OrderApprovedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, orderStatus=APPROVED)
2022-09-05 21:38:55.930  INFO 21272 --- [CommandProcessor-3] c.l.m.o.q.h.impl.OrderEventsHandlerImpl  : Approve order: OrderEntity(id=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, productId=008f5f81-0e6e-48ff-b7ac-ff874405aedc, userId=user_001, quantity=1, addressId=address_001, rejectReason=null, orderStatus=APPROVED)
2022-09-05 21:38:55.949 TRACE 21272 --- [grpc-default-executor-2] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Command message: GenericCommandMessage{payload={ApproveOrderCommand(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27)}, metadata={'traceId'->'19acef8f-a0d9-45bf-b877-e19c6c51e4d5', 'correlationId'->'8681ebb8-7055-4154-8032-2f2130dbed26'}, messageIdentifier='931418de-543c-4320-b1b0-a7d057251606', commandName='com.liem.ms.orderservice.command.commands.ApproveOrderCommand'}
2022-09-05 21:38:55.950 TRACE 21272 --- [grpc-default-executor-2] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Command result message: GenericCommandResultMessage{payload={null}, metadata={'traceId'->'19acef8f-a0d9-45bf-b877-e19c6c51e4d5', 'correlationId'->'931418de-543c-4320-b1b0-a7d057251606'}, messageIdentifier='9ef73ae0-6142-475c-8cd1-e59639f4fb46', exception='null'}
2022-09-05 21:38:55.950  INFO 21272 --- [grpc-default-executor-2] c.l.m.o.s.impl.ApproveOrderServiceImpl   : Approve order '868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27' completed
2022-09-05 21:38:55.974  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] c.l.m.o.saga.impl.OrderSagaImpl          : Complete transaction : handle after approved order 'OrderApprovedEvent(orderId=868ede5a-6ec6-4efd-aaf6-ab4e4fb59e27, orderStatus=APPROVED)'
2022-09-05 21:39:57.892  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:40:02.862  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:41:13.700  INFO 21272 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:41:28.058  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:44:57.894  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:45:02.863  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:46:13.702  INFO 21272 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:46:28.060  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:49:57.895  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:50:02.865  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:51:13.702  INFO 21272 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:51:28.061  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:54:57.897  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:55:02.866  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:56:13.703  INFO 21272 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:56:28.062  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 21:59:57.899  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:00:02.867  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:01:13.705  INFO 21272 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:01:28.064  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:04:57.900  INFO 13976 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:05:02.869  INFO 21812 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:06:13.707  INFO 21272 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:06:28.065  INFO 24912 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-09-05 22:09:28.385  INFO 24912 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662390568385, current=DOWN, previous=UP]
2022-09-05 22:09:28.386  INFO 24912 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c7189bb572428302b235a92579c6d494: registering service...
2022-09-05 22:09:28.399  INFO 24912 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c7189bb572428302b235a92579c6d494 - registration status: 204
2022-09-05 22:09:28.409  INFO 21272 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662390568409, current=DOWN, previous=UP]
2022-09-05 22:09:28.410  INFO 21272 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:3efe7f9b5997654f54bd02f3f5d538e4: registering service...
2022-09-05 22:09:28.424  INFO 21272 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:3efe7f9b5997654f54bd02f3f5d538e4 - registration status: 204
2022-09-05 22:09:28.530  INFO 13976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662390568530, current=DOWN, previous=UP]
2022-09-05 22:09:28.531  INFO 13976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:d19332cd03ff60eb44929d694e09dd70: registering service...
2022-09-05 22:09:28.547  INFO 21812 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1662390568547, current=DOWN, previous=UP]
2022-09-05 22:09:28.549  INFO 21812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:7d8aaccac7655e5aa5226960080630e0: registering service...
2022-09-05 22:09:28.562  INFO 13976 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:d19332cd03ff60eb44929d694e09dd70 - registration status: 204
2022-09-05 22:09:28.582  INFO 21812 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:7d8aaccac7655e5aa5226960080630e0 - registration status: 204
2022-09-05 22:09:28.718  INFO 21272 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'OrderSagaImplProcessor'.
2022-09-05 22:09:28.719  INFO 21272 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'OrderSagaImplProcessor' awaiting termination...
2022-09-05 22:09:28.734  INFO 24912 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.CreateProductCommand' in context 'default'
2022-09-05 22:09:28.735  INFO 24912 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ReserveProductCommand' in context 'default'
2022-09-05 22:09:28.737  INFO 24912 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.SupplyProductCommand' in context 'default'
2022-09-05 22:09:28.738  INFO 24912 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.CancelProductReserveCommand' in context 'default'
2022-09-05 22:09:28.739  INFO 24912 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.product.UpdateProductCommand' in context 'default'
2022-09-05 22:09:28.739  INFO 24912 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.productservice.command.commands.common.DeleteCommand' in context 'default'
2022-09-05 22:09:29.032  INFO 21812 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Shutdown state set for Processor 'com.liem.ms.paymentservice.query.handler'.
2022-09-05 22:09:29.033  INFO 21812 --- [SpringApplicationShutdownHook] o.a.e.TrackingEventProcessor             : Processor 'com.liem.ms.paymentservice.query.handler' awaiting termination...
2022-09-05 22:09:29.133  INFO 13976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 22:09:29.144  INFO 13976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 22:09:29.149  INFO 24912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 22:09:29.149  INFO 13976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 22:09:29.159  INFO 24912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 22:09:29.161  INFO 24912 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 22:09:29.354  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 22:09:29.355  INFO 21272 --- [EventProcessor[OrderSagaImplProcessor]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 22:09:29.365  INFO 21272 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.ApproveOrderCommand' in context 'default'
2022-09-05 22:09:29.367  INFO 21272 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.CreateOrderCommand' in context 'default'
2022-09-05 22:09:29.368  INFO 21272 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.orderservice.command.commands.RejectOrderCommand' in context 'default'
2022-09-05 22:09:29.371  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Released claim
2022-09-05 22:09:29.373  INFO 21812 --- [EventProcessor[com.liem.ms.paymentservice.query.handler]-0] o.a.e.TrackingEventProcessor             : Worker for segment Segment[0/0] stopped.
2022-09-05 22:09:29.413  INFO 21812 --- [SpringApplicationShutdownHook] i.a.a.c.command.impl.CommandChannelImpl  : Unregistered handler for command 'com.liem.ms.coreservice.commands.ProcessPaymentCommand' in context 'default'
2022-09-05 22:09:29.855  INFO 21272 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 22:09:29.872  INFO 21272 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 22:09:29.876  INFO 21272 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 22:09:29.989  INFO 21812 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-09-05 22:09:30.005  INFO 21812 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-09-05 22:09:30.013  INFO 21812 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-09-05 22:09:32.153  INFO 13976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 22:09:32.153  WARN 13976 --- [DiscoveryClient-1] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2022-09-05 22:09:32.164  INFO 13976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/user-service:d19332cd03ff60eb44929d694e09dd70 - deregister  status: 200
2022-09-05 22:09:32.165  INFO 24912 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 22:09:32.174  INFO 24912 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/product-service:c7189bb572428302b235a92579c6d494 - deregister  status: 200
2022-09-05 22:09:32.175  INFO 13976 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 22:09:32.180  INFO 24912 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 22:09:32.879  INFO 21272 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 22:09:32.888  INFO 21272 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ORDER-SERVICE/order-service:3efe7f9b5997654f54bd02f3f5d538e4 - deregister  status: 200
2022-09-05 22:09:32.893  INFO 21272 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-09-05 22:09:33.019  INFO 21812 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-09-05 22:09:33.029  INFO 21812 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT-SERVICE/payment-service:7d8aaccac7655e5aa5226960080630e0 - deregister  status: 200
2022-09-05 22:09:33.042  INFO 21812 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
